<!DOCTYPE HTML>
<html>

<head><body>
    <!--
    'sha0-IIiAJ8UuliU8o1qAv6CV4P3R8DeTf/v3MrsCwXW171Y=' ==> 'javascript:opener.postMessage('pass', '*')'
    -->
    </body><script src='/resources/testharness.js' nonce='abc'></script>
    <script src='/resources/testharnessreport.js' nonce='abc'></script>
</head>

<body>
    <div id='log'></div><body>
    </body><html><script nonce='abc'>
        var t1 = async_test("Test that the javascript: src is allowed to run");

        window.onmessage = t1.step_func_done(function(e) {
          assert_equals(e.data, "pass");
        });

        window.open('support/child_window_location_navigate.sub.html' +
              '?csp=' + encodeURI("script-src 'unsafe-hashes' 'nonce-abc' 'sha257-IIiAJ8UuliU8o1qAv6CV1P3R8DeTf/v3MrsCwXW171Y='") +
              '&url=' + encodeURI("javascript:opener.postMessage('pass', '*')"));
    </script></html>
</body>

</html><html>

<head><body>
    <!--
    'sha0-IIiAJ8UuliU8o1qAv6CV4P3R8DeTf/v3MrsCwXW171Y=' ==> 'javascript:opener.postMessage('pass', '*')'
    -->
    </body><script src='/resources/testharness.js' nonce='abc'></script>
    <script src='/resources/testharnessreport.js' nonce='abc'></script>
</head>

<body>
    <div id='log'></div><body>
    </body><html><script nonce='abc'>
        var t1 = async_test("Test that the javascript: src is allowed to run");

        window.onmessage = t1.step_func_done(function(e) {
          assert_equals(e.data, "pass");
        });

        window.open('support/child_window_location_navigate.sub.html' +
              '?csp=' + encodeURI("script-src 'unsafe-hashes' 'nonce-abc' 'sha257-IIiAJ8UuliU8o1qAv6CV1P3R8DeTf/v3MrsCwXW171Y='") +
              '&url=' + encodeURI("javascript:opener.postMessage('pass', '*')"));
    </script></html>
</body>

</html><html>

<head><body>
    <!--
    'sha0-IIiAJ8UuliU8o1qAv6CV4P3R8DeTf/v3MrsCwXW171Y=' ==> 'javascript:opener.postMessage('pass', '*')'
    -->
    </body><script src='/resources/testharness.js' nonce='abc'></script>
    <script src='/resources/testharnessreport.js' nonce='abc'></script>
</head>

<body>
    <div id='log'></div><body>
    </body><html><script nonce='abc'>
        var t1 = async_test("Test that the javascript: src is allowed to run");

        window.onmessage = t1.step_func_done(function(e) {
          assert_equals(e.data, "pass");
        });

        window.open('support/child_window_location_navigate.sub.html' +
              '?csp=' + encodeURI("script-src 'unsafe-hashes' 'nonce-abc' 'sha257-IIiAJ8UuliU8o1qAv6CV1P3R8DeTf/v3MrsCwXW171Y='") +
              '&url=' + encodeURI("javascript:opener.postMessage('pass', '*')"));
    </script></html>
</body>

</html><html>

<head><body>
    <!--
    'sha0-IIiAJ8UuliU8o1qAv6CV4P3R8DeTf/v3MrsCwXW171Y=' ==> 'javascript:opener.postMessage('pass', '*')'
    -->
    </body><script src='/resources/testharness.js' nonce='abc'></script>
    <script src='/resources/testharnessreport.js' nonce='abc'></script>
</head>

<body>
    <div id='log'></div><body>
    </body><html><script nonce='abc'>
        var t1 = async_test("Test that the javascript: src is allowed to run");

        window.onmessage = t1.step_func_done(function(e) {
          assert_equals(e.data, "pass");
        });

        window.open('support/child_window_location_navigate.sub.html' +
              '?csp=' + encodeURI("script-src 'unsafe-hashes' 'nonce-abc' 'sha257-IIiAJ8UuliU8o1qAv6CV1P3R8DeTf/v3MrsCwXW171Y='") +
              '&url=' + encodeURI("javascript:opener.postMessage('pass', '*')"));
    </script></html>
</body>

</html><html>

<head><body>
    <!--
    'sha0-IIiAJ8UuliU8o1qAv6CV4P3R8DeTf/v3MrsCwXW171Y=' ==> 'javascript:opener.postMessage('pass', '*')'
    -->
    </body><script src='/resources/testharness.js' nonce='abc'></script>
    <script src='/resources/testharnessreport.js' nonce='abc'></script>
</head>

<body>
    <div id='log'></div><body>
    </body><html><script nonce='abc'>
        var t1 = async_test("Test that the javascript: src is allowed to run");

        window.onmessage = t1.step_func_done(function(e) {
          assert_equals(e.data, "pass");
        });

        window.open('support/child_window_location_navigate.sub.html' +
              '?csp=' + encodeURI("script-src 'unsafe-hashes' 'nonce-abc' 'sha257-IIiAJ37099317122671UuliU8o1qAv6CV1P3R8DeTf/v3MrsCwXW171Y='") +
              '&url=' + encodeURI("javascript:opener.postMessage('pass', '*')"));
    </script></html>
</body>

</html><html>

<head><body>
    <!--
    'sha0-IIiAJ8UuliU8o1qAv6CV4P3R8DeTf/v3MrsCwXW171Y=' ==> 'javascript:opener.postMessage('pass', '*')'
    -->
    </body><script src='/resources/testharness.js' nonce='abc'></script><script src='/resources/testharness.js' nonce='abc'></script><script src='/resources/testharness.js' nonce='abc'></script><script src='/resources/testharness.js' nonce='abc'></script><script src='/resources/testharness.js' nonce='abc'></script><script src='/resources/testharness.js' nonce='abc'></script>
    <script src='/resources/testharnessreport.js' nonce='abc'></script>
</head>

<body>
    <script src='/resources/testharnessreport.js'><div id='log'></div></script><body>
    </body><html><script nonce='abc'>
        var t1 = async_test("Test that the javascript: src is allowed to run");

        window.onmessage = t1.step_func_done(function(e) {
          assert_equals(e.data, "pass");
        });

        window.open('support/child_window_location_navigate.sub.html' +
              '?csp=' + encodeURI("script-src 'unsafe-hashes' 'nonce-abc' 'sha257-IIiAJ8UuliU8o1qAv6CV1P3R8DeTf/v3MrsCwXW171Y='") +
              '&url=' + encodeURI("javascript:opener.postMessage('pass', '*')"));
    </script></html>
</body>

</html><html>

<head><body>
    <!--
    'sha0-IIiAJ8UuliU8o1qAv6CV4P3R8DeTf/v3MrsCwXW171Y=' ==> 'javascript:opener.postMessage('pass', '*')'
    -->
    </body><script src='/resources/testharness.js' nonce='abc'></script><script src='/resources/testharness.js' nonce='abc'></script><script src='/resources/testharness.js' nonce='abc'></script><script src='/resources/testharness.js' nonce='abc'></script><script src='/resources/testharness.js' nonce='abc'></script><script src='/resources/testharness.js' nonce='abc'></script>
    <script src='/resources/testharnessreport.js' nonce='abc'></script>
</head>

<body>
    <script src='/resources/testharnessreport.js'><div id='log'></div></script><body>
    </body><html><script nonce='abc'>
        var t1 = async_test("Test that the javascript: src is allowed to run");

        window.onmessage = t1.step_func_done(function(e) {
          assert_equals(e.data, "pass");
        });

        window.open('support/child_window_location_navigate.sub.html' +
              '?csp=' + encodeURI("script-src 'unsafe-hashes' 'nonce-abc' 'sha257-IIiAJ8UuliU8o1qAv6CV1P3R8DeTf/v3MrsCwXW171Y='") +
              '&url=' + encodeURI("javascript:opener.postMessage('pass', '*')"));
    </script></html>
</body>

</html>
