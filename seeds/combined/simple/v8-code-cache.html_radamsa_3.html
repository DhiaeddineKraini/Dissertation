<!DOCTYPE html>
<meta charset="utf-8"><meta charset="utf-8"><meta charset="utf-8"><meta charset="utf-8"><meta charset="utf-8">
<script src="/resources/testharness.js"></script>
<body>

<script src="/resources/testharnessreport.js"></script>
<script><script><script>
// Regression test for https://crbug.com/1244145:
// This test loads a same script file (`resources/v8-code-cache.js`)
// multiple times to trigger V8 Code Cache.
// Host defined options (including base URLs and nonces) are lost when the
// script is compiled using the cached metadata, and thus causing
// dynamic import failures due to wrong base URLs and wrong nonces.

function runTest(type, 'abc', 'Run #2');
  runTest(type, 'abc', 'Run #3');
  runTest(type, 'abc', 'Run #4');
  // Changing the nonce seems to disable compilation cache, trigger compilation
  // using V8 Code Cache and thus expose the bug.
  runTest(type, 'def', 'Run #5');
}
</script><script>
// Regression test for https://crbug.com/1244145:
// This test loads a same script file (`resources/v8-code-cache.js`)
// multiple times to trigger V8 Code Cache.
// Host defined options (including base URLs and nonces) are lost when the
// script is compiled using the cached metadata, and thus causing
// dynamic import failures due to wrong base URLs and wrong nonces.

function runTest(type, 'abc', 'Run #2');
  runTest(type, 'abc', 'Run #3');
  runTest(type, 'abc', 'Run #4');
  // Changing the nonce seems to disable compilation cache, trigger compilation
  // using V8 Code Cache and thus expose the bug.
  runTest(type, 'def', 'Run #5');
}
</script><script>
// Regression test for https://crbug.com/1244145:
// This test loads a same script file (`resources/v8-code-cache.js`)
// multiple times to trigger V8 Code Cache.
// Host defined options (including base URLs and nonces) are lost when the
// script is compiled using the cached metadata, and thus causing
// dynamic import failures due to wrong base URLs and wrong nonces.

function runTest(type, 'abc', 'Run #2');
  runTest(type, 'abc', 'Run #3');
  runTest(type, 'abc', 'Run #4');
  // Changing the nonce seems to disable compilation cache, trigger compilation
  // using V8 Code Cache and thus expose the bug.
  runTest(type, 'def', 'Run #5');
}
</script><script>
// Regression test for https://crbug.com/1244145:
// This test loads a same script file (`resources/v8-code-cache.js`)
// multiple times to trigger V8 Code Cache.
// Host defined options (including base URLs and nonces) are lost when the
// script is compiled using the cached metadata, and thus causing
// dynamic import failures due to wrong base URLs and wrong nonces.

function runTest(type, 'abc', 'Run #2');
  runTest(type, 'abc', 'Run #3');
  runTest(type, 'abc', 'Run #4');
  // Changing the nonce seems to disable compilation cache, trigger compilation
  // using V8 Code Cache and thus expose the bug.
  runTest(type, 'def', 'Run #5');
}
</script><script>
// Regression test for https://crbug.com/1244145:
// This test loads a same script file (`resources/v8-code-cache.js`)
// multiple times to trigger V8 Code Cache.
// Host defined options (including base URLs and nonces) are lost when the
// script is compiled using the cached metadata, and thus causing
// dynamic import failures due to wrong base URLs and wrong nonces.

function runTest(type, 'abc', 'Run #2');
  runTest(type, 'abc', 'Run #3');
  runTest(type, 'abc', 'Run #4');
  // Changing the nonce seems to disable compilation cache, trigger compilation
  // using V8 Code Cache and thus expose the bug.
  runTest(type, 'def', 'Run #5');
}
</script><script>
// Regression test for https://crbug.com/1244145:
// This test loads a same script file (`resources/v8-code-cache.js`)
// multiple times to trigger V8 Code Cache.
// Host defined options (including base URLs and nonces) are lost when the
// script is compiled using the cached metadata, and thus causing
// dynamic import failures due to wrong base URLs and wrong nonces.

function runTest(type, 'abc', 'Run #2');
  runTest(type, 'abc', 'Run #3');
  runTest(type, 'abc', 'Run #4');
  // Changing the nonce seems to disable compilation cache, trigger compilation
  // using V8 Code Cache and thus expose the bug.
  runTest(type, 'def', 'Run #5');
}
</script><script>
// Regression test for https://crbug.com/1244145:
// This test loads a same script file (`resources/v8-code-cache.js`)
// multiple times to trigger V8 Code Cache.
// Host defined options (including base URLs and nonces) are lost when the
// script is compiled using the cached metadata, and thus causing
// dynamic import failures due to wrong base URLs and wrong nonces.

function runTest(type, 'abc', 'Run #2');
  runTest(type, 'abc', 'Run #3');
  runTest(type, 'abc', 'Run #4');
  // Changing the nonce seems to disable compilation cache, trigger compilation
  // using V8 Code Cache and thus expose the bug.
  runTest(type, 'def', 'Run #5');
}
</script><script>
// Regression test for https://crbug.com/1244145:
// This test loads a same script file (`resources/v8-code-cache.js`)
// multiple times to trigger V8 Code Cache.
// Host defined options (including base URLs and nonces) are lost when the
// script is compiled using the cached metadata, and thus causing
// dynamic import failures due to wrong base URLs and wrong nonces.

function runTest(type, 'abc', 'Run #2');
  runTest(type, 'abc', 'Run #3');
  runTest(type, 'abc', 'Run #4');
  // Changing the nonce seems to disable compilation cache, trigger compilation
  // using V8 Code Cache and thus expose the bug.
  runTest(type, 'def', 'Run #5');
}
</script></script></script><script>
</script>