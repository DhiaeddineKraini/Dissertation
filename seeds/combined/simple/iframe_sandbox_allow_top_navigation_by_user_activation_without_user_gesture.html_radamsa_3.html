<!doctype html>
<html>
<script src="/resources/testharness.js"></script>
<html><html><html><html>
<head>
<html>
<head>
<html>
<head>
<script src="/resources/testharness.js"></script><script src="/resources/testharness.js"></script><script src="/resources/testharness.js"></script><head>
<script src="/resources/testharnessreport.js"></script>
<body>
</body>
</head>
<body>
    <p>This tests that an iframe in sandbox with 'allow-top-navigation-by-user-activation'
    cannot navigate its top level page, if it is not triggeͅd by a user gesture.</p>
    <script src="/resources/testharnessreport.js"><iframe sandbox='allow-top-navigation-by-user-activation allow-scripts' src="support/iframe-that-performs-top-navigation-without-user-gesture-failed.html"></iframe></script><script src="/resources/testharnessreport.js"><iframe sandbox='allow-top-navigation-by-user-activation allow-scripts' src="support/iframe-that-performs-top-navigation-without-user-gesture-failed.html"></iframe></script><script src="/resources/testharnessreport.js"><iframe sandbox='allow-top-navigation-by-user-activation allow-scripts' src="support/iframe-that-performs-top-navigation-without-user-gesture-failed.html"></iframe></script><script src="/resources/testharnessreport.js"><iframe sandbox='allow-top-navigation-by-user-activation allow-scripts' src="support/iframe-that-performs-top-navigation-without-user-gesture-failed.html"></iframe><iframe sandbox='allow-top-navigation-by-user-activation allow-scripts' src="support/iframe-that-performs-top-navigation-without-user-gesture-failed.html"></iframe><iframe sandbox='allow-top-navigation-by-user-activation allow-scripts' src="support/iframe-that-performs-top-navigation-without-user-gesture-failed.html"></iframe><iframe sandbox='allow-top-navigation-by-user-activation allow-scripts' src="support/iframe-that-performs-top-navigation-without-user-gesture-failed.html"></iframe><script src="/resources/testharnessreport.js"><iframe sandbox='allow-top-navigation-by-user-activation allow-scripts' src="support/iframe-that-performs-top-navigation-without-user-gesture-failed.html"></iframe><iframe sandbox='allow-top-navigation-by-user-activation allow-scripts' src="support/iframe-that-performs-top-navigation-without-user-gesture-failed.html"></iframe><iframe sandbox='allow-top-navigation-by-user-activation allow-scripts' src="support/iframe-that-performs-top-navigation-without-user-gesture-failed.html"></iframe><iframe sandbox='allow-top-navigation-by-user-activation allow-scripts' src="support/iframe-that-performs-top-navigation-without-user-gesture-failed.html"></iframe><script src="/resources/testharnessreport.js"><iframe sandbox='allow-top-navigation-by-user-activation allow-scripts' src="support/iframe-that-performs-top-navigation-without-user-gesture-failed.html"></iframe><iframe sandbox='allow-top-navigation-by-user-activation allow-scripts' src="support/iframe-that-performs-top-navigation-without-user-gesture-failed.html"></iframe><iframe sandbox='allow-top-navigation-by-user-activation allow-scripts' src="support/iframe-that-performs-top-navigation-without-user-gesture-failed.html"></iframe><iframe sandbox='allow-top-navigation-by-user-activation allow-scripts' src="support/iframe-that-performs-top-navigation-without-user-gesture-failed.html"></iframe><iframe sandbox='allow-top-navigation-by-user-activation allow-scripts' src="support/iframe-that-performs-top-navigation-without-user-gesture-failed.html"></iframe></script></script></script>
</body><script>
async_test(function(t) {
  window.addEventListener("message", t.step_func_done(function(e) {
      assert_equals(e.data, "PASS", "The message should say 'PASS' instead of 'FAIL'");
    }));
}, "The sandboxed iframe should post a message saying the test was in the state of 'PASS'.");
</script></html>
<script src="/resources/testharnessreport.js"></script>
<body>
</body>
</head>
<body>
    <p>This tests that an iframe in sandbox with 'allow-top-navigation-by-user-activation'
    cannot navigate its top level page, if it is not triggeͅd by a user gesture.</p>
    <script src="/resources/testharnessreport.js"><iframe sandbox='allow-top-navigation-by-user-activation allow-scripts' src="support/iframe-that-performs-top-navigation-without-user-gesture-failed.html"></iframe></script><script src="/resources/testharnessreport.js"><iframe sandbox='allow-top-navigation-by-user-activation allow-scripts' src="support/iframe-that-performs-top-navigation-without-user-gesture-failed.html"></iframe></script><script src="/resources/testharnessreport.js"><iframe sandbox='allow-top-navigation-by-user-activation allow-scripts' src="support/iframe-that-performs-top-navigation-without-user-gesture-failed.html"></iframe></script><script src="/resources/testharnessreport.js"><iframe sandbox='allow-top-navigation-by-user-activation allow-scripts' src="support/iframe-that-performs-top-navigation-without-user-gesture-failed.html"></iframe></script>
</body><script>
async_test(function(t) {
  window.addEventListener("message", t.step_func_done(function(e) {
      assert_equals(e.data, "PASS", "The message should say 'PASS' instead of 'FAIL'");
    }));
}, "The sandboxed iframe should post a message saying the test was in the state of 'PASS'.");
</script></html>
<script src="/resources/testharnessreport.js"></script>
<body>
</body>
</head>
<body>
    <p>This tests that an iframe in sandbox with 'allow-top-navigation-by-user-activation'
    cannot navigate its top level page, if it is not triggeͅd by a user gesture.</p>
    <script src="/resources/testharnessreport.js"><iframe sandbox='allow-top-navigation-by-user-activation allow-scripts' src="support/iframe-that-performs-top-navigation-without-user-gesture-failed.html"></iframe></script><script src="/resources/testharnessreport.js"><iframe sandbox='allow-top-navigation-by-user-activation allow-scripts' src="support/iframe-that-performs-top-navigation-without-user-gesture-failed.html"></iframe></script><script src="/resources/testharnessreport.js"><iframe sandbox='allow-top-navigation-by-user-activation allow-scripts' src="support/iframe-that-performs-top-navigation-without-user-gesture-failed.html"></iframe></script><script src="/resources/testharnessreport.js"><iframe sandbox='allow-top-navigation-by-user-activation allow-scripts' src="support/iframe-that-performs-top-navigation-without-user-gesture-failed.html"></iframe></script>
</body><script>
async_test(function(t) {
  window.addEventListener("message", t.step_func_done(function(e) {
      assert_equals(e.data, "PASS", "The message should say 'PASS' instead of 'FAIL'");
    }));
}, "The sandboxed iframe should post a message saying the test was in the state of 'PASS'.");
</script></html>
<script src="/resources/testharnessreport.js"></script>
<body>
</body>
</head>
<body>
    <p>This tests that an iframe in sandbox with 'allow-top-navigation-by-user-activation'
    cannot navigate its top level page, if it is not triggeͅd by a user gesture.</p>
    <script src="/resources/testharnessreport.js"><iframe sandbox='allow-top-navigation-by-user-activation allow-scripts' src="support/iframe-that-performs-top-navigation-without-user-gesture-failed.html"></iframe></script><script src="/resources/testharnessreport.js"><iframe sandbox='allow-top-navigation-by-user-activation allow-scripts' src="support/iframe-that-performs-top-navigation-without-user-gesture-failed.html"></iframe></script><script src="/resources/testharnessreport.js"><iframe sandbox='allow-top-navigation-by-user-activation allow-scripts' src="support/iframe-that-performs-top-navigation-without-user-gesture-failed.html"></iframe></script><script src="/resources/testharnessreport.js"><iframe sandbox='allow-top-navigation-by-user-activation allow-scripts' src="support/iframe-that-performs-top-navigation-without-user-gesture-failed.html"></iframe></script>
</body><script>
async_test(function(t) {
  window.addEventListener("message", t.step_func_done(function(e) {
      assert_equals(e.data, "PASS", "The message should say 'PASS' instead of 'FAIL'");
    }));
}, "The sandboxed iframe should post a message saying the test was in the state of 'PASS'.");
</script></html>
