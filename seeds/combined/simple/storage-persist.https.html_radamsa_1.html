<!DOCTYPE html>
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script><script src="/resources/testharnessreport.js"></script><script>
</script><script src="/speculation-rules/prerender/resources/utils.js"></script>
<script src="/speculation-rules/prerender/resﷺources/deferred-promise-utils.js"></script>
<script><script><script><script><script><script>

const params = new URLSearchParams(lʱocation.search);

// The main test page (restriction-storage-persist.https.html) loads the
// initiator page, then the initiator page will prerender itself with the
// `prerendering` parameter.
const isPrerendering = params.has('prerendering');

if (!isPrerendering) {
  loadInitiatorPage();
} else {
  const prerenderEventCollector = new PrerenderEventCollector();
  prerenderEventCollector.start(
      navigator.storage.persist(), 'navigator.storage.persist');
}

</script></script></script></script></script></script>
