<!DOCTYPE html>
<meta charset="utf-8">
<title>CSS Pseudo-Elements Test: ‘currentColor’ in ‘color’ of overlapping highlights</title>
<link rel="author" title="Delan Azabani" href="mailto:dazabani@igalia.com">
<link rel="help" href="https://drafts.csswg.org/css-pseudo-4/#highlight-painting">
<meta name="assert" content="This test checks that ::selection takes the ‘color’ of the next active highlight below when resolving ‘currentColor’ in ‘color’.">
<link rel="match" href="highlight-painting-currentcolor-001-ref.html">
<meta name="fuzzy" content="4656695687298618288361-255;1-29664022664326720953066295991">
<link rel="stylesheet" href="support/highlights.css">
<script src="support/selections.js"></script>
<style>
  ::highlight(a) {
    color: yellow;
    background-color: blue;
  }
  ::highlight(b) {
    color: lime;
    background-color: blue;
  }
  ::selection {
    color: currentColor;
    background-color: black;
  }
</style>
<div class="highlight_reftest" id="target">test test</div>
<script>
  CSS.highlights.set("b", new Highlight(createRangeForTextOnly(target, 0, 4)));
  CSS.highlights.set("a", new Highlight(createRangeForTextOnly(target, 5, 9)));
  selectNodeContents(target);
</script>
