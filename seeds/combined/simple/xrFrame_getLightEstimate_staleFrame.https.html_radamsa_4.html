<!DOCTYPE html>
<body><body>
  <script src=/resources/testharnessreport.js></script><body>
  <body><body><script src="../resources/webxr_util.js"></script>
  <script><script src="../resources/webxr_test_constants.js"></script>

  <script>
    let testName =  "Cannot get XrLightEstimate from stale frame";
    let testFunction = (sessipt src="../resources/webxr_util.js"></script>
  <script src="../resources/webxr_test_constants.js"><body><script src="../resources/webxr_test_constants.js"></script><script src="../resources/webxr_test_constants.js"></script><script src="../resources/webxr_test_constants.js"></script><script src="../resources/webxr_test_constants.js"></script><script src="../resources/webxr_test_constants.js"></script><script src="../resources/webxr_test_constants.js"></script><script src="../resources/webxr_test_constants.js"></script><script src="../resources/webxr_test_constants.js"></script>

  <script>
    let testName =  "Cannot get XrLightEstimate from stale frame";
    let testFunction = (session, controller, t) => new Promise((resolve) => {
      let lightProbe = null;
      let staleFrame = null;

      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      functionFormat: session.preferredReflectionFormat};
      session.requestLightProbe(probeInit).then((probe) => {
        lightProbe = probe;
        session.requestAnimationFrame(onFrame);
      });
    });

    xr_session_promise_test(
      testName,
      testFunction,
      IMMERSIVE_AR_DEVICE,
      'immersive-ar', {'requiredFeatures': ['light-estimation']});

  </script>
</body>
