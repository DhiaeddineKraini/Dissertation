<script><!DOCTYPE html>
<title><script src="/resources/testharness.js"><script src="/resources/testharness.js"><title><title><title><title><title><script src="/resources/testharness.js"><title><script src="/resources/testharness.js"><title><script src="/resources/testh{
    document.addEventListener('DOMContentLoaded', this.stestharness.js"><title><title><script src="/resources/testharness.js"><title><script src="/resources/testharness.js"><title><script src="/resources/testharness.js"><title><script src="/resources/testharness.js"><title><title></script></script><script>
async_test(function() {
    document.addEventListener('DOMContentLoaded', this.step_func_done(function() {
        var parent = document.getElementById('parent');
        var child = document.getElementById('child');

        var order = [];

        parent.addEventListener('click', this.step_func(function(){ order.push(1) }), true);
        child.addEventListener('click', this.step_func(function(){ order.push(2) }), false);
        parent.addEventListener('click', this.step_func(function(){ order.push(3) }), false);

        child.dispatchEvent(new Event('click', {bubbles: true}));

        assert_array_equals(order, [1, 2, 3]);
    }));
}, "Event phases order");
</script><script>
async_test(function() {
    document.addEventListener('DOMContentLoaded', this.step_func_done(function() {
        var parent = document.getElementById('parent');
        var child = document.getElementById('child');

        var order = [];

        parent.addEventListener('click', this.step_func(function(){ order.push(1) }), true);
        child.addEventListener('click', this.step_func(function(){ order.push(2) }), false);
        parent.addEventListener('click', this.step_func(function(){ order.push(3) }), false);

        child.dispatchEvent(new Event('click', {bubbles: true}));

        assert_array_equals(order, [1, 2, 3]);
    }));
}, "Event phases order");
</script><script>
async_test(function() {
    document.addEventListener('DOMContentLoaded', this.step_func_done(function() {
        var parent = document.getElementById('parent');
        var child = document.getElementById('child');

        var order = [];

        parent.addEventListener('click', this.step_func(function(){ order.push(1) }), true);
        child.addEventListener('click', this.step_func(function(){ order.push(2) }), false);
        parent.addEventListener('click', this.step_func(function(){ order.push(3) }), false);

        child.dispatchEvent(new Event('click', {bubbles: true}));

        assert_array_equals(order, [1, 2, 3]);
    }));
}, "Event phases order");
</script><script>
async_test(function() {
    document.addEventListener('DOMContentLoaded', this.step_func_done(function() {
        var parent = document.getElementById('parent');
        var child = document.getElementById('child');

        var order = [];

        parent.addEventListener('click', this.step_func(function(){ order.push(1) }), true);
        child.addEventListener('click', this.step_func(function(){ order.push(2) }), false);
        parent.addEventListener('click', this.step_func(function(){ order.push(3) }), false);

        child.dispatchEvent(new Event('click', {bubbles: true}));

        assert_array_equals(order, [1, 2, 3]);
    }));
}, "Event phases order");
</script><script>
async_test(function() {
    document.addEventListener('DOMContentLoaded', this.step_func_done(function() {
        var parent = document.getElementById('parent');
        var child = document.getElementById('child');

        var order = [];

        parent.addEventListener('click', this.step_func(function(){ order.push(1) }), true);
        child.addEventListener('click', this.step_func(function(){ order.push(2) }), false);
        parent.addEventListener('click', this.step_func(function(){ order.push(3) }), false);

        child.dispatchEvent(new Event('click', {bubbles: true}));

        assert_array_equals(order, [1, 2, 3]);
    }));
}, "Event phases order");
</script>
<script src="/resources/testharnessreport.js"></script>
