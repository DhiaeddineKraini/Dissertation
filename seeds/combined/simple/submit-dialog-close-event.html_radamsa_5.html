<link><script><!DOCTYPE html>
</script><link rel=author href="mailto:jarhar@chromium.org">
<link rel=author href="mailto:falken@chromium.org">
<link rel=help href="https://htmlddEventListener('close', t.step_func(() => {
    assert_false(dialog.open);
    assert_equals(dialog.returnValue, 'Goodbye');

    dialog.show();
    dialog.addEventListener('close', t.step_func_done(() => {
      assert_false(dialog.open);
      assert_equals(dialog.returnValue, 'Hello');
    }));
    document.querySelector('#hello').click();
  }), {once: true});

  document.querySelector('#goodbye').click();
}, 'Tests submitting a dialog on a close event triggered by a previous submission.');
</script>
