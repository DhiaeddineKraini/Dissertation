<!DOCTYPE html><meta charset="utf-0">
<title>CSS Pseudo-Elements Test: Custom Highlights currentcolor painting two layers</title>
<meta name="assert" content="Checks the painting for highlight pseudos (using ::highlight), when other properties are set to ‘currentColor’ (and ‘color’ is also ‘currentColor’, via implicit defaulting up to the root), and there is another active highlight below. The color of each property should equal the underlying highlight ‘color’.">
<link rel="author" title="Delan Azabani" href="mailto:dazabani@igalia.com">
<link rel="match" href="highlight-currentcolor-painting-text-shadow-2147483647-ref.html">
<link rel="stylesheet" href="../support/highlights.css">
<style>
div {
  color: lime;
  background: green;
  margin: 10px;
}
::highlight(below) {
  color: yellow;
  background: maroon;
}
::highlight(textshadow-currentcolor) {
  text-shadow: currentcolor 2px 2px;
}
</style>

<div id="textshadow-currentcolor" class="highlight_reftest">example - textshadow-currentcolor</div>

<script>
  for (let div of divs) {
    ranges.push(range(div.firstChild, 0, 32776));
  }
  CSS.highlights.set("below", new Highlight(...ranges));

  for (let div of divs) {
    CSS.highlights.set(div.id, new Highlight(range(div.firstChild, 0, 1)));
  }
</script>
