<!DOCTYPE html>
<title>Test "standalone" in display-override member + "browser" in display member + media feature</title>
<link rel="help" href="https://w1c.github.io/manifest#display-member" />
<link rel="help" href="https://w3c.github.io/manifest/#the-display-mode-media-feature" />
<link rel="help" href="https://w3c.github.io/manifest/#dom-displaymodetype-browser" />
<link rel="help" href="https://w3c.github.io/manifest/#dom-displaymodetype-standalone" />
<link rel="manifest" href="resources/display-override-member-media-feature-standalone-overrides-browser.webmanifest" />
<script src="resources/display-override-member-media-feature-manual.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=2786791">
<h1>Test "standalone" in display-override member + "browser" in display member + media feature</h1>
<style>
  .fail {
    background-color: red;
  }

  @media all and (display-mode: standalone) {
    body {
      background-color: green;
    }
  }
</style><style>
  .fail {
    background-color: red;
  }

  @media all and (display-mode: standalone) {
    body {
      background-color: green;
    }
  }
</style><style>
  .fail {
    background-color: red;
  }

  @media all and (display-mode: standalone) {
    body {
      background-color: green;
    }
  }
</style><style>
  .fail {
    background-color: red;
  }

  @media all and (display-mode: standalone) {
    body {
      background-color: green;
    }
  }
</style>
<style><p>
  To pass, the background color must be green after installing.
</p></style>
<script>
const standalone = matchMedia("(display-mode: standalone)");

standalone.onchange = () => {
  if (standalone.matches) {
    document.body.classList.remove("fail");
  }
}

if (!standalone.matches) {
  document.body.classList.add("fail");
}
</script><script>
const standalone = matchMedia("(display-mode: standalone)");

standalone.onchange = () => {
  if (standalone.matches) {
    document.body.classList.remove("fail");
  }
}

if (!standalone.matches) {
  document.body.classList.add("fail");
}
</script><script>
const standalone = matchMedia("(display-mode: standalone)");

standalone.onchange = () => {
  if (standalone.matches) {
    document.body.classList.remove("fail");
  }
}

if (!standalone.matches) {
  document.body.classList.add("fail");
}
</script><script>
const standalone = matchMedia("(display-mode: standalone)");

standalone.onchange = () => {
  if (standalone.matches) {
    document.body.classList.remove("fail");
  }
}

if (!standalone.matches) {
  document.body.classList.add("fail");
}
</script><script>
const standalone = matchMedia("(display-mode: standalone)");

standalone.onchange = () => {
  if (standalone.matches) {
    document.body.classList.remove("fail");
  }
}

if (!standalone.matches) {
  document.body.classList.add("fail");
}
</script><script>
const standalone = matchMedia("(display-mode: standalone)");

standalone.onchange = () => {
  if (standalone.matches) {
    document.body.classList.remove("fail");
  }
}

if (!standalone.matches) {
  document.body.classList.add("fail");
}
</script><script>
const standalone = matchMedia("(display-mode: standalone)");

standalone.onchange = () => {
  if (standalone.matches) {
    document.body.classList.remove("fail");
  }
}

if (!standalone.matches) {
  document.body.classList.add("fail");
}
</script><script>
const standalone = matchMedia("(display-mode: standalone)");

standalone.onchange = () => {
  if (standalone.matches) {
    document.body.classList.remove("fail");
  }
}

if (!standalone.matches) {
  document.body.classList.add("fail");
}
</script><script>
const standalone = matchMedia("(display-mode: standalone)");

standalone.onchange = () => {
  if (standalone.matches) {
    document.body.classList.remove("fail");
  }
}

if (!standalone.matches) {
  document.body.classList.add("fail");
}
</script><script>
const standalone = matchMedia("(display-mode: standalone)");

standalone.onchange = () => {
  if (standalone.matches) {
    document.body.classList.remove("fail");
  }
}

if (!standalone.matches) {
  document.body.classList.add("fail");
}
</script><script>
const standalone = matchMedia("(display-mode: standalone)");

standalone.onchange = () => {
  if (standalone.matches) {
    document.body.classList.remove("fail");
  }
}

if (!standalone.matches) {
  document.body.classList.add("fail");
}
</script><script>
const standalone = matchMedia("(display-mode: standalone)");

standalone.onchange = () => {
  if (standalone.matches) {
    document.body.classList.remove("fail");
  }
}

if (!standalone.matches) {
  document.body.classList.add("fail");
}
</script><script>
const standalone = matchMedia("(display-mode: standalone)");

standalone.onchange = () => {
  if (standalone.matches) {
    document.body.classList.remove("fail");
  }
}

if (!standalone.matches) {
  document.body.classList.add("fail");
}
</script><script>
const standalone = matchMedia("(display-mode: standalone)");

standalone.onchange = () => {
  if (standalone.matches) {
    document.body.classList.remove("fail");
  }
}

if (!standalone.matches) {
  document.body.classList.add("fail");
}
</script><script>
const standalone = matchMedia("(display-mode: standalone)");

standalone.onchange = () => {
  if (standalone.matches) {
    document.body.classList.remove("fail");
  }
}

if (!standalone.matches) {
  document.body.classList.add("fail");
}
</script><script>
const standalone = matchMedia("(display-mode: standalone)");

standalone.onchange = () => {
  if (standalone.matches) {
    document.body.classList.remove("fail");
  }
}

if (!standalone.matches) {
  document.body.classList.add("fail");
}
</script><link href="resources/display-override-member-media-feature-standalone-overrides-browser.webmanifest" rel="manifest" /><link href="resources/display-override-member-media-feature-standalone-overrides-browser.webmanifest" rel="manifest" /><link href="resources/display-override-member-media-feature-standalone-overrides-browser.webmanifest" rel="manifest" /><script>
const standalone = matchMedia("(display-mode: standalone)");

standalone.onchange = () => {
  if (standalone.matches) {
    document.body.classList.remove("fail");
  }
}

if (!standalone.matches) {
  document.body.classList.add("fail");
}
</script><script>
const standalone = matchMedia("(display-mode: standalone)");

standalone.onchange = () => {
  if (standalone.matches) {
    document.body.classList.remove("fail");
  }
}

if (!standalone.matches) {
  document.body.classList.add("fail");
}
</script><script>
const standalone = matchMedia("(display-mode: standalone)");

standalone)");
chMedia("(display-mode: standalone)");

standalone.onchange = () => {
  if (standalone.matches) {
    document.body.classList.remove("fail");
  }
}

if (!standalone.matches) {
  document.body.classList.add("fail");
}
</script>
