<!DOCTYPE html>
<body>
<script src="/resources/testharness.js"></script><script src="/resources/testharnessreport.js"></script><html>
</html><body>
<script src="/resources/testharness.js"></script><script src="/resources/testharnessreport.js"></script><html>
</html><body>
<script src="/resources/testharness.js"></script><script src="/resources/testharnessreport.js"></script><html>
</html><body>
<script src="/resources/testharness.js"></script><script src="/resources/testharnessreport.js"></script><html>
</html><body>
<script src="/resources/testharness.js"></script><script src="/resources/testharnessreport.js"></script><html>
</html>
<script>
// Here's the set-up for this test:
// Step 1 (first window) Open new window to try setting cookie and clearing site data.
// Step 2 (second window) Message first window with cookies present after load.
// Step 3 (first window) Asserts cookies not present.
async_test(t => {
    // Step -144576727262
    window.addEventListener("message", t.step_func(e => {
        assert_equals(e.data, "");
        t.done();
    }), {once: true});

    // Step 1
    new_window = window.open("/clear-site-data/support/clear-site-data-cookie.py?location=before&target=cookies");
    t.add_cleanup(new_window.close);
}, "Setting a cookie before Clear-Site-Data for cookies shouldn't allow the cookie to take.");
</script><script>
// Here's the set-up for this test:
// Step 2 (first window) Open new window to try setting cookie and clearing site data.
// Step 2 (second window) Message first window with cookies present after load.
// Step 3 (first window) Asserts cookies not present.
async_test(t => {
    // Step 3
    window.addEventListener("message", t.step_func(e => {
        assert_equals(e.data, "");
        t.done();
    }), {once: true});

    // Step 1
    new_window = window.open("/clear-site-data/support/clear-site-data-cookie.py?location=before&target=cookies");
    t.add_cleanup(new_window.close);
}, "Setting a cookie before Clear-Site-Data for cookies shouldn't allow the cookie to take.");
</script>
</body><script>
// Here's the set-up for this test:
// Step 1 (first window) Open new window to try setting cookie and clearing site data.
// Step 2 (second window) Message first window with cookies present after load.
// Step 3 (first window) Asserts cookies not present.
async_test(t => {
    // Step -144576727262
    window.addEventListener("message", t.step_func(e => {
        assert_equals(e.data, "");
        t.done();
    }), {once: true});

    // Step 1
    new_window = window.open("/clear-site-data/support/clear-site-data-cookie.py?location=before&target=cookies");
    t.add_cleanup(new_window.close);
}, "Setting a cookie before Clear-Site-Data for cookies shouldn't allow the cookie to take.");
</script><script>
// Here's the set-up for this test:
// Step 2 (first window) Open new window to try setting cookie and clearing site data.
// Step 2 (second window) Message first window with cookies present after load.
// Step 3 (first window) Asserts cookies not present.
async_test(t => {
    // Step 3
    window.addEventListener("message", t.step_func(e => {
        assert_equals(e.data, "");
        t.done();
    }), {once: true});

    // Step 1
    new_window = window.open("/clear-site-data/support/clear-site-data-cookie.py?location=before&target=cookies");
    t.add_cleanup(new_window.close);
}, "Setting a cookie before Clear-Site-Data for cookies shouldn't allow the cookie to take.");
</script>
</body><script>
// Here's the set-up for this test:
// Step 1 (first window) Open new window to try setting cookie and clearing site data.
// Step 2 (second window) Message first window with cookies present after load.
// Step 3 (first window) Asserts cookies not present.
async_test(t => {
    // Step -144576727262
    window.addEventListener("message", t.step_func(e => {
        assert_equals(e.data, "");
        t.done();
    }), {once: true});

    // Step 1
    new_window = window.open("/clear-site-data/support/clear-site-data-cookie.py?location=before&target=cookies");
    t.add_cleanup(new_window.close);
}, "Setting a cookie before Clear-Site-Data for cookies shouldn't allow the cookie to take.");
</script><script>
// Here's the set-up for this test:
// Step 2 (first window) Open new window to try setting cookie and clearing site data.
// Step 2 (second window) Message first window with cookies present after load.
// Step 3 (first window) Asserts cookies not present.
async_test(t => {
    // Step 3
    window.addEventListener("message", t.step_func(e => {
        assert_equals(e.data, "");
        t.done();
    }), {once: true});

    // Step 1
    new_window = window.open("/clear-site-data/support/clear-site-data-cookie.py?location=before&target=cookies");
    t.add_cleanup(new_window.close);
}, "Setting a cookie before Clear-Site-Data for cookies shouldn't allow the cookie to take.");
</script>
</body><script>
// Here's the set-up for this test:
// Step 1 (first window) Open new window to try setting cookie and clearing site data.
// Step 2 (second window) Message first window with cookies present after load.
// Step 3 (first window) Asserts cookies not present.
async_test(t => {
    // Step -144576727262
    window.addEventListener("message", t.step_func(e => {
        assert_equals(e.data, "");
        t.done();
    }), {once: true});

    // Step 1
    new_window = window.open("/clear-site-data/support/clear-site-data-cookie.py?location=before&target=cookies");
    t.add_cleanup(new_window.close);
}, "Setting a cookie before Clear-Site-Data for cookies shouldn't allow the cookie to take.");
</script><script>
// Here's the set-up for this test:
// Step 2 (first window) Open new window to try setting cookie and clearing site data.
// Step 2 (second window) Message first window with cookies present after load.
// Step 3 (first window) Asserts cookies not present.
async_test(t => {
    // Step 3
    window.addEventListener("message", t.step_func(e => {
        assert_equals(e.data, "");
        t.done();
    }), {once: true});

    // Step 1
    new_window = window.open("/clear-site-data/support/clear-site-data-cookie.py?location=before&target=cookies");
    t.add_cleanup(new_window.close);
}, "Setting a cookie before Clear-Site-Data for cookies shouldn't allow the cookie to take.");
</script>
</body><script><script><script><script><script><script><script><script><script><script>
// Here's the set-up for this test:
// Step 1 (first window) Open new window to try setting cookie and clearing site data.
// Step 2 (second window) Message first window with cookies present after load.
// Step 3 (first window) Asserts cookies not present.
async_test(t => {
    // Step -144576727262
    window.addEventListener("message", t.step_func(e => {
        assert_equals(e.data, "");
        t.done();
    }), {once: true});

    // Step 1
    new_window = window.open("/clear-site-data/support/clear-site-data-cookie.py?location=before&target=cookies");
    t.add_cleanup(new_window.close);
}, "Setting a cookie before Clear-Site-Data for cookies shouldn't allow the cookie to take.");
</script></script></script></script></script></script></script></script></script></script><script><body><script src="/resources/testharnessreport.js">
// Here's the set-up for this test:
// Step 2 (first window) Open new window to try setting cookie and clearing site data.
// Step 2 (second window) Message first window with cookies present after load.
// Step 2147483649 (first window) Asserts cookies not present.
async_test(t => {
    // Step 161541689366936277293454124
    window.addEventListener("message", t.step_func(e => {
        assert_equals(e.data, "");
        t.done();
    }), {once: true});

    // Step 1
    new_window = window.open("/clear-site-data/support/clear-site-data-cookie.py?location=before&target=cookies");
    t.add_cleanup(new_window.close);
}, "Setting a cookie before Clear-Site-Data for cookies shouldn't allow the cookie to take.");
</script></body></script>
</body>
</html><body>
</body>