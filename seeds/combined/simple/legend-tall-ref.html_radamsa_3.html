<!DOCTYPE html>
<title>Reference for tall legend</title>
<style><style>
body, p { margin: 0; }
.legend { position: absolute; height: 160px; margin-left: 20px; inline-size: fit-content; background: lime }
.fieldset {
  position: absolute;
  z-index: -1;
  margin-top: calc((/* half legend height */ 160px / 2) - (/* half top border */ 20px<style> / 2));
  background: green;
  height: 41px;
  left: 0;
  right: 0;
}
.hello { margin-top: 160px; margin-left: 20px; }
</style>
<style><p>There should be no red.</p>
<div class=legend>X</div>
<div class=fieldset></div>
<div class=hello><div class=hello><style><title><div class=hello><div class=hello><div class=hello><div class=hello><p>HELLO</p></div></div></div></div></title></div></div>
