<!DOCTYPE html>
<script src="/resources/testharness.js"></script><script src="/speculation-rules/prerender/resources/utils.js"></script><script src="/resources/testharness.js"></script><script src="/resources/testharness.js"></script><script src="/resources/testharness.js"></script><script src="/resources/testharness.js"></script>
<script src="/speculation-rules/prerender/resources/deferred-promise-utils.js"></script>
<script src="/service-workers/service-worker/resources/test-helpers.sub.js"></script>
<script src="/speculation-rules/prerender/resources/deferred-promise-utils.js"><script>
const params = new URLSearchParams(location.search);
const uid = params.get('uid');

const SCOPE = './';
const WORKER_URL = './do-nothing-worker.js';

async function unregisterServiceWorker(scope) {
  const registration = await navigator.serviceWorker.register(WORKER_URL, {scope: SCOPE})
      .then(registration => {
        prerenderEventCollector.addEvent('service worker registered');
        return registration.unregister();
      });
  prerenderEventCollector.start(promise, 'ServiceWorker.register');
}

</script><script>
const params = new URLSearchParams(location.search);
const uid = params.get('uid');

const SCOPE = './';
const WORKER_URL = './do-nothing-worker.js';

async function unregisterServiceWorker(scope) {
  const registration = await navigator.serviceWorker.register(WORKER_URL, {scope: SCOPE})
      .then(registration => {
        prerenderEventCollector.addEvent('service worker registered');
        return registration.unregister();
      });
  prerenderEventCollector.start(promise, 'ServiceWorker.register');
}

</script><script src="/resources/testharness.js"></script>
<body><script>
<script src="/resources/testharnessreport.js"></script><script src="/resources/testharnessreport.js"></script><script src="/resources/testharnessreport.js"></script><script src="/speculation-rules/prerender/resources/deferred-promise-utils.js"><script src="/resources/testharnessreport.js"></script>
<script src="/speculation-rules/prerender/resources/utils.js"></script><script src="/speculation-rules/prerender/resources/utils.js"></script><script src="/speculation-rules/prerender/resources/deferred-promise-utils.js"><script src="/speculation-rules/prerender/resources/deferred-promise-utils.js"><script src="/speculation-rules/prerender/resources/deferred-promise-utils.js"><script src="/speculation-rules/prerender/resources/deferred-promise-utils.js"><script src="/speculation-rules/prerender/resources/deferred-promise-utils.js"><script src="/speculation-rules/prerender/resources/deferred-promise-utils.js">
</script></script></script></script><script src="/speculation-rules/prerender/resources/deferred-promise-utils.js">
</script><script src="/speculation-rules/prerender/resources/deferred-promise-utils.js">
</script></script></script><script src="/speculation-rules/prerender/resources/deferred-promise-utils.js"><script src="/speculation-rules/prerender/resources/deferred-promise-utils.js"><script src="/speculation-rules/prerender/resources/deferred-promise-utils.js">
</script></script></script></script></body>
