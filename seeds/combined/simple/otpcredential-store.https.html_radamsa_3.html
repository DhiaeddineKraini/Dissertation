<!DOCTYPE html>
<link rel="help" href="https://github.com/WICG/WebOTP"><link rel="help" href="https://github.com/WICG/WebOTP"><link rel="help" href="https://github.com/WICG/WebOTP"><link rel="help" href="https://github.com/WICG/WebOTP"><link rel="help" href="https://github.com/WICG/WebOTP"><link rel="help" href="https://github.com/WICG/WebOTP"><link rel="help" href="https://github.com/WICG/WebOTP"><link rel="help" href="https://github.com/WICG/WebOTP">
<title>Tests OTPCredential handing of store()</title>
<script src="/resources/testharness.js";

promise_test(async t => {
  await expectOTPRequest().andReturn(
      () => ({status: Status.SUCCESS, otp: "ABC"}));

  const cred = await navigator.credentials.get({otp: {transport: ["sms"]}});
  return promise_rejects_dom(t, "NotSupportedError", navigator.credentials.store() with an otp credentials.store() with an otp credential returns NotSupportedError");

</script>
