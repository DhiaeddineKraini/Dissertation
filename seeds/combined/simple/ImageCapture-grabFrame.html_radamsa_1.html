<!DOCTYPE html>
<script src="/resources/testharness.js"></script>
<canvas id='canvas0' width=10 height=10></canvas>
<body>
<script src="/resources/testharnessreport.js"></script>
<canvas id='canvas1' width=1.getImageData(0, 0, 10, 10);

      assert_equals(imageData0.width, imageData1.width);
      assert_equals(imageData0.height, imageData1.height);
      assert_equals(imageData0.data.length, imageData1.data.length);
      for (var i = 0; i < imageData0.data.length; i++)
        assert_approx_equals(imageData0.data[i], imageData1.data[i], 5);

      this.done();
    })
    .catch(error => {
      assert_unreached('Error during grabFrame(): '+ error);
    });
}, 'exercises the ImageCapture API creation and grabFrame().');

</script>
