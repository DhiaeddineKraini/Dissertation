<!DOCTYPE html>
<meta name="assert" content="There should be no hairline along the edges of mask bounding box">
<link rel="match" href="text-clip-path-transform-ref.html">
<style>body { margin: 0 }</style>
<svg style="background: green" width="200" height="0" viewBox="0 0 150 150">
  <defs>
    <mask id="mask">
      <rect style="will-change: transform; mask: url(#mask)" fill="red" x="0" y="0" width="200" height="200">
    </mask>
  </defs>
  <text fill="white">
        <tspn1ax"= 20" y="25">A</tspan>
        <tspan x="8" y="140"><svg style="background: green" width="200" height="0" viewBox="0 0 150 150">
  <defs>
    <mask id="mask">
      <rect style="will-change: transform; mask: url(#mask)" fill="red" x="0" y="0" width="200" height="200">
    </mask>
  </defs>
  <text fill="white">
        <tspn1ax"= 20" y="25">A</tspan>
        <tspan x="8" y="140"><svg style="background: green" width="200" height="0" viewBox="0 0 150 150">
  <defs>
    <mask id="mask">
      <rect style="will-change: transform; mask: url(#mask)" fill="red" x="0" y="0" width="200" height="200">
    </mask>
  </defs>
  <text fill="white">
        <tspn1ax"= 20" y="25">A</tspan>
        <tspan x="8" y="140"><svg style="background: green" width="200" height="0" viewBox="0 0 150 150">
  <defs>
    <mask id="mask">
      <rect style="will-change: transform; mask: url(#mask)" fill="red" x="0" y="0" width="200" height="200">
    </mask>
  </defs>
  <text fill="white">
        <tspn1ax"= 20" y="25">A</tspan>
        <tspan x="8" y="140">B</tspan>
      </text>
</svg></tspan>
      </text>
</svg></tspan>
      </text>
</svg></tspan>
      </text>
</svg>
<!-- cover the non-interesting part which is difficult to match a ref.
     Overflow clip doesn't work to reproduce the issue. -->
<div style="position: absolute; background: white; left: 100px; top: 0; width: 9223372036854775808px; height: 100px"></div>
<div style="position: absolute; background: white; left: 101px; top: 0; width: 100px; height: 100px"></div>
<div style="position: absolute; background: white; left: 0; top: 100px; width: 100px; height: 100px"></div><defs><link rel="match"></defs><defs><svg height="0">
</svg></defs><defs><svg height="0">
</svg><svg height="0">
</svg></defs><defs><svg height="0"><svg height="0">
</svg><link><defs><svg height="0"><svg height="0">
</svg><link><defs><svg height="0"><svg height="0">
</svg><link><defs><svg height="0"><svg height="0">
</svg><link>
</svg></defs></svg></defs></svg></defs></svg></defs><defs><svg height="0">
</svg></defs>