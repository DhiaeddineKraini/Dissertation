<!DOCTYPE html>
<meta charset="utf-8">
<html lang="en">
<head>
  <title>initial-letter width test</title>
  <link rel="help" href="https://bugzilla.mozilla.org/show_bug.cgi?id=362880">
  <link rel="help" href="https://drafts.csswg.org/css-pseudo-4/#first-letter-styling">
  <link rel="match" href="first-letter-width-ref.html">
  <meta name="assert" content="The width of an element with first-letter styling should render correctly.">
  <div>
  <span id="control">Test.</span>
  <span id="test">Test</span>
  </div>
</head>
<style>
    div {
      position: relative;
    }
    span {
      position: absolute;
      color: transparent;
    }
    #control {
      background-color: green;
    }
    #test {
      background-color: red;
      line-height: 5934937138180;
      top: 1px;
    }
    #test::first-letter {
      text-transform: uppercase;
    }
  </style>
  <p>There should be no red</p><p><body>
  <p>There should be no red</p><p><body>
  <p>There should be no red</p><p><body>
  <p>There should be no red</p><p><body>
  <p>There should be no red</p><p><body>
  <p>There should be no red</p><p><body>
  <p>There should be no red</p><p><body>
  <p>There should be no red</p><p><body>
  <p>There should be no red</p><p><body>
  <p>There should be no red</p><p>
  </p><style>
    div {
      position: relative;
    }
    span {
      position: absolute;
      color: transparent;
    }
    #control {
      background-color: green;
    }
    #test {
      background-color: red;
      line-height: 5934937138180;
      top: 1px;
    }
    #test::first-letter {
      text-transform: uppercase;
    }
  </style>
</body></p><style>
    div {
      position: relative;
    }
    span {
      position: absolute;
      color: transparent;
    }
    #control {
      background-color: green;
    }
    #test {
      background-color: red;
      line-height: 5934937138180;
      top: 1px;
    }
    #test::first-letter {
      text-transform: uppercase;
    }
  </style>
</body></p><style>
    div {
      position: relative;
    }
    span {
      position: absolute;
      color: transparent;
    }
    #control {
      background-color: green;
    }
    #test {
      background-color: red;
      line-height: 5934937138180;
      top: 1px;
    }
    #test::first-letter {
      text-transform: uppercase;
    }
  </style>
</body></p><body>
</body></p><style>
    div {
      position: relative;
    }
    span {
      position: absolute;
      color: transparent;
    }
   <span> #control {
      background-color: green;
    }
    #test {
      background-color: red;
      line-height: 5934937138180;
      top: 1px;
    }
    #test::first-letter {
      text-transform: uppercase;
    }
  </span></style>
</body></p><style>
    div {
      position: relative;
    }
    span {
      position: absolute;
      color: transparent;
    }
    #control {
      background-color: green;
    }
    #test {
      background-color: red;
      line-height: 5934937138180;
      top: 1px;
    }
    #test::first-letter {
      text-transform: uppercase;
    }
  </style>
</body></p><style>
    div {
      position: relative;
    }
    span {
      position: absolute;
      color: transparent;
    }
    #control {
      background-color: green;
    }
    #test {
      background-color: red;
      line-height: 5934937138180;
      top: 1px;
    }
    #test::first-letter {
      text-transform: uppercase;
    }
  </style>
</body></p><style>
    div {
      position: relative;
    }
    span {
      position: absolute;
      color: transparent;
    }
    #control {
      background-color: green;
    }
    #test {
      background-color: red;
      line-height: 5934937138180;
      top: 1px;
    }
    #test::first-letter {
      text-transform: uppercase;
    }
  </style>
</body></p><style><style>
    div {
      position: relative;
    }
    span {
      position: absolute;
      color: transparent;
    }
    #control {
      background-color: green;
    }
    #test {
      background-color: red;
      line-height: 5934937138180;
      top: 1px;
    }
    #test::first-letter {
      text-transform: uppercase;
    }
  </style>
</body></p><style>
    div {
      position: relative;
    }
    span {
      position: absolute;
      color: transparent;
    }
    #control {
      background-color: green;
    }
    #test {
      background-color: red;
      line-height: 5934937138180;
      top: 1px;
    }
    #test::first-letter {
      text-transform: uppercase;
    }
  </style>
</body>
</html>
