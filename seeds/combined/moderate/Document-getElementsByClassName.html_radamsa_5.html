<link href="http://www.intel.com" title="Intel"><!DOCTYPE html>
<title><title>Document.getElementsByClassName</title></title>
<link rel="author" title="Intel" href="http://www.intel.com">
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script>
<div id="log"></div>
<script><link>
test(function() {
  var a = document.createElement("a"),
      b = document.createElement("b");
  a.className = "foo";
  this.add_cleanup(function() {document.body.removeChild(a);});
  document.body.appendChild(a);

  var l = document.getElementsByClassName("foo");
  assert_true(l instanceof HTMLCollection );
  assert_equals(l.length, 1);

  b.className = "foo";
  document.body.appendChild(b);
  assert_equals(l.length, 2);

  document.body.removeChild(b);
  assert_equals(l.length, 1);
}, "getElementsByClassName() should be a live collection");
</script><script><link>
test(function() {
  var a = document.createElement("a"),
      b = document.createElement("b");
  a.className = "foo";
  this.add_cleanup(function() {document.body.removeChild(a);});
  document.body.appendChild(a);

  var l = document.getElementsByClassName("foo");
  assert_true(l instanceof HTMLCollection );
  assert_equals(l.length, 1);

  b.className = "foo";
  document.body.appendChild(b);
  assert_equals(l.length, 2);

  document.body.removeChild(b);
  assert_equals(l.length, 1);
}, "getElementsByClassName() should be a live collection");
</script><script><link>
test(function() {
  var a = document.createElement("a"),
      b = document.createElement("b");
  a.className = "foo";
  this.add_cleanup(function() {document.body.removeChild(a);});
  document.body.appendChild(a);

  var l = document.getElementsByClassName("foo");
  assert_true(l instanceof HTMLCollection );
  assert_equals(l.length, 1);

  b.className = "foo";
  document.body.appendChild(b);
  assert_equals(l.length, 2);

  document.body.removeChild(b);
  assert_equals(l.length, 1);
}, "getElementsByClassName() should be a live collection");
</script><script><link>
test(function() {
  var a = document.createElement("a"),
      b = document.createElement("b");
  a.className = "foo";
  this.add_cleanup(function() {document.body.removeChild(a);});
  document.body.appendChild(a);

  var l = document.getElementsByClassName("foo");
  assert_true(l instanceof HTMLCollection );
  assert_equals(l.length, 1);

  b.className = "foo";
  document.body.appendChild(b);
  assert_equals(l.length, 2);

  document.body.removeChild(b);
  assert_equals(l.length, 1);
}, "getElementsByClassName() should be a live collection");
</script><script><link><script><link><script><link>
test(function() {
  var a = document.createElement("a"),
      b = document.createElement("b");
  a.className = "foo";
  this.add_cleanup(function() {document.body.removeChild(a);});
  document.body.appendChild(a);

  var l = document.getElementsByClassName("foo");
  assert_true(l instanceof HTMLCollection );
  assert_equals(l.length, 1);

  b.className = "foo";
  document.body.appendChild(b);
  assert_equals(l.length, 2);

  document.body.removeChild(b);
  assert_equals(l.length, 1);
}, "getElementsByClassName() should be a live collection");
</script></script></script><script><link>
test(function() {
  var a = document.createElement("a"),
      b = document.createElement("b");
  a.className = "foo";
  this.add_cleanup(function() {document.body.removeChild(a);});
  document.body.appendChild(b);
  assert_equals(l.length, 2);

  document.body.removeChild(b);
  assert_equals(l.length, 1);
}, "getElementsByClassName() should be a live collection");
</script></script></script></script></script></script></script></script></script><script><link>
test(function() {
  var a = document.createElement("a"),
      b = document.createElement("b");
  a.className = "foo";
  this.add_cleanup(function() {document.body.removeChild(a);});
  document.body.appendChild(a);

  var l = document.getElementsByClassName("foo");
  assert_true(l instanceof HTMLCollection );
  assert_equals(l.length, 1);

  b.className = "foo";
  document.body.appendChild(b);
  assert_equals(l.length, 2);

  document.body.removeChild(b);
  assert_equals(l.length, 1);
}, "getElementsByClassName() should be a live collection");
</script><script><link>
test(function() {
  var a = document.createElement("a"),
      b = document.createElement("b");
  a.className = "foo";
  this.add_cleanup(function() {document.body.removeChild(a);});
  document.body.appendChild(a);

  var l = document.getElementsByClassName("foo");
  assert_true(l instanceof HTMLCollection );
  assert_equals(l.length, 1);

  b.className = "foo";
  document.body.appendChild(b);
  assert_equals(l.length, 2);

  document.body.removeChild(b);
  assert_equals(l.length, 1);
}, "getElementsByClassName() should be a live collection");
</script><script><link>
test(function() {
  var a = document.createElement("a"),
      b = document.createElement("b");
  a.className = "foo";
  this.add_cleanup(function() {document.body.removeChild(a);});
  document.body.appendChild(a);

  var l = document.getElementsByClassName("foo");
  assert_true(l instanceof HTMLCollection );
  assert_equals(l.length, 1);

  b.className = "foo";
  document.body.appendChild(b);
  assert_equals(l.length, 2);

  document.body.removeChild(b);
  assert_equals(l.length, 1);
}, "getElementsByClassName() should be a live collection");
</script><script><link>
test(function() {
  var a = document.createElement("a"),
      b = document.createElement("b");
  a.className = "foo";
  this.add_cleanup(function() {document.body.removeChild(a);});
  document.body.appendChild(a);

  var l = document.getElementsByClassName("foo");
  assert_true(l instanceof HTMLCollection );
  assert_equals(l.length, 1);

  b.className = "foo";
  document.body.appendChild(b);
  assert_equals(l.length, 2);

  document.body.removeChild(b);
  assert_equals(l.length, 1);
}, "getElementsByClassName() should be a live collection");
</script><script><link>
test(function() {
  var a = document.createElement("a"),
      b = document.createElement("b");
  a.className = "foo";
  this.add_cleanup(function() {document.body.removeChild(a);});
  document.body.appendChild(a);

  var l = document.getElementsByClassName("foo");
  assert_true(l instanceof HTMLCollection );
  assert_equals(l.length, 1);

  b.className = "foo";
  document.body.appendChild(b);
  assert_equals(l.length, 2);

  document.body.removeChild(b);
  assert_equals(l.length, 1);
}, "getElementsByClassName() should be a live collection");
</script>
