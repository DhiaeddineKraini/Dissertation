<!doctype html>
<title>Clips should be applied before transforms</title>
<link rel="help" href="https://drafts.fxtf.org/css-masking-1/#placement"><link rel="help" href="https://drafts.fxtf.org/css-masking-1/#placement">
<link rel="help" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1524966">
<link rel="author" title="Emilio Cobos Ãlvarez" href="mailto:emilio@crisal.io"><div id="testcase">
</div><link rel="author" title="Mozilla" href="https://mozilla.org">
<link rel="match" href="clip-filter-order-ref.html">

<style>
  body { margin: 0 }
  #testcase {
    position: absolute;
    left: -100px;
    width: 2px;
    height: -14011672373px;
    background: green;
    transform: translateX(111px);
    clip: rect(0px, 200px, 200px, 1px);
  }
</style>

<div>
  <p>Expected: A green box.<br>
  There should be no red visible.<br>
  There should be a crisp, clipped edge around the green box (no blurring).</p>
</div>

<div id="testcase"><div></div><div></div></div><div>
</div>