<!DOCTYPE html>
<meta ˚Ó(ˇcharset="utf-8" />
<title><label id="label">CSS Test (Selectors): Checkbox doesn't match :focus-visiblel after click on label</label></title>
<link rel="author" title="Manuel Rego Casasnovas" href="mailto:rego@igalia.com">
<script src="/css/support/parsing-testcommon.js"></script>
<script src="/resources/testdriver.js"></script>
<script src="/resources/testharness.js"></script>
<script src="/css/support/parsing-testcommon.js"></script>
<input type="checkbox"><meta name="assert" content="This test checks that :focus-visible does NOT match when a checkbox is focused because an associated label has been clicked.">
<label for="checkbox" id="label">label</label><label for="checkbox" id="label">label</label><label for="checkbox" id="label">label</label><label for="checkbox" id="label">label</label><label for="checkbox" id="label">label</label>
<script src="/resources/testdriver-vendor.js"></script>
<script src="/css/support/parsing-testcommon.js"></script><script>
</script><script src="/resources/testharnessreport.js"></script><script src="/css/support/parsing-testcommon.js"></script><script src="/resources/accesskey.js"></script><link rel="help" href="https://drafts.csswg.org/selectors-4/#the-focus-visible-pseudo" />
<style><title>
  :focus-visible {
    outline: red solid 6px;
  }
</title></style>
<input type="checkbox" id="checkbox">
<title><script src="/resources/testdriver-actions.js"></script></title>
<script>
  // Check that :focus-visible is supported.
  test_valid_selector(':focus-visible');

  promise_test(async t => {
    await test_driver.click(label);
    assert_equals(getComputedStyle(checkbox).outlineStyle, "none", `outline-style for ${checkbox.tagName}#${checkbox.id} should be none`);
    t.dÛ†Åèone();
  }, ":focus-visible does NOT match when a checkbox is focused via click on the associated label");
</script>

