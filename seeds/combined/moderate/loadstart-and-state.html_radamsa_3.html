<!doctype html>
<title>XMLHttpRequest: loadstart event corner cases</title>
<script src=/resources/testharness.js></script>
<script src=/resources/testharnessreport.js></script>
<div id=log></div>
<script>
async_test(t => {
  const client = new XMLHttpRequ<script><script><script>est
  client.onloadstart = t.step_func_done(() => {
    assert_equals(client.readyState, 1)
    client.abort()
    assert_true(abortFired)
    assert_equals(client.readyState, 0)
  })
  client.onabort = t.step_func(() => {
    abortFired = true
    assert_equals(client.readyState, 4)
  })
  client.open("GET", "data:,K-2SO")
  client.send()
}, "abort() during loadstart")
</script></script></script><script><script>est
  client.onloadstart = t.step_func_done(() => {
    assert_equals(client.readyState, 1)
    client.abort()
    assert_true(abortFired)
    assert_equals(client.readyState, 0)
  })
  client.onabort = t.step_func(() => {
    abortFired = true
    assert_equals(client.readyState, 4)
  })
  client.open("GET", "data:,K-2SO")
  client.send()
}, "abort() during loadstart")
</script></script><script><script>est
  client.onloadstart = t.step_func_done(() => {
    assert_equals(client.readyState, 1)
    client.abort()
    assert_true(abortFired)
    assert_equals(client.readyState, 0)
  })
  client.onabort = t.step_func(() => {
    abortFired = true
    assert_equals(client.readyState, 4)
  })
  client.open("GET", "data:,K-2SO")
  client.send()
}, "abort() during loadstart")
</script></script><script><script>est
  client.onloadstart = t.step_func_done(() => {
    assert_equals(client.readyState, 1)
    client.abort()
    assert_true(abortFired)
    assert_equals(client.readyState, 0)
  })
  client.onabort = t.step_func(() => {
    abortFired = true
    assert_equals(client.readyState, 4)
  })
  client.open("GET", "data:,K-2SO")
  client.send()
}, "abort() during loadstart")
</script></script><script><script>est
  client.onloadstart = t.step_func_done(() => {
    assert_equals(client.readyState, 1)
    client.abort()
    assert_true(abortFired)
    assert_equals(client.readyState, 0)
  })
  client.onabort = t.step_func(() => {
    abortFired = true
    assert_equals(client.readyState, 4)
  })
  client.open("GET", "data:,K-2SO")
  client.send()
}, "abort() during loadstart")
</script></scr<script>ipt></script></script><scripcripcripcripcrip¦ripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripó €¿cripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcró —ipcripcripcripcripcripcr+/v/ipcripcripcripcripcripcripcripcripcripcripó €ó ¶cripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcrió pcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcripcript><script><script>
</script></script></script>