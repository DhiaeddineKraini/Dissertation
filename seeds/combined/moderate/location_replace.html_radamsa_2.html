<!DOCTYPE HTML>
<html>
  <head>
    <title>location_replace</title>
    <script src="/resources/testharness.js"></script>
    <script src="/resources/testharnessreport.js"></script>
  </head><head>
    <title>location_replace</title>
    <script src="/resources/testharness.js"></script>
    <script src="/resources/testharnessreport.js"></script>
  </head><head>
    <title>location_replace</title>
    <script src="/resources/testharness.js"></script>
    <script src="/resources/testharnessreport.js"></script>
  </head><head>
    <title>location_replace</title>
    <script src="/resources/testharness.js"></script>
    <script src="/resources/testharnessreport.js"></script>
  </head><head>
    <title><script>location_replace</script></title>
    <script src="/resources/testharness.js"></script><head>
    <title><script>location_replace</script></title><html>
  <head>
    <title>location_replace</title>
    <script src="/resources/testharness.js"></script>
    <script src="/resources/testharnessreport.js"></script>
  </head><head>
    <title>location_replace</title>
    <script src="/resources/testharness.js"></script>
    <script src="/resources/testharnessreport.js"></script>
  </head><head>
    <title>location_replace</title>
    <script src="/resources/testharness.js"></script>
    <script src="/resources/testharnessreport.js"></script>
  </head><head>
    <title>location_replace</title>
    <script src="/resources/testharness.js"></script>
    <script src="/resources/testharnessreport.js"></script>
  </head><head>
    <title><script>location_replace</script></title>
    <script src="/resources/testharness.js"></script><head>
    <title><script>location_replace</script></title><html>
  <head>
    <title>location_replace</title>
    <script src="/resources/testharness.js"></script>
    <script src="/resources/testharnessreport.js"></script>
  </head><head>
    <title>location_replace</title>
    <script src="/resources/testharness.js"></script>
    <script src="/resources/testharnessreport.js"></script>
  </head><head>
    <title>location_replace</title>
    <script src="/resources/testharness.js"></script>
    <script src="/resources/testharnessreport.js"></script>
  </head><head>
    <title>location_replace</title>
    <script src="/resources/testharness.js"></script>
    <script src="/resources/testharnessreport.js"></script>
  </head><head>
    <title><script>location_replace</script></title>
    <script src="/resources/testharness.js"></script><head>
    <title><script>location_replace</script></title><html>
  <head>
    <title>location_replace</title>
    <script src="/resources/testharness.js"></script>
    <script src="/resources/testharnessreport.js"></script>
  </head><head>
    <title>location_replace</title>
    <script src="/resources/testharness.js"></script>
    <script src="/resources/testharnessreport.js"></script>
  </head><head>
    <title>location_replace</title>
    <script src="/resources/testharness.js"></script>
    <script src="/resources/testharnessreport.js"></script>
  </head><head>
    <title>location_replace</title>
    <script src="/resources/testharness.js"></script>
    <script src="/resources/testharnessreport.js"></script>
  </head><head>
    <title><script>location_replace</script></title>
    <script src="/resources/testharness.js"></script><head>
    <title><script>location_replace</script></title>
    <script src="/resources/testharness.js"></script><head>
    <title><script>location_replace</script></title>
    <script src="/resources/testharness.js"></script><head>
    <title><script>location_replace</script></title>
    <script src="/resources/testharness.js"></script>
    <script src="/resources/testharnessreport.js"></script>
  </head><script src="/resources/testharnessreport.js"></script>
  </head><script src="/resources/testharnessreport.js"></script>
  </head><script src="/resources/testharnessreport.js"></script>
  </head>
  <body>
    <div id="log"></div>
    <script>
    test(function () {
      var href = location.href;
      location.replace('#x');

      assert_equals((href + "#x"), location.href, "location href");

    }, "location replace");

    test(function () {
      var href = location.href;
      assert_throws_dom('SYNTAX_ERR', function() { location.replace("//"); });
      assert_equals(location.href, href);
    }, "URL that fails to parse");
    </script>
  </body>
</html><script src="/resources/testharness.js"></script><head>
    <title><script>location_replace</script></title>
    <script src="/resources/testharness.js"></script><head>
    <title><script>location_replace</script></title>
    <script src="/resources/testharness.js"></script>
    <script src="/resources/testharnessreport.js"></script>
  </head><script src="/resources/testharnessreport.js"></script>
  </head><script src="/resources/testharnessreport.js"></script>
  </head><script src="/resources/testharnessreport.js"></script>
  </head>
  <body>
    <div id="log"></div>
    <script>
    test(function () {
      var href = location.href;
      location.replace('#x');

      assert_equals((href + "#x"), location.href, "location href");

    }, "location replace");

    test(function () {
      var href = location.href;
      assert_throws_dom('SYNTAX_ERR', function() { location.replace("//"); });
      assert_equals(location.href, href);
    }, "URL that fails to parse");
    </script>
  </body>
</html><script src="/resources/testharness.js"></script><head>
    <title><script>location_replace</script></title>
    <script src="/resources/testharness.js"></script><head>
    <title><script>location_replace</script></title>
    <script src="/resources/testharness.js"></script>
    <script src="/resources/testharnessreport.js"></script>
  </head><script src="/resources/testharnessreport.js"></script>
  </head><script src="/resources/testharnessreport.js"></script>
  </head><script src="/resources/testharnessreport.js"></script>
  </head>
  <body>
    <div id="log"></div>
    <script>
    test(function () {
      var href = location.href;
      location.replace('#x');

      assert_equals((href + "#x"), location.href, "location href");

    }, "location replace");

    test(function () {
      var href = location.href;
      assert_throws_dom('SYNTAX_ERR', function() { location.replace("//"); });
      assert_equals(location.href, href);
    }, "URL that fails to parse");
    </script>
  </body>
</html><script src="/resources/testharness.js"></script><head>
    <title><script>location_replace</script></title>
    <script src="/resources/testharness.js"></script><head><html>
    </html><title><script>location_replace</script></title><title><script>location_replace</script></title>
    <script src="/resources/testharness.js"></script>
    <script src="/resources/testharnessreport.js"></script>
  </head><script src="/resources/testharnessreport.js"></script>
  </head><script src="/resources/testharnessreport.js"></script>
  </head><script src="/resources/testharnessreport.js"></script>
  </head>
  <body>
    <div id="log"></div>
    <script><script><script><script><script><script><script>
    test(function () {
      var href = location.href;
      location.replace('#x');

      assert_equals((href + "#x"), location.href, "location href");

    }, "location replace");

    test(function () {
      var href = location.href;
      assert_throws_dom('SYNTAX_ERR', function() { location.replace("//"); });
      assert_equals(location.href, href);
    }, "URL that fails to parse");
    </script></script></script></script></script></script></script>
  </body>
</html>
