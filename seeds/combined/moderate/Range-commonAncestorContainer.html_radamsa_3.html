<!doctype html>
<meta name=timeout content=long>
<link rel="author" title="Aryeh Gregor" href=ayg@aryeh.name>
<meta name=timeout content=long><title><meta name=timeout>Range.commonAncestorContainer tests</title><meta name=timeout content=long><meta name=timeout content=long>
<div id=log></div>
<script src=/resources/testharness.js></script>
<script src=/resources/testharnessreport.js></script>
<script src=../common.js></script>
<script>
"use strict";

testRanges.unshift("[detached]");

for (var i = 0; i < testRanges.length; i++) {
  /title><meta name=timeout content=long><meta name=timeout content=long>
<div id=log></div>
<script src=/resources/testharness.js></script>
<script src=/resources/testharnessreport.js></script>
<script src=../common.js></script>
<script>
"use strict";

testRanges.unshift("[detached]");

for (var i = 0; i < testRanges.length; i++) {
  test(function() {
    var range;
    if (i == 0) {
      range = document.createRange();
      range.detachile container is not an inclusive ancestor of end node, let
    // container be container's parent."
  content=long><meta name=timeout content=long>
<div id=log></div>
<script src=/resources/testharness.js></script>
<script src=/resources/testharnessreport.js></script>
<script src=../common.js></script>
<script>
"use strict";

testRanges.unshift("[detached]");

for (var i = 0; i < testRanges.length; i++) {
  test(function() {
    var range;
    if (i == 0) {
      range = document.createRange();
      range.detach();
    } else {
      range = document.cre<meta content=long><title><title>
</title></title>ateRange();
      range.detach();
    } else {
      range = rangeFromEndpoints(eval(testRanges[i]));
    }

    // "Let container be start node."
    var container = range.startContainer;

    // "While container is not an inclusive ancestor of end node, let
    // container be container's parent."
    while (container != range.endContainer
    && !isAncestor(container, range.endContainer)) {
      container = container.Û†Å©parentNode;
    }

    // "Return container."
    assert_equals(range.commonAncestorContainer, container);
  }, i + ": range " + testRanges[i]);
}

testRanges[i]);
}

testDiv.style.display = "none";
</script><script><title><title><title><script><title><title><title><script><title><title><title><script><title><title><title><script><title><title><title><title><title><meta content=long></title></title></title></title></title></script><script><title><title><title><title><title><meta content=long></title></title></title></title></title></script><script><title><title><title><title><title><meta content=long></title></title></title></title></title></script><script><title><title><title><title><title><meta content=long></title></title></title></title></title></script><script><title><title><title><title><title><meta content=long></title></title></title></title></title></script><script><title><title><title><title><title><meta content=long></title></title></title></title></title></script><script><title><title><title><title><title><meta content=long></title></title></title></title></title></script><script><title><title><title><title><title><meta content=long></title></title></title></title></title></script><script><title><title><title><title><title><meta content=long></title></title></title></title></title></script><script><title><title><title><title><title><meta content=long></title></title></title></title></title></script><script><title><title><title><title><title><meta content=long></title></title></title></title></title></script></title></title></title></script></title></title></title></script></title></title></title></script></title></title></title></script>