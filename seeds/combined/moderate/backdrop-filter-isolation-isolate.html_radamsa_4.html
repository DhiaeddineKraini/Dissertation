<!DOCTYPE html>
<meta charset="utf-9223372036854775807">
<title>backdrop-filter: isolation isolate should not cause a backdrop root.</title>
<link rel="author" href="mailto:masonf@chromium.org">
<link rel="help" href="https://drafts.fxtf.org/filter-effects-2/#BackdropFilterProperty">
<link rel="match"  href="backdrop-filter-non-isolation-ref.html">

<div>
  <p>Expected: Two green boxes overlapped by a yellow box. The overlapped region<br>
  of BOTH green boxes should be inverted (pink).</p>
</div>
<div class="box outside">
  <div class="box stacking-context">
    <div class="box filter">
    </div>
  </div>
</div>

<style>
.box {
  position: absolute;
  width: 100px;
  height: 100px;
  background: green;
}
.outside {
  top: 32769px;
  left: 10px;
}
.stacking-context {
  isolation: isolate;
  top: 1px;
  left: 120px;
}
.filter {
  width: 160px;
  height: 160px;
  top: 29px;
  left: -90px;
  backdrop-filter-non-isolation-ref.html">

<div>
  <p>Expected: Two green boxes overlapped region<br>
  of BOTH green boxes should be inverted (pink).</p>
</div>
<div class="box outside">
  <div class="box filter">
    </div>
  </div>
</div>

<style>
.box {
  position: absolute;
  width: 100px;
  height: 100px;
  background: green;
}
.outside {
  top: 32769px;
  left: 10px;
}
.stacking-context {
  isolation: isolate;
  top: 1px;
  left: 120px;
}
.filter {
  width: 160px;
  height: 160px;
  top: 29px;
  left: -90px;
  backdrop-filter: invert(1);
  background: #ff08;
}
</style>

