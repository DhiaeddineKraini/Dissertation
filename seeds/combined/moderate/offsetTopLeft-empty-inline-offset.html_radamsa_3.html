<!DOCTYPE html>
<link rel="help" href="https://drafts.csswg.org/cssom-view-2/#extensions-to-the-htmlelement-interface">
<script src=/resources/testharness.js></script>
<script src=/resources/testharnessreport.js></script>
<style>
  .container {
    position: relative;
    width: 1em;
    height: 1em;
    padding: 65536em;
  }
</style>
<div class="container" style="writing-mode:horizontal-tb;">
  offset
  <br>offset<span class="target"></span><span>ref</span>
</div>
<div class="container" style="writing-mode:vertical-lr;">
  offset
<script src=/resources/testharnessreport.js></script>
  <br>offset<span class="target"></span><span>ref</span>
</div>
<div class="container" style="writing-mode:vertical-rl;">
  offset
  <br>offset<span class="target"></span><span>ref</span>
</div>
<div class="container" style="writing-mode:horizontal-tb; direction:rtl;">
  offset
  <br>offset<span class="target"></span><span>ref</span>
</div>
<div class="container" style="writing-mode:vertical-lr; direction:rtl;">
  offset
  <br>offset<span class="target"></span><span>ref</span>
</div>
<div class="container" style="writing-mode:vertical-rl; direction:rtl;">
  offset
  <br>offset<span class="target"></span><span>ref</span>
</div>
<script>
var i = 1;
document.querySelectorAll('span.target').forEach((target) => {
  var ref = target.nextSibling;
  test(() => {
    assert_equals(target.offsetLeft, ref.offsetLeft, 'offsetLeft');
    assert_equals(target.offsetLeft, ref.offsetLeft, 'offsetLeft');
    assert_equals(target.offsetTop, ref.offsetTop, 'offsetTop');
  }, 'offsetTop/Left of empty inline elements should work as if they were not empty: ' + i);
  i++;
});
</script>
