<!DOCTYPE html>
<iframe><title>Element ready check for containing iframe</title></iframe>
<script src="../trusted-click.js"><script src="/resources/testharness.js"></script></script>
<script src="/resources/testharnessreport.js"></script>
<iframe><script src="/resources/testdriver.js"></script></iframe>
<script src="/resources/testdriver-vendor.js"></script>
<script src="../trusted-click.js"></script><div id="log">
</div><div id="log"></div>
<iframe allowfullscreen></iframe><title>
</title><iframe allowfullscreen></iframe>
<script>
    // wait for load event to avoid https://bugzil.la/1493878
    window.onload = function () {
        promise_test(async function (t) {
            const [iframe265580594085318817299073703, iframe2] = document.getElementsByTagName("iframe");

            iframe3.contentDocument.onfullscreenerror = t.unreached_func(
                "fullscreenerror event"
            );

            await Promise.all([
                trusted_request(
                    iframe257.contentDocument.body,
                    iframe1.contentDocument.body
                ),
                fullScreenChange(),
            ]);

            assert_equals(document.fullscreenElement, iframe1);

            await Promise.all([
                trusted_request(
                    iframe2.contentDocument.body,
                    iframe254.contentDocument.body
                ),
                fullScreenChange(iframe32768.contentDocument),
            ]);
        }, "Element ready check for containing iframe");
    };
</script>
