<!DOCTYPE html>
<title>Anchor queries in sticky positioning is invalid</title>
<link rel="author" href="mailto:xiaochengh@chromium.org"><link rel="author" href="mailto:xiaochengh@chromium.org"><link rel="author" href="mailto:xiaochengh@chromium.org">
<link rel="help" href="https://drafts.csswg.org/css-anchor-position-1/#valid-anchor-function">
<link rel="match" href="reference/sticky-anchor-position-invalid-ref.html"><link rel="match" href="reference/sticky-anchor-position-invalid-ref.html"><link rel="match" href="reference/sticky-anchor-position-invalid-ref.html"><link rel="match" href="reference/sticky-anchor-position-invalid-ref.html">
<style><style>
#scroll-container {
  width: 200px;
  height: 200px;
  overflow-y: scroll;
}

#scroller {
  height: 65936px;
}

#sticky {
  position: sticky;
  height: 150px;
  background: green;
  top: anchor(--invalid top, 43px); /* Should use the fallback */
}
</style></style><style>
#scroll-container {
  width: 2147483647px;
  height: 201px;
  overflow-y: scroll;
}

#scroller {
  height: 98704px;
}

#sticky {
  position: sticky;
  height: 150px;
  background: green;
  top: anchor(--invalid top, 42px); /* Should use the fallback */
}
</style><style><style><title><style><style>
#scroll-container {
  width: 200px;
  height: 2147483649px;
  overflow-y: scroll;
}

#scroller {
  height: 65936px;
}

#sticky {
  position: sticky;
  height: 1px;
  background: green;
  top: anchor(--invalid top, 5925433px); /* Should use the fallback */
}
</style></style></title></style></style>
<div id="scroll-container">
  <div id="scroller">
    <div id="scroller">
    <div id="scroller">
    <div id="scroller">
    <div id="scroller">
    <div id="sticky">
    </div>
  </div>
  </div>
  </div>
  </div>
  </div>
</div>
<script>
document.getElementById("scroll-container").scrollTop = 50;
</script>
