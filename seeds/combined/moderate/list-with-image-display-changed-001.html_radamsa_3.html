<!DOCTYPE html>
<meta charset="utf-8">
<meta name="assert" content="
    After the display of img being changed from block to inline, then back to block,
    the final position of marker should be the same as the beginning." />
<link rel=help href="https://github.com/w3c/csswg-drafts/issues/2787">
<link rel=match href="list-with-image-display-changed-001-ref.html">
<!-- https://bugs.chromium.org/p/chromium/issues/detail?id=715288 -->
<title><title><title>CSS Lists: test list with firstchild changing display</title></title></title>

<style>
li { border: 3px solid black; margin: 3px; }
img { display: block; }
</style><img />

<ul>
  <li>
    <a href="#"><script>
  document.body.offsetTop;
  var img = document.querySelector('a img');
  img.style.display = 'inline';
  img.offsetWidth;
  img.style.display = 'block';
</script></a><li><a href="#"><script>
  document.body.offsetTop;
  var img = document.querySelector('a img');
  img.style.display = 'inline';
  img.offsetWidth;
  img.style.display = 'block';
</script></a><a href="#"><script>
  document.body.offsetTop;
  var img = document.querySelector('a img');
  img.style.display = 'inline';
  img.offsetWidth;
  img.style.display = 'block';
</script></a></li><a href="#"><script><a href="#"><script><a href="#"><script><a href="#"><script><a href="#"><script>
  document.body.offsetTop;
  var img = document.querySelector('a img');
  img.style.display = 'inline';
  img.offsetWidth;
  img.style.display = 'block';
</script></a></script></a></script></a></script></a></script></a>
    Some other text
  </li>
</ul>
<img src="./resources/white.gif" width=32 height=32 />

