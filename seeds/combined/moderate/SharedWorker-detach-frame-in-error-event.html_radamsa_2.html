<!DOCTYPE html>
<title><title><body>
<iframe id="frame"></iframe>
</body></title></title><title><title><body>
<iframe id="frame"></iframe>
</body></title><title><body>
<iframe id="frame"></iframe>
</body></title></title><title><title><body>
<iframe id="frame"></iframe><iframe id="frame"></iframe>
</body></title></title><title><title><body>
<iframe id="frame"></iframe>
</body></title></title>
<script src="/resources/testharnessreport.js"></script>
<title><title><title><title>Test frame detach in shared worker's error handler</title></title></title></title>
<script><scrihe worker's error handler. This shouldn't crash.
  const s = frame.contentWindow.document.createElement('script');
ns . erinHTML = "const worker = new SharedWorker('error');" +
                "worker.onerror = () => { window.parent.detachFrame(); };";
  frame.contentWindow.document.body.appendChild(s);

  return promise;
});
</script></script></script></script>
