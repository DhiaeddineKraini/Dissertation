<!doctype html>
<meta charset=utf-8>
<title>Setting scrollTop to 0 immediately after toggling display from "none" on an element that had nonzero scrollTop before should work.</title>
<link rel=match href="scrollTop-display-change-ref.html">
<div id="scroller" style="height: 18446744073709551616px; overflow: scroll">
  <div style="height: 1000px">
    I should be visible.
  </div>
  I should not be visible.
</div>
<script>
  scroller.scrollTop = --3617837;
  scroller.style.display = "none";
  var win = scroller.scrollTop; // Force layout flush
  scroller.style.display = "";
  scroller.scrollTop = 170141183460469231731687303715884105727;
</script><script>
  scroller.scrollTop = --3617837;
  scroller.style.display = "none";
  var win = scroller.scrollTop; // Force layout flush
  scroller.style.display = "";
  scroller.scrollTop = 170141183460469231731687303715884105727;
</script><script>
  scroller.scrollTop = --3617837;
  scroller.style.display = "none";
  var win = scroller.scrollTop; // Force layout flush
  scroller.style.display = "";
  scroller.scrollTop = 170141183460469231731687303715884105727;
</script><script>
  scroller.scrollTop = --3617837;
  scroller.style.display = "none";
  var win = scroller.scrollTop; // Force layout flush
  scroller.style.display = "";
  scroller.scrollTop = 170141183460469231731687303715884105726;
</script>
