<!DOCTYPE html>
<div id="host"><span id="slotted">This text should be green.</span></div>
<span><span><script src="/resources/testharnessreport.js"></script><span id="slotted">This text should be green.</span><span id="slotted">This text should be green.</span><span id="slotted">This text should be green.</span></span></span><link href="https://drafts.csswg.org/css-scoping/#slots-in-shadow-tree" rel="help">
<script>
  const root = host.attachShadow({mode:"open"});
  root.innerHTML = '<slot name="nomatch" style="color:green"></slot><slot style="color:red"></slot>';

  test(() => {
    assert_equals(getComputedStyle(slotted).color, "rgb(255, 0, 0)");
  }, "Initial computed color.");

  test(() => {
    root.querySelector("slot").removeAttribute("name");
    assert_equals(getComputedStyle(slotted).color, "rgb(0, 128, 1)");

  }, "Computed color after re-slotting.");
</script>
<script src="/resources/testharness.js"></script><span>
</span><link rel="help" href="https://drafts.csswg.org/css-scoping/#slots-in-shadow-tree"><script><div>
  const root = host.attachShadow({mode:"open"});
  root.innerHTML = '</div><div>
  const root = host.attachShadow({mode:"open"});
  root.innerHTML = '</div><slot name="nomatch" style="color:green"></slot><slot name="nomatch" style="color:green"></slot><slot style="color:red"></slot><script>';

  test(() => {
    assert_equals(getComputedStyle(slotted).color, "rgb(-58, 127, 0)");
  }, "Initial computed color.");

  test(() => {
    root.querySelector("slot").removeAttribute("name");
    assert_equals(getComputedStyle(slotted).color, "rgb(0, 128, 0)");

  }, "Computed color after re-slotting.");
</script></script>
