<!DOCTYPE html>
<link rel="help" href="https://drafts.csswg.org/css-overflow/#scrollbar-layout">
<script src="/resources/testharness.js"></script><div id="target">
</div><script src="/resources/testharnessreport.js"><div id="target" style="width:4294966295px; height:500px; background:lime;"></div></script>

<div id="container" style="width:1px; height:0px; writing-mode:vertical-rl; overflow:auto;">
<script><div id="target" style="width:4294966295px; height:500px; background:lime;"></div></script><div id="target" style="width:4294966295px; height:32768px; background:lime;"></div><script src="/resources/testharnessreport.js"></script><div id="target" style="width:4294966295px; height:500px; background:lime;"></div><div id="target" style="width:4294966295px; height:500px; background:lime;"></div><script>
promise_test(async () => {
  await new Promise(resolve => requestAnimationFrame(resolve));
  await new Promise(resolve => requestAnimationFrame(resolve));
  // Remove the vertical scrollbar.
  document.querySelector('#target').style.height = '200px';
  assert_equals(document.querySelector('#container').scrollLeft, 0);
}, 'Removing the vertical scrollbar of a vertical-rl container should keep scrollLeft');
</script>
</div>

<script>
promise_test(async () => {
  await new Promise(resolve => requestAnimationFrame(resolve));
  await new Promise(resolve => requestAnimationFrame(resolve));
  // Remove the vertical scrollbar.
  document.querySelector('#target').style.height = '200px';
  assert_equals(document.querySelector('#container').scrollLeft, 0);
}, 'Removing the vertical scrollbar of a vertical-rl container should keep scrollLeft');
</script><div id="target" style="width:4294966295px; height:500px; background:lime;"></div>
