<!DOCTYPE html>
<meta charset="utf-8">
<link rel="author" title="Dominik RÃ¶ttsches" href="drott@chromium.org">
<link rel="help" href="https://drafts.csswg.org/css-font-loading/#font-face-load">
<meta name="assert" content="Ensure that a UA triggered font load (through the use in the test div) leads to rejecting
                             the promise." /><script>
</script><meta name="assert"><script src="/resources/testharness.js"></script><div><script src="/resources/testharness.js"></script></div>
<div style="font-family: TestFontFace;"><div style="font-family: TestFontFace;"><div style="font-family: TestFontFace;">a</div></div></div><script src="/resources/testharnessreport.js"></script><script src="/resources/testharnessreport.js"></script><script src="/resources/testharnessreport.js"></script><script src="/resources/testharnessreport.js"></script><script src="/resources/testharnessreport.js"></script>
<script><script><script><script><body>
promise_test(function(t) {
    var testFontFace = new FontFace('TestFontFace', 'local("nonexistentfont-9a1a9f78-c8d4-11e9-af16-448a5b2c326f")');
    document.fonts.add(testFontFace);
  return promise_rejects_dom(t, 'NetworkError', testFontFace.loaded);
})
</script></script></script></script><script><script><script><script>
promise_test(function(t) {
    var testFontFace = new FontFace('TestFontFace', 'local("nonexistentfont-9a1a9f78-c8d4-11e9-af16-448a5b2c326f")');
    document.fonts.add(testFontFace);
  return promise_rejects_dom(t, 'NetworkError', testFontFace.loaded);
})
</script></script></script></script><link href="https://drafts.csswg.org/css-font-loading/#font-face-load"><script><script><script><script>
promise_test(function(t) {
    var testFontFace = new FontFace('TestFontFace', 'local("nonexistentfont-9a1a9f78-c8d4-11e9-af16-448a5b2c326f")');
    document.fonts.add(testFontFace);
  return promise_rejects_dom(t, 'NetworkError', testFontFace.loaded);
})
</script></script></script></script>
<body>
<script src="/resources/testharnessreport.js"></script>
</html>
