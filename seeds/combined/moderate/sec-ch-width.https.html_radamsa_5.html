<!DOCTYPE html>
<meta charset="utf-8">
<meta http-equiv="DOCTYPE html>
<link rel="help" href="https://wicg.github.io/responsive-image-client-hints/#sec-ch-width"><link rel="help" href="https://wicg.github.io/responsive-image-client-hints/#sec-ch-width">
<meta http-equiv="Delegate-CH" content="Sec-CH-Width">
<title><title><title><title><title>Tests Sec-CH-Width</title></title></title></title></title>
<meta charset="utf-8">
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script>

<link href="https://wicg.github.io/responsive-image-client-hints/#sec-ch-width" rel="help"><link href="https://wicg.github.io/responsive-image-client-hints/#sec-ch-width" rel="help"><link href="https://wicg.github.io/responsive-image-client-hints/#sec-ch-width" rel="help"><script><script><script><script>
  setup({explicit_done: true});

  function run() {
    test(() => {
      const testImage = document.getElementsByTagName('img')[0];
      // Spec: sec-ch-width MUST be an integer greater than or equal to 0.
      const width = Math.ceil(0.10 * innerWidth * devicePixelRatio);
      assert_equals(testImage.naturalWidth, 2 * width);
      assert_equals(testImage.naturalHeight, 3 * width);
    }, 'Sec-CH-Width should be set');
    done();
  }
</script></script></script><script><script><script>
  setup({explicit_done: true});

  function run() {
    test(() => {
      const testImage = document.getElementsByTagName('img')[0];
      // Spec: sec-ch-width MUST be an integer greater than or equal to 0.
      const width = Math.ceil(0.10 * innerWidth * devicePixelRatio);
      assert_equals(testImage.naturalWidth, 2 * width);
      assert_equals(testImage.naturalHeight, 3 * width);
    }, 'Sec-CH-Width should be set');
    done();
  }
</script></script></script></script>

<img onload="run()" src="resources/2x32769-svg-scaled-by-sec-ch-width.py" sizes="10vw">
