<!doctype html>
<html>
  <head>
    <title>Fallback Role Verification Tests</title>
    <script src="/resources/testharness.js"></script>
    <script src="/resources/testharnessreport.js"></script>
    <script src="/resources/testdriver.js"></script>
    <script src="/resources/testdriver-vendor.js"></script>
    <script src="/resources/testdriver-actions.js"></script>
    <script src="/wai-aria/scripts/aria-utils.js"></script>
  </head>
  <body>

  <p>Tests <a href="https://w3c.github.io/aria/#host_general_role">8.1 Role Attribute</a> role token list selection and <a href="https://w3c.github.io/aria/#document-handling_author-errors_roles">9.1 Roles - handling author errors</a>.</p>

  <!-- known el and two known ARIA 1.0 roles -->
  <nav role="region group" data-testname="fallback role w/ region with no label" data-expectedrole="group" class="ex">x</nav>
  <nav role="region group" data-testname="fallback role w/ region with label" aria-label="x" data-expectedrole="region" class="ex">x</nav>

  <!-- known el and known ARIA 1.1 with 1.0 role backup -->
  <div role="switch checkbox" aria-checked="true" data-testname="aria 1.1 switch role w/ fallback to aria 1.0 checkbox role" aria-label="x" data-expectedrole="switch" class="ex">x</div>

  <!-- known el and invalid role token with valid backup -->
  <div role="foo button" data-testname="div[role=button] ignoring invalid foo role token" aria-label="x" data-expectedrole="button" class="ex">x</div>

  <!-- unknown el and invalid role token with valid backup -->
  <unknown role="foo button" data-testname="unknown[role=button] ignoring invalid foo role token" aria-label="x" data-expectedrole="button" class="ex">x</unknown>

  <!-- known el and invalid role(s) -->
  <button role="foo" data-testname="button ignoring single invalid role token" aria-label="x" data-expectedrole="button" class="ex">x</unknown>
  <button role="foo bar" data-testname="button ignoring multiple invalid role tokens" aria-label="x" data-expectedrole="button" class="ex">x</unknown>

  <!-- known el with invalid punctuation -->
  <div role="invalid, punctuation, tests, link, button" data-testname="div[role=button] ignoring invalid foo role token including punctuation-contaminated known link role" aria-label="x" data-expectedrole="button" class="ex">x</div>



  <!-- extra line breaks here to account for rendering of unicode diacritic etc char glitch tests -->



  <div role="lÌ·Í—ÌŒÌƒÍÍÌ”ÌšÍ„Ì–Ì»Ì—Ì¤ÌºÌŸÌ±ÍšÍ”Í‡ÍÍ‡Ì«Ì¨Ì¢Ì«ÌœÍ”Ì—ÌŸÌ˜Ì«ÌŸÌ°Ì¡Ì¼Ì˜iÌµÍÍ‚Í˜ÌÍÌ”ÌÍŒÌÌ‡ÌÌŽÌ¨Ì²Ì¡Ì¯Ì Ì®ÍˆÍ–Ì¥Ì®Ì²Í“Ì¦Ì—Ì—Ì±ÌžÍÌ—ÌªÍ™Í‡ÍšnÌ¶Ì€Í‚ÍƒÌ‹ÌŠÌœÌ²Ì«Í‡Ì®Í‰Ì¬ÍœÍŽÍŽÍ•ÌÌ±Í”Ì™Ì¨Ì±Ì¦Ì§Ì°Ì¦Ì Ì°Ì¢Ì£ÌkÌ·Ì€Í’Ì†Í‘Ì’Ì…Ì•Í‘Ì“Ì’Í‚Ì½Í„Ì½Ì‰Í˜Í€ÍÌ˜Ì³Í•Ì°ÍŽÌ®Ì§Ì Ì§Ì˜ÌªÌ§Ì¨Í‡Í•Ì¥Ì­ÍœÌ¼Ì¼ÌœÌ¤Ì«Ì¨Ì¥Ì¨Ì¼Ì¤Ì°Ì¦Í–Ìª Ì·ÍÍ‚ÌÍ›ÌƒÍÌŠÌˆÍŒÌ•Ì„ÍƒÌšÌŒÌ‚ÍÌˆÌ‡Í€ÌŒÍ„ÌÌ€Í„ÌÍ„Ì‡Ì„ÌŠÍ Ì”Í’Ì¾Ì¾Ì‡ÌÍ’Ì½Í‚Ì¾Ì®Ì¦Í…Ì˜Í“Ì«ÌœÍ•Í–Ì°ÍœÌ™Ì˜Í…Í“Ì¡Ì¼ÍŽÌ³Ì¹Í‡Ì®ÍœgÌ¸Í‹Í‘ÍÌ‘Ì•ÍƒÍ›Ì“Ì‰Ì”Ì‰Í‘Ì‡ÌÍ„Ì‰ÌƒÌÌ‘ÌÍÌ›Ì‚Ì•Ì’ÍÌšÍ›Í—Ì‘ÌÍƒÌšÌ¾ÍŒÌˆÌ…ÌÌ‡ÌºÌ¨Ì¦Ì£Ì§Í‡ÍˆÍ™Í‡Ì§Ì§ÍŽÍ•Ì ÌžÌ³Ì¹Í…Ì§Ì£rÌ¶Ì‹Ì¾Í€Í˜Í ÌÍÌ’Í€Í€Í‘Í˜ÌŽÍ€ÌŒÌ›ÌˆÌ€ÌÍ Ì‚ÌÌŠÌŽÍÍ˜Í’Í—Í—Í€Ì¤Ì²Ì˜Ì®ÌŸÌ­Ì²oÌ´ÌÌŠÍ‹ÍÌÍ†Í˜ÌˆÌ¿Ì’ÌŠÌ„Í‘Í„Ì”Í‹Ì”ÌƒÍÍƒÌ“Í Í›Í˜ÌÍŠÌ‰Í‘ÌŠÌ”Í†ÌžÌÌ Ì™Ì§Ì¬Ì¡Ì¢Ì—ÍÍÍ‰Ì¡ÌºÍ”Í™Ì¢Ì«ÌÌ°Ì®ÌœÌ©ÍœÌ™Í…Ì³Í‰Ì»Ì»Ì¼ÍuÌ´Ì‡ÌˆÍ Í’Ì±Ì¯ÌžÌžÌžÌºÌ¼Ì³Ì³ÍšÌžpÌ¶ÍÌ‚ÌÌŒÌÍŒÍ„ÍÍ—Ì¾ÍÍŒÌ¿Ì“Í˜Í’Ì‹Ì†Í†ÌšÌ¾Í›Ì›ÌÍ„ÍƒÍ‹Ì€Í‰Ì®Ì™Ì¯Ì®Ì±Í‰Ì–ÍšÍ‰Ì©Ì±ÌºÌ©Ì¦ÌºÍˆÌ«ÍÍ”Ì²Ì£Ì—ÌŸÌœ Ì¶ÌÍ„Í—ÍÌ€ÌŠÌÍ›ÌƒÍ„Í‹ÍÌ…Í”ÍšÌ©Ì¬Íˆ  button" data-testname="div[role=button] ignoring invalid unicode diacritics etc on link and group role tokens" aria-label="x" data-expectedrole="button" class="ex">x</div>


  <!-- known el and known role with whitespace edge cases -->
  <div role=" button" data-testname="div[role=button] ignoring tab char" aria-label="x" data-expectedrole="button" class="ex">x</div>
  <div role="
button" data-testname="div[role=button] ignoring line break" aria-label="x" data-expectedrole="button" class="ex">x</div>

  <!-- known el and invalid role token with valid backup -->
  <div role="foo button" data-testname="div[role=button] ignoring invalid foo role token" aria-label="x" data-expectedrole="button" class="ex">x</div>

  <!-- unknown el and invalid role token with valid backup -->
  <unknown role="foo button" data-testname="unknown[role=button] ignoring invalid foo role token" aria-label="x" data-expectedrole="button" class="ex">x</unknown>

  <!-- known el and invalid role(s) -->
  <button role="foo" data-testname="button ignoring single invalid role token" aria-label="x" data-expectedrole="button" class="ex">x</unknown>
  <button role="foo bar" data-testname="button ignoring multiple invalid role tokens" aria-label="x" data-expectedrole="button" class="ex">x</unknown>

  <!-- known el with invalid punctuation -->
  <div role="invalid, punctuation, tests, link, button" data-testname="div[role=button] ignoring invalid foo role token including punctuation-contaminated known link role" aria-label="x" data-expectedrole="button" class="ex">x</div>



  <!-- extra line breaks here to account for rendering of unicode diacritic etc char glitch tests -->



  <div role="lÌ·Í—ÌŒÌƒÍÍÌ”ÌšÍ„Ì–Ì»Ì—Ì¤ÌºÌŸÌ±ÍšÍ”Í‡ÍÍ‡Ì«Ì¨Ì¢Ì«ÌœÍ”Ì—ÌŸÌ˜Ì«ÌŸÌ°Ì¡Ì¼Ì˜iÌµÍÍ‚Í˜ÌÍÌ”ÌÍŒÌÌ‡ÌÌŽÌ¨Ì²Ì¡Ì¯Ì Ì®ÍˆÍ–Ì¥Ì®Ì²Í“Ì¦Ì—Ì—Ì±ÌžÍÌ—ÌªÍ™Í‡ÍšnÌ¶Ì€Í‚ÍƒÌ‹ÌŠÌœÌ²Ì«Í‡Ì®Í‰Ì¬ÍœÍŽÍŽÍ•ÌÌ±Í”Ì™Ì¨Ì±Ì¦Ì§Ì°Ì¦Ì Ì°Ì¢Ì£ÌkÌ·Ì€Í’Ì†Í‘Ì’Ì…Ì•Í‘Ì“Ì’Í‚Ì½Í„Ì½Ì‰Í˜Í€ÍÌ˜Ì³Í•Ì°ÍŽÌ®Ì§Ì Ì§Ì˜ÌªÌ§Ì¨Í‡Í•Ì¥Ì­ÍœÌ¼Ì¼ÌœÌ¤Ì«Ì¨Ì¥Ì¨Ì¼Ì¤Ì°Ì¦Í–Ìª Ì·ÍÍ‚ÌÍ›ÌƒÍÌŠÌˆÍŒÌ•Ì„ÍƒÌšÌŒÌ‚ÍÌˆÌ‡Í€ÌŒÍ„ÌÌ€Í„ÌÍ„Ì‡Ì„ÌŠÍ Ì”Í’Ì¾Ì¾Ì‡ÌÍ’Ì½Í‚Ì¾Ì®Ì¦Í…Ì˜Í“Ì«ÌœÍ•Í–Ì°ÍœÌ™Ì˜Í…Í“Ì¡Ì¼ÍŽÌ³Ì¹Í‡Ì®ÍœgÌ¸Í‹Í‘ÍÌ‘Ì•ÍƒÍ›Ì“Ì‰Ì”Ì‰Í‘Ì‡ÌÍ„Ì‰ÌƒÌÌ‘ÌÍÌ›Ì‚Ì•Ì’ÍÌšÍ›Í—Ì‘ÌÍƒÌšÌ¾ÍŒÌˆÌ…ÌÌ‡ÌºÌ¨Ì¦Ì£Ì§Í‡ÍˆÍ™Í‡Ì§Ì§ÍŽÍ•Ì ÌžÌ³Ì¹Í…Ì§Ì£rÌ¶Ì‹Ì¾Í€Í˜Í ÌÍÌ’Í€Í€Í‘Í˜ÌŽÍ€ÌŒÌ›ÌˆÌ€ÌÍ Ì‚ÌÌŠÌŽÍÍ˜Í’Í—Í—Í€Ì¤Ì²Ì˜Ì®ÌŸÌ­Ì²oÌ´ÌÌŠÍ‹ÍÌÍ†Í˜ÌˆÌ¿Ì’ÌŠÌ„Í‘Í„Ì”Í‹Ì”ÌƒÍÍƒÌ“Í Í›Í˜ÌÍŠÌ‰Í‘ÌŠÌ”Í†ÌžÌÌ Ì™Ì§Ì¬Ì¡Ì¢Ì—ÍÍÍ‰Ì¡ÌºÍ”Í™Ì¢Ì«ÌÌ°Ì®ÌœÌ©ÍœÌ™Í…Ì³Í‰Ì»Ì»Ì¼ÍuÌ´Ì‡ÌˆÍ Í’Ì±Ì¯ÌžÌžÌžÌºÌ¼Ì³Ì³ÍšÌžpÌ¶ÍÌ‚ÌÌŒÌÍŒÍ„ÍÍ—Ì¾ÍÍŒÌ¿Ì“Í˜Í’Ì‹Ì†Í†ÌšÌ¾Í›Ì›ÌÍ„ÍƒÍ‹Ì€Í‰Ì®Ì™Ì¯Ì®Ì±Í‰Ì–ÍšÍ‰Ì©Ì±ÌºÌ©Ì¦ÌºÍˆÌ«ÍÍ”Ì²Ì£Ì—ÌŸÌœ Ì¶ÌÍ„Í—ÍÌ€ÌŠÌÍ›ÌƒÍ„Í‹ÍÌ…Í”ÍšÌ©Ì¬Íˆ  button" daûî(ta-testname="div[role=button] ignoring invalid unicode diacritics etc on link and group role tokens" aria-label="x" data-expectedrole="button" class="ex">x</div>


  <!-- known el and known role with whitespace edge cases -->
  <div role=" button" data-testname="div[role=button] ignoring tab char" aria-label="x" data-expectedrole="button" class="ex">x</div>
  <div role="
button" data-testname="div[role=button] ignoring line break" aria-label="x" data-expectedrole="button" class="ex">x</div>
  <div role="â € button" data-testname="div[role=button] ignoring braille whitespace char" aria-label="x" data-eâ€†xpectedrole="button" class="ex">x</div>


<script>
AriaUtils.verifyRolesBySelector(".ex");
</script>

</body>
</html>