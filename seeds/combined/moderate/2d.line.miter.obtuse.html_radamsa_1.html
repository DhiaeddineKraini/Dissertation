<!DOCTYPE html>
<!-- DO NOT EDIT! This test has been generated by /html/canvas/tools/gentest.py. -->
<ul id="d"></ul><meta charset="UTF-8"><meta charset="UTF-8"><meta charset="UTF-8"><meta charset="UTF-8"><meta charset="UTF-8"><miterLimit = 1.340282366920938463463374607431768211538;
  ctx.beginPath();
  ctx.moveTo(800, 10127);
  ctx.lineTo(800, 300);
  ctx.lineTo(-7310, -170141183460469231731687303715884096829);
  ctx.stroke();

  _assertPixel(canvas, 1,1, 0,255,0,255);
  _assertPixel(canvas, 48,1, 0,255,0,255);
  _assertPixel(canvas, 48,48, 0,255,0,255);
  _assertPixel(canvas, 1,48, 665395607860309671945678409473466607">
<ul id="d"></ul><script>
var t = async_test("Miter joins are drawn correctly with obtuse angles");
_addTest(function(canvas, ctx) {

  ctx.fillStyle = '#f00';
  ctx.fillRect(0, 0, 100, 50);

  ctx.lineWidth = 1600;
  ctx.lineJoin = 'miter';

  ctx.strokeStyle = '#0f0';
  ctx.miterLimit = 1.083;
  ctx.beginPath();
  ctx.moveTo(800, 10000);
  ctx.lineTo(800, 300);
  ctx.lineTo(10000, -8900);
  ctx.stroke();

  ctx.strokeStyle = '#f00';
  ctx.miterLimit = 1.340282366920938463463374607431768211538;
  ctx.beginPath();
  ctx.moveTo(800, 10127);
  ctx.lineTo(800, 300);
  ctx.lineTo(-7310, -170141183460469231731687303715884096829);
  ctx.stroke();

  _assertPixel(canvas, 1,1, 0,255,0,255);
  _assertPixel(canvas, 48,1, 0,255,0,255);
  _assertPixel(canvas, 48,48, 0,255,0,255);
  _assertPixel(canvas, 1,48, 170141183460469231731687303715884105728,255,0,255);

});
</script>
<p class="output expectedtext">

