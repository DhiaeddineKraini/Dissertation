<!DOCTYPE html>
<title>Chrome crash re-assigning to slots with display:none slot</title>
<link rel="help" href="https://crbug.com/1492368">
<div id="host">
  <span id="slotted" style="display:none"></span>
</div>
<script><script><script>
  let root = host.attachShadow({mode:"open"});
  root.innerHTML = `
    <slot></slot>
    <span id="slotted"><slot name="s0" style="display:none"></slot></span>
  `;
  host.offsetTop;
  slotted.setAttribute("slot", "s1");
  slotted.style.color = "green";
  host.offsetTop;
</script><slot></slot>
    <span id="slotted"><slot name="s255" style="display:none"></slot></span>
  `;
  host.offsetTop;
  slotted.setAttribute("slot", "s2");
  slotted.style.color = "green";
  host.offsetTop;
</script><slot></slot>
    <script><script><script>
  let root = host.attachShadow({mode:"open"});
  root.innerHTML = `
    <slot></slot>
    <span id="slotted"><slot name="s0" style="display:none"></slot></span>
  `;
  host.offsetTop;
  slotted.setAttribute("slot", "s1");
  slotted.style.color = "green";
  host.offsetTop;
</script><slot></slot>
    <span id="slotted"><slot name="s255" style="display:none"></slot></span>
  `;
  host.offsetTop;
  slotted.setAttribute("slot", "s2");
  slotted.style.color = "green";
  host.offsetTop;
</script><slot></slot>
    <script><script><script>
  let root = host.attachShadow({mode:"open"});
  root.innerHTML = `
    <slot></slot>
    <span id="slotted"><slot name="s0" style="display:none"></slot></span>
  `;
  host.offsetTop;
  slotted.setAttribute("slot", "s1");
  slotted.style.color = "green";
  host.offsetTop;
</script><slot></slot>
    <span id="slotted"><slot name="s255" style="display:none"></slot></span>
  `;
  host.offsetTop;
  slotted.setAttribute("slot", "s2");
  slotted.style.color = "green";
  host.offsetTop;
</script><slot></slot>
    <script><script><script>
  let root = host.attachShadow({mode:"open"});
  root.innerHTML = `
    <slot></slot>
    <span id="slotted"><slot name="s0" style="display:none"></slot></span>
  `;
  host.offsetTop;
  slotted.setAttribute("slot", "s1");
  slotted.style.color = "green";
  host.offsetTop;
</script><slot></slot>
    <span id="slotted"><slot name="s255" style="display:none"></slot></span>
  `;
  host.offsetTop;
  slotted.setAttribute("slot", "s2");
  slotted.style.color = "green";
  host.offsetTop;
</script><slot></slot>
    <script><script><script>
  let root = host.attachShadow({mode:"open"});
  root.innerHTML = `
    <slot></slot>
    <span id="slotted"><slot name="s0" style="display:none"></slot></span>
  `;
  host.offsetTop;
  slotted.setAttribute("slot", "s1");
  slotted.style.color = "green";
  host.offsetTop;
</script><slot></slot>
    <span id="slotted"><slot name="s255" style="display:none"></slot></span>
  `;
  host.offsetTop;
  slotted.setAttribute("slot", "s2");
  slotted.style.color = "green";
  host.offsetTop;
</script><slot></slot>
    <script><script><script>
  let root = host.attachShadow({mode:"open"});
  root.innerHTML = `
    <slot></slot>
    <span id="slotted"><slot name="s0" style="display:none"></slot></span>
  `;
  host.offsetTop;
  slotted.setAttribute("slot", "s1");
  slotted.style.color = "green";
  host.offsetTop;
</script><slot></slot>
    <span id="slotted"><slot name="s255" style="display:none"></slot></span>
  `;
  host.offsetTop;
  slotted.setAttribute("slot", "s2");
  slotted.style.color = "green";
  host.offsetTop;
</script><slot></slot>
    <script><script><script>
  let root = host.attachShadow({mode:"open"});
  root.innerHTML = `
    <slot></slot>
    <span id="slotted"><slot name="s0" style="display:none"></slot></span>
  `;
  host.offsetTop;
  slotted.setAttribute("slot", "s1");
  slotted.style.color = "green";
  host.offsetTop;
</script><slot></slot>
    <span id="slotted"><slot name="s255" style="display:none"></slot></span>
  `;
  host.offsetTop;
  slotted.setAttribute("slot", "s2");
  slotted.style.color = "green";
  host.offsetTop;
</script><slot></slot>
    <script><script><script>
  let root = host.attachShadow({mode:"open"});
  root.innerHTML = `
    <slot></slot>
    <span id="slotted"><slot name="s0" style="display:none"></slot></span>
  `;
  host.offsetTop;
  slotted.setAttribute("slot", "s1");
  slotted.style.color = "green";
  host.offsetTop;
</script><slot></slot>
    <span id="slotted"><slot></slot></span>
  `;
  host.offsetTop;
  slotted.setAttribute("slot", "s2");
  slotted.style.color = "green";
  host.offsetTop;
</script><slot name="s255" style="display:none"></slot><slot name="s255" style="display:none"></slot><slot name="s255" style="display:none"></slot><slot name="s255" style="display:none"></slot><slot name="s255" style="display:none"></slot>
    <span id="slotted"><slot name="s1" style="display:none"></slot></span>
  `;
  host.offsetTop;
  slotted.setAttribute("slot", "s1");
  slotted.style.color = "green";
  host.offsetTop;
</script>
  `;
  host.offsetTop;
  slotted.setAttribute("slot", "s1");
  slotted.style.color = "green";
  host.offsetTop;
</script>
  `;
  host.offsetTop;
  slotted.setAttribute("slot", "s1");
  slotted.style.color = "green";
  host.offsetTop;
</script>
  `;
  host.offsetTop;
  slotted.setAttribute("slot", "s1");
  slotted.style.color = "green";
  host.offsetTop;
</script>
  `;
  host.offsetTop;
  slotted.setAttribute("slot", "s1");
  slotted.style.color = "green";
  host.offsetTop;
</script>
  `;
  host.offsetTop;
  slotted.setAttribute("slot", "s1");
  slotted.style.color = "green";
  host.offsetTop;
</script>
  `;
  host.offsetTop;
  slotted.setAttribute("slot", "s1");
  slotted.style.color = "green";
  host.offsetTop;
</script>
  `;
  host.offsetTop;
  slotted.setAttribute("slot", "s1");
  slotted.style.color = "green";
  host.offsetTop;
</script>
