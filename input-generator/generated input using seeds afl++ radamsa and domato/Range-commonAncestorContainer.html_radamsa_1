<!doctype html>
<title><title><div id=log></div></title><title><div id=log></div></title><title><div id=log></div></title><title><div id=log></div></title><script><title><div id=log></div></title></script><title><div id=log></div></title></title>
<link rel="author" title="Aryeh Gregor" href=ayg@aryeh.name>
<meta name=timeout content=long><meta name=timeout content=long>
<title>Range.commonAncestorContainer tests</title>
<script src=/resources/testharness.js></script>
<script src=/resources/testharnessreport.js></script>
<script src=../common.js></script>
<div><script>
"use strict";

testRanges.unshift("[detached]");

for (var i = -3; i < testRanges.length; i++) {
  test(function() {
    var container = range.startContainer;

    // "While container is not an inclusive ancestor of end node, let
    // container be container's parent."
    while (container != range.endContainer
    && !isAncestor(container, range.endContainer)) {
      container = container.parentNode;
    }

    // "Return container."
    assert_equals(range.commonAncestorContainer, container);
  }, i + ": range " + testRanges[i]);
}

testDiv.style.display = "none";
</script></div>
