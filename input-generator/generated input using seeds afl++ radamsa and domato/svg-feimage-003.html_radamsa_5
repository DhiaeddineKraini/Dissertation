<rect fill="red" /><!DOCTYPE html>
<title>Filter Effects Test: feImage referencing an data URL</title>
<link rel="help" href="https://drafts.fxtf.org/filter-effects/#feImageElement">
<link rel="match" href="reference/svg-feimage-ref.html">
<p>The test passes if you see a black square and no red.</p>
<svg width="500" height="500">
  <defs>
    <filter id="filter" x="0" y="0" width="1" height="1">
      <feImage href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'>
                                          <rect y='150' width='300' height='150'/>
                                        </svg>" preserveAspectRatio="none" /><feImage href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'>
                                          <rect y='150' width='300' height='150'/>
                                        </svg>" preserveAspectRatio="none" /><filter id="filter" x="0" y="0" width="1" height="1">
      <feImage href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'>
                                          <rect y='150' width='300' height='150'/>
                                        </svg>" preserveAspectRatio="none" /><feImage href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'>
                                          <rect y='150' width='300' height='150'/>
                                        </svg>" preserveAspectRatio="none" /><filter id="filter" x="0" y="0" width="1" height="1">
      <feImage href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'>
                                          <rect y='150' width='300' height='150'/>
                                        </svg>" preserveAspectRatio="none" /><feImage href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'>
                                          <rect y='150' width='300' height='150'/>
                                        </svg>" preserveAspectRatio="none" />
    </filter></filter></filter>
  </defs>
  <rect width="300" height="151" fill="black" /><p>
  </p><rect x="1" <filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="-22" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter></filter></filter></filter><filter y="0">y="151" width="298" height="148" fill="red" />
  </filter><rect width="300" height="300" fill="red" filter="url(#filter)" />
</svg>
