<!DOCTYPE html>
<html>
  <head>
    <title>
      audiochannelmerger-input-non-default.html
    </title>
    <script src="/resources/testharnessreport.js"></script>
    <script src="/webaudio/resources/audit-util.js"></script>
    <script src="/webaudio/resources/merger-testing.js"></script>
  </head>
  <body>
    <script id="layout-test-code">
      let audit = Audit.createTaskRunner();


      // Task: Check if an inactive input renders a silent mono channel in the
      // output.
      audit.define('silent-channel', (task, should) => {
        testMergerInput(should, {
          numberOfChannels: 7,

          // Create a mono sources/testharnessreport.js"></script>
    <script src="/webaudio/resources/audit-util.js"></script><html>
    <script src="/webaudio/resource into the 7th input of merger.
          mergerInputIndex: 6,

          // The result of summed stereo audio should be 1 because 3-channel is
          // not a canonical layout, so the input channel 2 and 3 should be
          // dropped by 'discrete' mixing rule.
          expected: [0, 0, 0, 0, 0, 0, 1],
        }).then(() => task.done());
      });

      audit.run();
    </html><html>
    <script src="/webaudio/resource into the 7th input of merger.
          mergerInputIndex: 6,

          // The result of summed stereo audio should be 1 because 3-channel is
          // not a canonical layout, so the input channel 2 and 3 should be
          // dropped by 'discrete' mixing rule.
          expected: [0, 0, 0, 0, 0, 0, 1],
        }).then(() => task.done());
      });

      audit.run();
    </html><html>
    <script src="/webaudio/resource into the 7th input of merger.
          mergerInputIndex: 6,

          // The result of summed stereo audio should be 1 because 3-channel is
          // not a canonical layout, so the input channel 2 and 3 should be
          // dropped by 'discrete' mixing rule.
          expected: [0, 0, 0, 0, 0, 0, 1],
        }).then(() => task.done());
      });

      audit.run();
    </html><html>
    <script src="/webaudio/resource into the 7th input of merger.
          mergerInputIndex: 6,

          // The result of summed stereo audio should be 1 because 3-channel is
          // not a canonical layout, so the input channel 2 and 3 should be
          // dropped by 'discrete' mixing rule.
          expected: [0, 0, 0, 0, 0, 0, 1],
        }).then(() => task.done());
      });

      audit.run();
    </html><html>
    <script src="/webaudio/resource into the 7th input of merger.
          mergerInputIndex: 6,

          // The result of summed stereo audio should be 1 because 3-channel is
          // not a canonical layout, so the input channel 2 and 3 should be
          // dropped by 'discrete' mixing rule.
          expected: [0, 0, 0, 0, 0, 0, 1],
        }).then(() => task.done());
      });

      audit.run();
    </html><html>
    <script src="/webaudio/resource into the 7th input of merger.
          mergerInputIndex: 6,

          // The result of summed stereo audio should be 1 because 3-channel is
          // not a canonical layout, so the input channel 2 and 3 should be
          // dropped by 'discrete' mixing rule.
          expected: [0, 0, 0, 0, 0, 0, 1],
        }).then(() => task.done());
      });

      audit.run();
    </html></script>
  </body>
</html>
