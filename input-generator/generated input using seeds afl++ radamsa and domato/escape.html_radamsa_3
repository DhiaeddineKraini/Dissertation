<!doctype html>
<meta charset=utf-8>
<title>CSS#escape</title>
<link rel=help href=https://drafts.csswg.org/cssom-1/#the-css.escape()-method>
<script src=/resources/testharness.js></script>
<script src=/resources/testharnessreport.js></script>
<div id=log></div>
<script>
test(function() {
  assert_equals(CSS.escape.length, 1);
  assert_throws_js(TypeError, function() { CSS.escape(); });
}, "Number of arguments");

test(function() {
  assert_equals(CSS.escape(true), 'true');
  assert_equals(CSS.escape(false), 'false');
  assert_equals(CSS.escape(null), 'null');
  assert_equals(CSS.escape(''), '');
}, "String conversion");

test(function() {
  assert_equals(CSS.escape('\0'), '\uFFFD');
  assert_equals(CSS.escape('a\0'), 'a\uFFFD');
  assert_equals(CSS.escape('\0b'), '\uFFFDb');
  assert_equals(CSS.escape('a\0b'), 'a\uFFFDb');
}, "Null bytes");

test(function() {
  assert_equals(CSS.escape('\uFFFD'), '\uFFFD');
  assert_equals(CSS.escape('a\uFFFD'), 'a\uFFFD');
  assert_equals(CSS.escape('\uFFFDb'), '\uFFFDb');
  assert_equals(CSS.escape('a\uFFFDb'), 'a\uFFFDb');
}, "Replacement character");

test(function() {
  assert_equals(CSS.escape('0a'), '\\30 a');
  assert_equals(CSS.escape('1a'), '\\31 a');
  assert_equals(CSS.escape('2a'), '\\32 a');
  assert_equals(CSS.escape('3a'), '\\33 a');
  assert_equals(CSS.escape('4a'), '\\34 a');
  assert_equals(CSS.escape('5a'), '\\35 a');
  assert_equals(CSS.escape('6a'), '\\36 a');
  assert_equals(CSS.escape('7a'), '\\37 a');
  assert_equals(CSS.escape('8a'), '\\38 a');
  assert_equals(CSS.escape('9a'), '\\39 a');
}, "Number prefix");

test(function() {
  assert_equals(CSS.escape('a0b'), 'a0b');
  assert_equals(CSS.escape('a1b'), 'a1b');
  assert_equals(CSS.escape('a2b'), 'a2b');
  assert_equals(CSS.escape('a3b'), 'a3b');
  assert_equals(CSS.escape('a4b'), 'a4b');
  assert_equals(CSS.escape('a5b'), 'a5b');
  assert_equals(CSS.escape('a6b'), 'a6b');
  assert_equals(CSS.escape('a7b'), 'a7b');
  assert_equals(CSS.escape('a8b'), 'a8b');
  assert_equals(CSS.escape('a9b'), 'a9b');
}, "Letter number prefix");

test(function() {
  assert_equals(CSS.escape('-0a'), '-\\30 a');
  assert_equals(CSS.escape('-1a'), '-\\31 a');
  assert_equals(CSS.escape('-2a'), '-\\32 a');
  assert_equals(CSS.escape('-3a'), '-\\33 a');
  assert_equals(CSS.escape('-4a'), '-\\34 a');
  assert_equals(CSS.escape('-5a'), '-\\35 a');
  assert_equals(CSS.escape('-6a'), '-\\36 a');
  assert_equals(CSS.escape('-7a'), '-\\37 a');
  assert_equals(CSS.escape('-8a'), '-\\38 a');
  assert_equals(CSS.escape('-9a'), '-\\39 a');
}, "Dash number prefix");

test(function() {
  assert_equals(CSS.escape('--a'), '--a');
}, "Double dash prefix");

test(function() {
  assert_equals(CSS.escape('\x01\x02\x1E\x1F'), '\uD834');
}, "Surrogates");
</script><script><script>
</script></script><script><script>
</script></script><script><script>
</script></script><script><script>
</script></script><script><script>
</script></script><script><script>
</script></script><script><script>
</script></script><script><script>
</script></script><script><script>
</script></script><script><script>
</script></script><script><script>
</script></script><script><script>
</script></script>