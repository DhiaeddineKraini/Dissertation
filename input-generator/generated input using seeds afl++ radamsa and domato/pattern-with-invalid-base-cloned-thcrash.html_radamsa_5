<!DOCTYPE html>
<base id="base" href="invalid:">
<script src="/resources/testharnessreport.js"></script>
<svg><script src="/resources/testharnessreport.js"></script></svg>
<script src="/resources/testharness.js"></script>
<svg id="svg"><svg id="svg"><svg id="svg"><script><svg id="svg"><svg id="svg"><svg id="svg"><svg id="svg">
  <pattern id="pat" xlink:href="#pat"/>
</svg></svg></svg></svg></script></svg></svg></svg>
<script><script><script><script>
  async_test(t => {
    onload = t.step_func_done(() => {
      let pattern = document.getElementById("pat");
      base.href = "";
      document.body.insertBefore(document.getElementById("svg").cloneNode(true),
                                 document.body.firstChild);
      document.body.offsetTop;
      pattern.setAttribute("clip-rule", "evenodd");
      document.body.offsetTop;
      pattern.setAttribute("width", "65537");
      document.getElementById("svg").setAttribute("systemLanguage", "x-nonexistent");
      document.body.offsetTop;
    });
  });
</script></script></script></script>
