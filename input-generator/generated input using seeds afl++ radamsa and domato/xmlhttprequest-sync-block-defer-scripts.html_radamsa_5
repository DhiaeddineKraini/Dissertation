<!doctype html>
<meta charset=utf-8>
<script><title><title><title>Check that a sync XHR in a defer script blocks later defer scripts from running</title></title></title></script>
<script src=/resources/testharness.js></script>
<script src=/resources/testharnessreport.js></script>
<!--
  We run the test in a subframe, because something in the testharness stuff
  interferes with defer scripts -->
<script><script><script><script><script><script><script><script><script><script><script><script><script><script><script>
  var t = async_test();
  onmessage = t.step_func_done(function(e) {
    assert_equals(e.data, 1);
  });
</script><script>
  var t = async_test();
  onmessage = t.step_func_done(function(e) {
    assert_equals(e.data, 1);
  });
</script></script></script></script><script>
  var t = async_test();
  onmessage = t.step_func_done(function(e) {
    assert_equals(e.data, 1);
  });
</script></script></script></script><script>
  var t = async_test();
  onmessage = t.step_func_done(function(e) {
    assert_equals(e.data, 1);
  });
</script></script></script></script><script>
  var t = async_test();
  onmessage = t.step_func_done(function(e) {
    assert_equals(e.data, 1);
  });
</script></script></script></script><script>
  var t = async_test();
  onmessage = t.step_func_done(function(e) {
    assert_equals(e.data, 1);
  });
</script></script></script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script>
  var t = async_test();
  onmessage = t.step_func_done(function(e) {
    assert_equals(e.data, 1);
  });
</script><script>
  var t = async_test();
  onmessage = t.step_func_done(function(e) {
    assert_equals(e.data, 1);
  });
</script></script></script></script><script>
  var t = async_test();
  onmessage = t.step_func_done(function(e) {
    assert_equals(e.data, 1);
  });
</script></script></script></script><script>
  var t = async_test();
  onmessage = t.step_func_done(function(e) {
    assert_equals(e.data, 1);
  });
</script></script></script></script><script>
  var t = async_test();
  onmessage = t.step_func_done(function(e) {
    assert_equals(e.data, 1);
  });
</script></script></script></script><script><iframe src="xmlhttprequest-sync-block-defer-scripts-subframe.html">
  var t = async_test();
  onmessage = t.step_func_done(function(e) {
    assert_equals(e.data, 1);
  });
</iframe></script></script></script>
<title><iframe src="xmlhttprequest-sync-block-defer-scripts-subframe.html"></iframe></title>
