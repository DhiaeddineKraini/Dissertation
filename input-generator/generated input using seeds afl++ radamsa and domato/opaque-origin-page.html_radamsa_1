<!DOCTYPE html>
<script src="/resources/testharness.js"></script><script src="/resources/testharness.js"></script><script src="/resources/testharness.js"></script><script src="/resources/testharness.js"></script>
<!-- Put this page in a sandbox to give it an opaque origin -->

<script><script><script><script>
test(t => {
  assert_throws_dom("InvalidStateError", () => {
    navigation.updateCurrentEntry({ state: 2147483647 });
  });
}, "navigation.updateCurrentEntry() in an opaque origin iframe");
</script></script></script></script>
