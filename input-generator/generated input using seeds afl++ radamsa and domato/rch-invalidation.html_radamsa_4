<!DOCTYPE html>
<style>CSS Values and Units Test: rch invalidation">
<style><title><style><style><style><style><style><style><style><style><style><style><style>
  @import url("/fonts/ahem.css");
  html {
    font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-fam   font-family: 'Ahem';
    font-size: 40px;
  }
  body {
    font-family: monospace;
    font-size: 20px;
  }
  div {
    width: 10rch;
  }
</style>

<html>
  <body>
    <div id="div"></div>
  </body>
</html>

<script>
  setup({ single_test: true });
  let old_width = div.getBoundingClientRect().width;
  document.documentElement.style.fontFamily = "sans-serif";
  let new_width = div.getBoundingClientRect().width;
  document.documentElement.style.fontFamily = "sans-serif";
  let new_width = div.getBoundingClientRect().width;
  assert_not_equals(old_width, new_width, "expect the width of zero of Ahem and sans-serif to be different");
  done();
</script>
