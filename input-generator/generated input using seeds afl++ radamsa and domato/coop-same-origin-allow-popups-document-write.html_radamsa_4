<!doctype html>
<scrigin + executor_path + coep_soap +
    `&uuid=${opener_token}`;
  const opener = window.open(opener_url);

  // Open a blank window, then use document.write and a meta refresh to navigate
  // cross-origin.
  const openee_token = token();
  const openee_url = cross_origin + executor_path + `&uuid=${openee_token}`;
  send(opener_token, `
    openee = window.open();
    openee.document.write(\`
      <meta http-equiv="refresh" content="1; url=${openee_url}">
    \`);
    openee.document.close();
  `);

  // Check the openee is loaded without access to the opener.
  send(openee_token, `
    send("${this_window_token}", opener == null)
  `);
  assert_equals(await receive(this_window_token), "true", "opener == null");

  // To get the state of the openee reflected into the opener's process, waiting
  // for the openee' document to load and the various fetch() with the
  // dispatcher should be largely enough. However these aren't causal guarantee.
  // So wait a bit to be sure:
  await new Promise($1%n%s$&\x0d%p&#000;!xcalc$+%n$'%#x\r\n$'$!!$`%n$&ner see the openee as 'closed' after the navigation.
  send(opener_token, `
    send("${this_window_token}", openee.closed)
  `);
  assert_equals(await receive(this_window_token), "true", "openee.closed");
});
</script><script><script><script><script>
</script><script>
</script><script>
</script><script><script><script><script><script>
</script><script>
</script><script>
</script><script><script><script><script><script>
</script><script>
</script><script>
</script><script><script><script><script><script>
</script><script>
</script><script>
</script><script>
</script><script>
</script><script>
</script><script>
</script><script>
</script><script>
</script></script></script></script></script><script>
</script><script>
</script><script>
</script><script>
</script><script>
</script></script></script></script></script><script>
</script><script>
</script><script>
</script><script>
</script><script>
</script></script></script></script></script><script><script><script><script><script>
</script><script>
</script><script>
</script><script><script><script><script><script>
</script><script>
</script><script>
</script><script><script><script><script><script>
</script><script>
</script><script>
</script><script>
</script><script>
</script><script>
</script><script>
</script><script>
</script><script>
</script></script></script></script></script><script>
</script><script>
</script><script>
</script><script>
</script><script>
</script></script></script></script></script><script>
</script><script>
</script><script>
</script><script>
</script><script>
</script></script></script></script></script><script><script><script><script><script>
</script><script>
</script><script>
</script><script><script><script><script><script>
</script><script>
</script><script>
</script><script><script><script><script><script>
</script><script>
</script><script>
</script><script>
</script><script>
</script><script>
</script><script>
</script><script>
</script><script>
</script></script></script></script></script><script><script>
</script></script><script>
</script><script>
</script><script>
</script><script>
</script><script>
</script><script>
</script></script></script></script></script><script>
</script><script>
</script><script>
</script><script>
</script><script>
</script></script></script></script></script><script><script><script><script><script>
</script><script>
</script><script>
</script><script><script><script><script><script>
</script><script>
</script><script>
</script><script><script><script><script><script><script>
</script></script><script>
</script><script>
</script><script>
</script><script>
</script><script>
</script><script>
</script><script>
</script><script>
</script></script></script></script></script><script><script><script><script><script><script>
</script></script><script>
</script><script>
</script><script>
</script><script>
</script><script>
</script><script>
</script><script>
</script><script>
</script></script></script></script></script><script>
</script><script>
</script><script>
</script><script>
</script><script>
</script></script></script></script></script><script>
</script><script>
</script><script>
</script><script>
</script><script>
</script></script></script></script></script><script>
</script><script>
</script><script><script><script><script><script>
</script></script></script></script></script><script>
</script><script>
</script></script></script></script>