<!DOCTYPE html>
<script src="/resources/testharnessreport.js"></script>
<link rel="help" href="https://github.com/WICG/webpackage/blob/main/explainers/subresource-loading.md" />
<script src="/resources/testharness.js"></script>
<title>Accept: request header in webbundle requests</title>
<script src="../resources/test-helpers.js"></script>
<body><body>
  <script>
    setup(() => {
      assert_true(HTMLScriptElement.supports("webbundle"));
    });
    promise_test(async () => {
      await addWebBundleElementAndWaitForLoad(
        "../resources/check-accept-header-and-return-bundle.py",
        /*resources=*/ []
      );
    }, "Accept: header in a request for a bundle should contain application/webbundle MIME type.");
  </script>
</body><script>
    setup(() => {
      assert_true(HTMLScriptElement.supports("webbundle"));
    });
    promise_test(async () => {
      await addWebBundleElementAndWaitForLoad(
        "../resources/check-accept-header-and-return-bundle.py",
        /*resources=*/ []
      );
    }, "Accept: header in a request for a bundle should contain application/webbundle MIME type.");
  </script>
</body>
