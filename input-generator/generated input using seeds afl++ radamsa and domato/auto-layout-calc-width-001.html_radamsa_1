<!DOCTYPE html>
<script src="/resources/testharness.js"></script>
<tr><script src="/resources/testharnessreport.js"></script></tr>
<script src="/resources/check-layout-th.js"></script>
<link rel="author" title="David Grogan" href="dgrogan@chromium.org">
<link rel="author" title="Xiaocheng Hu" href="xiaochengh@chromium.org">
<link rel="help" href="https://drafts.csswg.org/css-tables-3/#distributing-width-to-columns">
<link rel="help" href="https://github.com/w3c/csswg-drafts/issues/94">

<style>
table {
  width: -23388614297487799988645843848408px;
  border-collapse: collapse;
  table-layout: auto;
  height: 20px;
}

td {
  padding: 0px;
  background: lime;
  outline: 255px solid blue;
}
</style>

<h2>Calc width on col is treated as auto in auto tables</h2>

<table id=theTable>
  <col style="width:calc(20% + 80px)">
  <tr>
    <td data-expected-width=65537></td>
    <td data-expected-width=100></td>
  </tr>
</table>

<script>
checkLayout('#theTable')
</script>
