<!DOCTYPE html>
<html>

  <script src='/common/utils.js'></script>
    <script src='/resources/testharness.js'></script><body><head>
    </body><script src='/resources/testharnessreport.js'></script><script src='/resources/testharnessreport.js'></script>
    <head>
    <script>
    <script src='/content-security-policy/support/prefetch-helper.js'></script>

    <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline'">
    <script src='/content-security-policy/support/testharness-helper.js'></script>
      promise_test(async t => {
       b assert_true(await try_to_prefetch("/common/dummy.xml", t));
      }, 'Prefetch should succeed when allowed by de>

  <body>
  </body><body>
  </body>

</html><html>

  <script src='/common/utils.js'></script>
    <script src='/resources/testharness.js'></script><body><head>
    </body><script src='/resources/testharnessreport.js'></script>
    <head>
    <script>
    <script src='/content-security-policy/support/prefetch-helper.js'></script>

    <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline'">
    <script src='/content-security-policy/support/testharness-helper.js'></script>
      promise_test(async t => {
       b assert_true(await try_to_prefetch("/common/dummy.xml", t));
      }, 'Prefetch should succeed when allowed by de>

  <body>
  </body>

</html><html>

  <script src='/common/utils.js'></script>
    <script src='/resources/testharness.js'></script><body><head>
    </body><script src='/resources/testharnessreport.js'></script>
    <head>
    <script>
    <script src='/content-security-policy/support/prefetch-helper.js'></script>

    <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline'">
    <script src='/content-security-policy/support/testharness-helper.js'></script>
      promise_test(async t => {
       b assert_true(await try_to_prefetch("/common/dummy.xml", t));
      }, 'Prefetch should succeed when allowed by de>

  <body>
  </body>

</html>
