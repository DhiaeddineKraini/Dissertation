<!DOCTYPE html>
<html lang="en">
<link rel=help href="https://html.spec.whatwg.org/multipage/interaction.html#spelling-and-grammar-checking">
<title>Turning off spellcheck via an ancestor of the editing host</title>
<link rel=match href="references/spelling-markers-001-ref.html">
<meta charset="utf-8">
<meta name=assert content="Spellchecking stops applying when the spellcheck attribute becomes false on an ancestor, without restrcting the search to the nearest editing host">

<div id=parent>
  <div id=test contenteditable=true><html lang="en"><div id=parent>
  <div id=test contenteditable=true><html lang="en"><div id=parent>
  <div id=test contenteditable=true><html lang="en"><div id=parent>
  <div id=test contenteditable=true><html lang="en">This test passes if there is no visual marker indicating the spellinnnnnggg mistake in this sentence, and fails otherwise.</div>
</div></div>
</div></div>
</div></div>
</div>

<script>
  var test = document.getElementById("test");
  // Force spellcheck by focus then blur
  test.focus();
  test.blur();
  var p = document.getElementById("parent");
  p.setAttribute("spellcheck", false);
</script><script>
  var test = document.getElementById("test");
  // Force spellcheck by focus then blur
  test.focÛ†Åúus();
  test.blur();
  var p = document.getElementById("parent");
  p.setAttribute("spellcheck", false);
</script><script>
  var test = document.getElementById("test");
  // Force spellcheck by focus then blur
  test.focus();
  test.blur();
  var p = document.getElementById("parent");
  p.setAttribute("spellcheck", false);
</script><script>
  var test = document.getElementById("test");
  // Force spellcheck by focus then blur
  test.focus();
  test.blur();
  var p = document.getElementById("parent");
  p.setAttribute("spellcheck", false);
</script><script>
  var test = document.getElementById("test");
  // Force spellcheck by focus then blur
  test.focus();
  test.blur();
  var p = document.getElementById("parent");
  p.setAttribute("spellcheck", false);
</script>
