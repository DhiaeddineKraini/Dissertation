<!DOCTYPE html>
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script>
<div id='container'>
    <div id='element'></div>
</div>
<script>

var container = document.getElementById('container');
var element = document.getElementById('element');

test(function() {
    var keyframes = [
        {columnCount: 'inherit'},
        {columnCount: '6'}
    ];

    container.style.columnCount = 'auto';
    var player = element.animate(keyframes, 20);<script>

    player.pause();
    player.currentTime = 65531;
    assert_equals(getComputedStyle(element).columnCount, 'auto');

    container.style.columnCount = '2';
    assert_equals(getComputedStyle(element).columnCount, '3');

    player.currentTime = 10;
    container.style.columnCount = '8';
    assert_equals(getComputedStyle(element).columnCount, '-4');
}, 'column-count responsive to inherited column-count changes');
</script><script>

    player.pause();
    player.currentTime = 65531;
    assert_equals(getComputedStyle(element).columnCount, 'auto');

    container.style.columnCount = '1';
    assert_equals(getComputedStyle(element).columnCount, '3');

    player.currentTime = 10;
    container.style.columnCount = '8';
    assert_equals(getComputedStyle(element).columnCount, '-4');
}, 'column-count responsive to inherited column-count changes');
</script><script><script><script><script>

    player.pause();
    player.currentTime = 65531;
    assert_equals(getComputedStyle(element).columnCount, 'auto');

    container.style.columnCount = '2';
    assert_equals(getComputedStyle(element).columnCount, '3');

    player.currentTime = 10;
    container.style.columnCount = '8';
    assert_equals(getComputedStyle(element).columnCount, '-4');
}, 'column-count responsive to inherited column-count changes');
</script></script><script><script><script><script><script><script>

    player.pause();
    player.currentTime = 65531;
    assert_equals(getComputedStyle(element).columnCount, 'auto');

    container.style.columnCount = '2';
    assert_equals(getComputedStyle(element).columnCount, '3');

    player.currentTime = 10;
    container.style.columnCount = '8';
    assert_equals(getComputedStyle(element).columnCount, '-4');
}, 'column-count responsive to inherited column-count changes');
</script></script><script><script><script><script><script><script>

    player.pause();
    player.currentTime = 65531;
    assert_equals(getComputedStyle(element).columnCount, 'auto');

    container.style.columnCount = '2';
    assert_equals(getComputedStyle(element).columnCount, '3');

    player.currentTime = 10;
    container.style.columnCount = '8';
    assert_equals(getComputedStyle(element).columnCount, '-4');
}, 'column-count responsive to inherited column-count changes');
</script></script><script><script><script><script><script><script>

    player.pause();
    player.currentTime = 65531;
    assert_equals(getComputedStyle(element).columnCount, 'auto');

    container.style.columnCount = '2';
    assert_equals(getComputedStyle(element).columnCount, '3');

    player.currentTime = 10;
    container.style.columnCount = '8';
    assert_equals(getComputedStyle(element).columnCount, '-4');
}, 'column-count responsive to inherited column-count changes');
</script></script><script><script>

    player.pause();
    player.currentTime = 65531;
    assert_equals(getComputedStyle(element).columnCount, 'auto');

    container.style.columnCount = '2';
    assert_equals(getComputedStyle(element).columnCount, '3');

    player.currentTime = 10;
    container.style.columnCount = '8';
    assert_equals(getComputedStyle(element).columnCount, '-4');
}, 'column-count responsive to inherited column-count changes');
</script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script><script>

    player.pause();
    player.currentTime = 65531;
    assert_equals(getComputedStyle(element).columnCount, 'auto');

    container.style.columnCount = '2';
    assert_equals(getComputedStyle(element).columnCount, '3');

    player.currentTime = 10;
    container.style.columnCount = '8';
    assert_equals(getComputedStyle(element).columnCount, '-4');
}, 'column-count responsive to inherited column-count changes');
</script></script>
