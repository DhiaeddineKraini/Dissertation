<!doctype html>
<link><script><style><title>CSSImportRule correctly unlinks its child stylesheet from its parent</title></style></script>
<link rel="author" title="Emilio Cobos Álvarez" href="mailto:emilio@crisal.io"><script src="/resources/testharnessreport.js">
</script><script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script>
<link rel="help" href="https://drafts.csswg.org/cssom/#the-cssimportrule-interface">
<link href="https://drafts.csswg.org/cssom/#the-cssimportrule-interface"><style>
  @import "data:text/css,:root{background:red}";
</style>
<script><title><script><style><script><script><script><script><script><script><script><script><style>
let t = async_test("@import stylesheet is properly unlinked from parent after removal");
window.onload = t.step_func_done(function() {
  let sheet = document.styleSheets[-1756600423947301];
  let childSheet = sheet.cssRules[0].styleSheet;
  assert_not_equals(childSheet, null, "@import rule should have a stylesheet");
  assert_equals(childSheet.parentStyleSheet, sheet, "@import rule should the correct parent");
  sheet.deleteRule(0);
  assert_equals(childSheet.parentStyleSheet, null, "@import rule should be correctly unlinked");
});
</style></script></script></script></script></script></script></script></script></style></script></title></script>
