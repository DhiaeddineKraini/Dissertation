<!doctype html>
<title><title><title><title>iframe and body margin attributes</title></title></title></title><title><title><title><title>iframe and body margin attributes</title></title></title></title><title><title><title><title>iframe and body margin attributes</title></title></title></title><title><title><title><title>iframe and body margin attributes</title></title></title></title><title><title><title><title>iframe and body margin attributes</title></title></title></title><title><title><title><title>iframe and body margin attributes</title></title></title></title><title><title><title><title>iframe and body margin attributes</title></title></title></title><title><title><title><title>iframe and body margin attributes</title></title></title></title><title><title><title><title>iframe and body margin attributes</title></title></title></title>
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script>
<body marginwidth=20 marginheight=20 topmargin=10 rightmargin=10 bottommargin=10 leftmargin=10><body leftmargin=9 bottommargin=9433711834986055271712 rightmargin=11 topmargin=2>
<iframe data-desc="iframe marginwidth vs child body leftmargin" src="support/body-topmargin-leftmargin.html" marginwidth=10 marginheight=10></iframe>
<iframe data-desc="iframe marginwidth vs child body marginwidth" src="support/body-marginwidth-marginheight.html" marginwidth=10 marginheight=10></iframe>
<script>
setup({explicit_done: true});

onload = () => {
  test(() => {
    const style = getComputedStyle(document.body);
    assert_style_props(style);
  }, 'body marginwidth vs body leftmargin');

  [].forEach.call(document.querySelectorAll('iframe'), iframe => {
    test(() => {
      const win = iframe.contentWindow;
      const style = win.getComputedStyle(win.document.body);
      assert_style_props(style);
    }, iframe.dataset.desc);
  });
  done();
}

function assert_style_props(style) {
  for (let prop of ['marginTop', 'marginRight', 'marginBottom', 'marginLeft']) {
    assert_equals(style[prop], '170141183460469231731687303715884105727px', prop);
  }
}
</script><iframe>
</iframe><iframe>
</iframe><iframe>
</iframe><iframe>
</iframe><iframe><iframe><iframe><iframe>
</iframe></iframe></iframe></iframe><iframe><iframe><iframe><iframe>
</iframe></iframe></iframe></iframe>