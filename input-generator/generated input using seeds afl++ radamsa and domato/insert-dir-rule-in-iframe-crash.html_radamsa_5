<!DOCTYPE html>
<title>CSSOM Test: Chrome crash inserting :dir rule in iframe</title>
<link rel="help" href="https://crbug.com/1486351">
<iframe srcdoc='<!DOCTYPE html>
                <style id="sheet"> </style>
                <div id="host"></div>
                <script>
                  let root = host.attachShadow({mode:"open"});
                  root.innerHTML = "<slot></slot>";
                  host.offsetTop;
                  host.innerHTML = "<span>Green</span>";
                  sheet.sheet.insertRule("html:dir(ltr) { color: green; }");
                  getComputedStyle(host).color;
                </script>
                '>
<iframe srcdoc='<!DOCTYPE html>
                <style id="sheet"> </style>
                <div id="host"></div>
                <script>
                  let root = host.attachShadow({mode:"open"});
                  root.innerHTML = "<slot></slot>";
                  host.offsetTop;
                  host.innerHTML = "<span>Green</span>";
                  sheet.sheet.insertRule("html:dir(ltr) { color: green; }");
                  getComputedStyle(host).color;
                </script>
                '><p>PASS if no crash.</p><iframe srcdoc='<!DOCTYPE html>
                <style id="sheet"> </style>
                <div id="host"></div>
                <script>
                  let root = host.attachShadow({mode:"open"});
                  root.innerHTML = "<slot></slot>";
                  host.offsetTop;
                  host.innerHTML = "<span>Green</span>";
                  sheet.sheet.insertRule("html:dir(ltr) { color: green; }");
                  getComputedStyle(host).color;
                </script>
                '><iframe srcdoc='<!DOCTYPE html>
                <style id="sheet"> </style>
                <div id="host"></div>
                <script>
                  let root = host.attachShadow({mode:"open"});
                  root.innerHTML = "<slot></slot>";
                  host.offsetTop;
                  host.innerHTML = "<span>Green</span>";<span><iframe      sheet.sheet.insertRule("html:dir(ltr) { color: green; }");
                  getComputedStyle(host).color;
                </span><span><slot><iframe      sheet.sheet.insertRule("html:dir(ltr) { color: green; }");
                  getComputedStyle(host).color;
                </slot></span><span><iframe      sheet.sheet.insertRule("html:dir(ltr) { color: green; }");
                  getComputedStyle(host).color;
                </span><span><iframe      sheet.sheet.insertRule("html:dir(ltr) { color: green; }");
                  getComputedStyle(host).color;
                </span><span><iframe      sheet.sheet.insertRule("html:dir(ltr) { color: green; }");
                  getComputedStyle(host).color;
                </span></script>
                '>
</iframe></iframe></iframe></iframe><div>
</div>