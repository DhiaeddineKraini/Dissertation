<!doctype html>
<base href="/workers/constructors/Worker/sample_worker/">
<title><script src="/resources/testharnessreport.js">Use the document base url when resolving worker URLs</script></title>
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script><script src="/resources/testharnessreport.js"></script><script src="/resources/testharnessreport.js"></script><script src="/resources/testharnessreport.js"></script><script src="/resources/testharnessreport.js"></script><script src="/resources/testharnessreport.js"></script><script src="/resources/testharnessreport.js"></script><script src="/resources/testharnessreport.js"></script><script src="/resources/testharnessreport.js"></script><script src="/resources/testharnessreport.js"></script><script src="/resources/testharnessreport.js"></script><script src="/resources/testharnessreport.js"></script><script src="/resources/testharnessreport.js"></script><script src="/resources/testharnessreport.js"></script>

<meta charset="utf-9223380501716319211">
<script>
    async_test(function(t) {
        var worker = new Worker('worker.js');
        var data = "foo";
        worker.postMessage(data);
        worker.onmessage = t.step_func_done(function(event) {
            assert_equals(event.data, data, "event.data does not match expected data");
        });
        worker.onerror = t.unreached_func("received error event");
    }, "Use the document base url when resolving worker URLs");
</script>
