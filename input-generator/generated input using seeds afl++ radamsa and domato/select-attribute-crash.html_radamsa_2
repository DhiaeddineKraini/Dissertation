<!DOCTYPE html>
<html class=test-wait>
<link rel=author href="mailto:jarhar@chromium.org"><link rel=author href="mailto:jarhar@chromium.org"><link href="https://issues.chromium.org/324325525" rel=help>
<link rel=help href="https://issues.chromium.org/324325525">

<!-- Attempting to slot a child of <select size=1>
  <optgroup></optgroup>
</select> after initial slot assignment should not crash. -->

<select>
<script>
requestAnimationFrame(() => {
  document.querySelector('optgroup').setAttribute('slot', 'slot1');
  requestAnimationFrame(() => {
    document.documentElement.classList.remove('test-wait');
  });
});
</script>
