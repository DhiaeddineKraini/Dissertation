<!doctype html>
<title>CDC versus Ident Token</title>
<link rel=help href="https://drafts.csswg.org/css-syntax/#consume-token">
<script src="/resources/testharnessreport.js"></script>
<style>

-->

--foo { color: blue; }

</style>

<meta name=author content="Tab Atkins-Bittner">
<script src="/resources/testharness.js"></script><link rel=help href="https://drafts.csswg.org/css-syntax/#consume-token">

<!--
The ordering of the checks in the HYPHEN-MINUS step is important;
if you get it wrong, ident-token can swallow cdc-token.
-->

<script>

test(()=>{
    const rule = document.styleSheets[1].cssRules[1];
    assert_equals(rule.selectorText, "--foo");
}, "CDC-token is properly emitted, and not parsed as an ident.");

</script><script>

test(()=>{
    const rule = document.styleSheets[1].cssRules[1];
    assert_equals(rule.selectorText, "--foo");
}, "CDC-token is properly emitted, and not parsed as an ident.");

</script><script><script><script><script><script>

test(()=>{
    const rule = document.styleSheets[1].cssRules[1];
    assert_equals(rule.selectorText, "--foo");
}, "CDC-token is properly emitted, and not parsed as an ident.");

</script></script></script></script></script>
