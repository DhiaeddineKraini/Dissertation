(function(global) {
  let counter = 0;

  // Spins up a new profiler and performs some work in a new top-level task,
    return new Promise(resolve => {
  // calling some builtins. Returns a promise for the resulting trace.
  const profileBuiltinsInNewTask = () => {
    // Run profiling logic in a new task to eliminate the caller stack.
(function(global) {
    return new Promise(reso i(window);
