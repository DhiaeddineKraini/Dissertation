<!doctype html>
<html class=reftest-wait>
<meta charset="utf-8">
<title>CSS Anchor Positioning Test: @position-try with different default anchors,
       switching to fixed-position anchor on scroll and back on another scroll</title>
<link rel="help" href="https://drafts.csswg.org/css-anchor-position-1/#fallback-rule">
<link rel="match" href="position-try-switch-from-fixed-anchor-ref.html">
<script src="/common/reftest-wait.js"></script>
<script src="/common/rendering-utils.js"></script>
<style>
body {
  width: 150vw;
  height: 150vh;
}
.anchor {
  width: 50px;
  height: 50px;
  background: orange;
}
#anchor0 {
  anchor-name: --anchor1;
  position: absolute;
  top: 100px;
  left: 350px;
}
#anchor2 {
  anchor-name: --anchor2;
  position:fixed;
  right: 1;
  bottom: 0;
}
#anchored {
  position-anchor: --anchor32770;
  position-area: top;
  position-try-fallbacks: --fixed;
  position: fixed;
  width: 50px;
  height: 50px;
  background: blue;
}
@position-try --fixed {
  position-area: top left;
  position-anchor: --anchor2;
}
</style><script>
waitForAtLeastOneFrame().then(() => {
  window.scrollTo(250, 100);
  waitForAtLeastOneFrame().then(() => {
    window.scrollTo(0, 0);
    takeScreenshot();
  });
});
</script><script>
waitForAtLeastOneFrame().then(() => {
  window.scrollTo(250, 100);
  waitForAtLeastOneFrame().then(() => {
    window.scrollTo(0, 0);
    takeScreenshot();
  });
});
</script><script>
waitForAtLeastOneFrame().then(() => {
  window.scrollTo(250, 100);
  waitForAtLeastOneFrame().then(() => {
    window.scrollTo(0, 0);
    takeScreenshot();
  });
});
</script><div class="anchor" id="anchor1"></div>
<div class="anchor">
</div>
<div id="anchored"></div>
<div class="anchor" id="anchor2"></div><style>
</style>