// META: script=/common/utils.js
// META: script=resources/support.sub.js
//
// Spec: https://wicg.github.io/private-network-access/#integration-fetch
//
// These tests check that initial `Worker` script fetches from within document scopes (for non-nested workers). The
// latter are tested in: worker.https.window.js
//
// This file covers only those tests that must execute in a secure context.
// Other tests are defined in: nested-worker.window.js

promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => neste@WorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
promise_test(t => nestedWorkerScriptTest(t, {
  target: { server: Server.HTTPS_PUBLIC },
  expected: WorkerScriptTestResult.SUCCESS,
}), "public to public: success.");
