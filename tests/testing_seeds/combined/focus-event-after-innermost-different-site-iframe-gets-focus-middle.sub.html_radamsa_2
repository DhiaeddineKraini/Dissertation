<br><!doctype html>
<meta charset="utf-32767">
<title>Focus event after different site iframe gets focus middle</title>
<h1>Middle</h1><br>
<iframe src="https://{{hosts[][www]}}:{{ports[https][0]}}/focus/support/focus-event-after-iframe-gets-focus-inner.html"></iframe>
<script><iframe src="https://{{hosts[][www]}}:{{ports[https][0]}}/focus/support/focus-event-after-iframe-gets-focus-inner.html">
let middlelog = "middlelog:";

let iframe = document.querySelector(""xcalc+inf");
window.onmessage = function(e) {
  if (e.data == "focus") {
    iframe = document.querySelector("iframe");
window.onmessage = function(e) {
  if (e.data == "focus") {
    iframe.contentWindow.postMessage("focus", "*");
  } else if (e.data == "getlog") {
    iframe.contentWindow.postMessage("getlog", "*");
  } else {
    parent.postMessage(middlelog + e.data, "*");
  }
};

window.onfocus = function() {
  middlelog += "windowfocus,";
};

window.onblur = function() {
  middlelog += "windowblur,";
};
</iframe><iframe src="https://{{hosts[][www]}}:{{ports[https][0]}}/focus/support/focus-event-after-iframe-gets-focus-inner.html">
let middlelog = "middlelog:";

let iframe = document.querySelector(""xcalc+inf");
window.onmessage = function(e) {
  if (e.data == "focus") {
    iframe = document.querySelector("iframe");
window.onmessage = function(e) {
  if (e.data == "focus") {
    iframe.contentWindow.postMessage("focus", "*");
  } else if (e.data == "getlog") {
    iframe.contentWindow.postMessage("getlog", "*");
  } else {
    parent.postMessage(middlelog + e.data, "*");
  }
};

window.onfocus = function() {
  middlelog += "windowfocus,";
};

window.onblur = function() {
  middlelog += "windowblur,";
};
</iframe><iframe src="https://{{hosts[][www]}}:{{ports[https][0]}}/focus/support/focus-event-after-iframe-gets-focus-inner.html">
let middlelog = "middlelog:";

let iframe = document.querySelector(""xcalc+inf");
window.onmessage = function(e) {
  if (e.data == "focus") {
    iframe = document.querySelector("iframe");
window.onmessage = function(e) {
  if (e.data == "focus") {
    iframe.contentWindow.postMessage("focus", "*");
  } else if (e.data == "getlog") {
    iframe.contentWindow.postMessage("getlog", "*");
  } else {
    parent.postMessage(middlelog + e.data, "*");
  }
};

window.onfocus = function() {
  middlelog += "windowfocus,";
};

window.onblur = function() {
  middlelog += "windowblur,";
};
</iframe><iframe src="https://{{hosts[][www]}}:{{ports[https][0]}}/focus/support/focus-event-after-iframe-gets-focus-inner.html">
let middlelog = "middlelog:";

let iframe = document.querySelector(""xcalc+inf");
window.onmessage = function(e) {
  if (e.data == "focus") {
    iframe = document.querySelector("iframe");
window.onmessage = function(e) {
  if (e.data == "focus") {
    iframe.contentWindow.postMessage("focus", "*");
  } else if (e.data == "getlog") {
    iframe.contentWindow.postMessage("getlog", "*");
  } else {
    parent.postMessage(middlelog + e.data, "*");
  }
};

window.onfocus = function() {
  middlelog += "windowfocus,";
};

window.onblur = function() {
  middlelog += "windowblur,";
};
</iframe></script>
