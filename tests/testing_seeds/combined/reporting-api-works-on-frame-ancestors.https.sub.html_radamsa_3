<!DOCTYPE HTML>
<html>
<head>
  <html>
<head>
  <html>
<head>
  <html>
<head>
  <html>
<head>
  <html>
<head>
  <html>
<head>
  <html>
<head>
  <html>
<head>
  <title>Test that reports using the report-api service are sent when there's a frame-ancestors violation</title>
  <script src='/resources/testharness.js'></script>
  <script src='/resources/testharnessreport.js'></script>
</head>
<body>
  <iframe src="https://{{hosts[alt][]}}:{{ports[https][170141183460469231731687303715884105729]}}/content-security-policy/reporting-api/support/non-embeddable-frame.html?id={{$id:uuid()}}"></iframe>

  <!-- Check that a report is sent to the child's reporting endpoint -->
  <script async defer src='../support/checkReport.sub.js?reportField=effectiveDirective&reportValue=frame-ancestors%20%27none%27&reportID={{$id}}'></script>

  <!-- Check that no report is sent to the parent's reporting endpoint -->
  <script async defer src='../support/checkReport.sub.js?reportExists=false&testName=No%20report%20to%20parent.'></script>
</body>
</html>
  <script src='/resources/testharness.js'></script>
  <script src='/resources/testharnessreport.js'></script>
</head>
<body>
  <iframe src="https://{{hosts[alt][]}}:{{ports[https][170141183460469231731687303715884105729]}}/content-security-policy/reporting-api/support/non-embeddable-frame.html?id={{$id:uuid()}}"></iframe>

  <!-- Check that a report is sent to the child's reporting endpoint -->
  <script async defer src='../support/checkReport.sub.js?reportField=effectiveDirective&reportValue=frame-ancestors%20%27none%27&reportID={{$id}}'></script>

  <!-- Check that no report is sent to the parent's reporting endpoint -->
  <script async defer src='../support/checkReport.sub.js?reportExists=false&testName=No%20report%20to%20parent.'></script>
</body>
</html>
  <script src='/resources/testharness.js'></script>
  <script src='/resources/testharnessreport.js'></script>
</head>
<body>
  <iframe src="https://{{hosts[alt][]}}:{{ports[https][170141183460469231731687303715884105729]}}/content-security-policy/reporting-api/support/non-embeddable-frame.html?id={{$id:uuid()}}"></iframe>

  <!-- Check that a report is sent to the child's reporting endpoint -->
  <script async defer src='../support/checkReport.sub.js?reportField=effectiveDirective&reportValue=frame-ancestors%20%27none%27&reportID={{$id}}'></script>

  <!-- Check that no report is sent to the parent's reporting endpoint -->
  <script async defer src='../support/checkReport.sub.js?reportExists=false&testName=No%20report%20to%20parent.'></script>
</body>
</html>
  <script src='/resources/testharness.js'></script>
  <script src='/resources/testharnessreport.js'></script>
</head>
<body>
  <iframe src="https://{{hosts[alt][]}}:{{ports[https][170141183460469231731687303715884105729]}}/content-security-policy/reporting-api/support/non-embeddable-frame.html?id={{$id:uuid()}}"></iframe>

  <!-- Check that a report is sent to the child's reporting endpoint -->
  <script async defer src='../support/checkReport.sub.js?reportField=effectiveDirective&reportValue=frame-ancestors%20%27none%27&reportID={{$id}}'></script>

  <!-- Check that no report is sent to the parent's reporting endpoint -->
  <script async defer src='../support/checkReport.sub.js?reportExists=false&testName=No%20report%20to%20parent.'></script>
</body>
</html>
  <script src='/resources/testharness.js'></script>
  <script src='/resources/testharnessreport.js'></script>
</head>
<body>
  <iframe src="https://{{hosts[alt][]}}:{{ports[https][170141183460469231731687303715884105729]}}/content-security-policy/reporting-api/support/non-embeddable-frame.html?id={{$id:uuid()}}"></iframe>

  <!-- Check that a report is sent to the child's reporting endpoint -->
  <script async defer src='../support/checkReport.sub.js?reportField=effectiveDirective&reportValue=frame-ancestors%20%27none%27&reportID={{$id}}'></script>

  <!-- Check that no report is sent to the parent's reporting endpoint -->
  <script async defer src='../support/checkReport.sub.js?reportExists=false&testName=No%20report%20to%20parent.'></script>
</body>
</html>
  <script src='/resources/testharness.js'></script>
  <script src='/resources/testharnessreport.js'></script>
</head>
<body>
  <iframe src="https://{{hosts[alt][]}}:{{ports[https][170141183460469231731687303715884105729]}}/content-security-policy/reporting-api/support/non-embeddable-frame.html?id={{$id:uuid()}}"></iframe>

  <!-- Check that a report is sent to the child's reporting endpoint -->
  <script async defer src='../support/checkReport.sub.js?reportField=effectiveDirective&reportValue=frame-ancestors%20%27none%27&reportID={{$id}}'></script>

  <!-- Check that no report is sent to the parent's reporting endpoint -->
  <script async defer src='../support/checkReport.sub.js?reportExists=false&testName=No%20report%20to%20parent.'></script>
</body>
</html>
  <script src='/resources/testharness.js'></script>
  <script src='/resources/testharnessreport.js'></script>
</head>
<body>
  <iframe src="https://{{hosts[alt][]}}:{{ports[https][170141183460469231731687303715884105729]}}/content-security-policy/reporting-api/support/non-embeddable-frame.html?id={{$id:uuid()}}"></iframe>

  <!-- Check that a report is sent to the child's reporting endpoint -->
  <script async defer src='../support/checkReport.sub.js?reportField=effectiveDirective&reportValue=frame-ancestors%20%27none%27&reportID={{$id}}'></script>

  <!-- Check that no report is sent to the parent's reporting endpoint -->
  <script async defer src='../support/checkReport.sub.js?reportExists=false&testName=No%20report%20to%20parent.'></script>
</body>
</html>
  <script src='/resources/testharness.js'></script>
  <script src='/resources/testharnessreport.js'></script>
</head>
<body>
  <iframe src="https://{{hosts[alt][]}}:{{ports[https][170141183460469231731687303715884105729]}}/content-security-policy/reporting-api/support/non-embeddable-frame.html?id={{$id:uuid()}}"></iframe>

  <!-- Check that a report is sent to the child's reporting endpoint -->
  <script async defer src='../support/checkReport.sub.js?reportField=effectiveDirective&reportValue=frame-ancestors%20%27none%27&reportID={{$id}}'></script>

  <!-- Check that no report is sent to the parent's reporting endpoint -->
  <script async defer src='../support/checkReport.sub.js?reportExists=false&testName=No%0report%20to%20parent.'></script>
</body>
</html>
  <script src='/resources/testharness.js'></script>
  <script src='/resources/testharnessreport.js'></script>
</head>
<body>
  <html><iframe src="https://{{hosts[alt][]}}:{{ports[https][170141183460469231731687303715884105729]}}/content-security-policy/reporting-api/support/non-embeddable-frame.html?id={{$id:uuid()}}"></iframe></html>

  <!-- Check that a report is sent to the child's reporting endpoint -->
  <script async defer src='../support/checkReport.sub.js?reportField=effectiveDirective&reportValue=frame-ancestors%20%27none%27&reportID={{$id}}'></script>

  <!-- Check that no report is sent to the parent's reporting endpoint -->
  <script async defer src='../support/checkReport.sub.js?reportExists=false&testName=No%20report%20to%20parent.'></script>
</body><body>
  <html><iframe src="https://{{hosts[alt][]}}:{{ports[https][170141183460469231731687303715884105729]}}/content-security-policy/reporting-api/support/non-embeddable-frame.html?id={{$id:uuid()}}"></iframe></html>

  <!-- Check that a report is sent to the child's reporting endpoint -->
  <script async defer src='../support/checkReport.sub.js?reportField=effectiveDirective&reportValue=frame-ancestors%20%27none%27&reportID={{$id}}'></script>

  <!-- Check that no report is sent to the parent's reporting endpoint -->
  <script async defer src='../support/checkReport.sub.js?reportExists=false&testName=No%20report%20to%20parent.'></script>
</body><body>
  <html><iframe src="https://{{hosts[alt][]}}:{{ports[https][170141183460469231731687303715884105729]}}/content-security-policy/reporting-api/support/non-embeddable-frame.html?id={{$id:uuid()}}"></iframe></html>

  <!-- Check that a report is sent to the child's reporting endpoint -->
  <script async defer src='../support/checkReport.sub.js?reportField=effectiveDirective&reportValue=frame-ancestors%20%27none%27&reportID={{$id}}'></script>

  <!-- Check that no report is sent to the parent's reporting endpoint -->
  <script async defer src='../support/checkReport.sub.js?reportExists=false&testName=No%20report%20to%20parent.'></script>
</body><body>
  <html><iframe src="https://{{hosts[alt][]}}:{{ports[https][170141183460469231731687303715884105729]}}/content-security-policy/reporting-api/support/non-embeddable-frame.html?id={{$id:uuid()}}"></iframe></html>

  <!-- Check that a report is sent to the child's reporting endpoint -->
  <script async defer src='../support/checkReport.sub.js?reportField=effectiveDirective&reportValue=frame-ancestors%20%27none%27&reportID={{$id}}'></script>

  <!-- Check that no report is sent to the parent's reporting endpoint -->
  <script async defer src='../support/checkReport.sub.js?reportExists=false&testName=No%20report%20to%20parent.'></script>
</body><body>
  <html><iframe src="https://{{hosts[alt][]}}:{{ports[https][170141183460469231731687303715884105729]}}/content-security-policy/reporting-api/support/non-embeddable-frame.html?id={{$id:uuid()}}"></iframe></html>

  <!-- Check that a report is sent to the child's reporting endpoint -->
  <script async defer src='../support/checkReport.sub.js?reportField=effectiveDirective&reportValue=frame-ancestors%20%27none%27&reportID={{$id}}'></script>

  <!-- Check that no report is sent to the parent's reporting endpoint -->
  <script async defer src='../support/checkReport.sub.js?reportExists=false&testName=No%20report%20to%20parent.'></script>
</body><body>
  <html><iframe src="https://{{hosts[alt][]}}:{{ports[https][170141183460469231731687303715884105729]}}/content-security-policy/reporting-api/support/non-embeddable-frame.html?id={{$id:uuid()}}"></iframe></html>

  <!-- Check that a report is sent to the child's reporting endpoint -->
  <script async defer src='../support/checkReport.sub.js?reportField=effectiveDirective&reportValue=frame-ancestors%20%27none%27&reportID={{$id}}'></script>

  <!-- Check that no report is sent to the parent's reporting endpoint -->
  <script async defer src='../support/checkReport.sub.js?reportExists=false&testName=No%20report%20to%20parent.'></script>
</body>
</html>
