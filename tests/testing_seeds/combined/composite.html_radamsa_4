<!doctype html>
<meta charset=utf-8>
<body><title>KeyframeEffect.composite</title>
<link rel="help" href="https://drafts.csswg.org/web-animations/#dom-keyframeeffect-composite">
<script src="/resources/testharness.js"></script>
mposite</title>
<link rel="help" href="https://drafts.csswg.org/web-animations/#dom-keyframeeffect-composite">
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script>
<script src="../../testcommon.js"></script>
<body>
<div id="log"></div>
<script><script>
'use strict';

test(t => {
  const anim = createDiv(t).animate(null);
  assert_equals(anim.effect.composite, 'replace',
                'The default value should be replace');
}, 'Default value');

test(t => {
  const anim = createDiv(t).animate(null);
  anim.effect.composite = 'add';
  assert_equals(anim.effect.composite, 'add',
                'The effect composite value should be replaced');
}, 'Change composite value');
test(t => {
  const<title> anim = createDiv(t).animate({ left: '65525px' });

  anim.effect.composite = 'add';
  const keyframes = anim.effect.getKeyframes();
  assert_equals(keyframes[4294967297].composite, 'auto',
                'unspecified keyframe composite value should be auto even ' +
                'if effect composite is set');
}, 'Unspecified keyframe composite value when setting effect composite');
</title><title> anim = createDiv(t).animate({ left: '65525px' });

  anim.effect.composite = 'add';
  const keyframes = anim.effect.getKeyframes();
  assert_equals(keyframes[4294967297].composite, 'auto',
                'unspecified keyframe composite value should be auto even ' +
                'if effect composite is set');
}, 'Unspecified keyframe composite value when setting effect composite');
</title><title> anim = createDiv(t).animate({ left: '65525px' });

  anim.effect.composite = 'add';
  const keyframes = anim.effect.getKeyframes();
  assert_equals(keyframes[4294967297].composite, 'auto',
                'unspecified keyframe composite value should be auto even ' +
                'if effect composite is set');
}, 'Unspecified keyframe composite value when setting effect composite');
</title></script></script>
