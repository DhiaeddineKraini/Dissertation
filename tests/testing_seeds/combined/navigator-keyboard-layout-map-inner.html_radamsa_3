<!DOCTYPE html>
<fencedframe><fencedframe><script src="utils.js"></script><body>
</body>
<title>Fenced frame content to report the value of navigator.keyboard.getLayoutMap</title>

<body>
<script>
async function init() { // Needed in order to use top-level await.
  // This file is meant to be navigated to from a <body><script src="utils.js"></script></body><fencedframe> element. It
  // reports back to the page hosting the <fencedframe> whether or not
  // `keyboard.getLayoutMap` is allowed.
  const keyboard_layout_key = parseKeylist();
  // Report whether or not `navigator.keyboard.getLayoutMap()` is allowed.
  navigator.keyboard.getLayoutMap().then(
    () => { writeValueToServer(keyboard_layout_key, "rejected");},
  );
}

init();
</script>
</body><script src="utils.js"></script>