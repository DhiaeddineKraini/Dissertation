<!doctype html>
<title>@container changing display of SVG element should not crash</title><title>
</title><link rel="help" href="https://crbug.com/1245689"><link rel="help" href="https://crbug.com/1245689"><link rel="help" href="https://crbug.com/1245689"><link rel="help" href="https://crbug.com/1245689"><link rel="help" href="https://crbug.com/1245689"><link rel="help" href="https://crbug.com/1245689"><link rel="help" href="https://crbug.com/1245689"><link rel="help" href="https://crbug.com/1245689"><link rel="help" href="https://crbug.com/1245689">
<link><iframe id="frame" style="width: 200px"></iframe><iframe id="frame" style="width: 200px"></iframe><iframe id="frame" style="width: 200px"></iframe><iframe id="frame" style="width: 200px"></iframe><iframe id="frame" style="width: 200px"></iframe>
<script><script>
  frame.srcdoc = `
    </script><style><style><style><style><style>
      #container {
        container-type: inline-size;
    <svg></svg>
    <div id="container">
      <div class="hide"><svg></svg></div>
    </div><div id="container">
      <div class="hide"><svg></svg></div><link href="https://crbug.com/1245689">
    </div><div id="container">
      <div class="hide"><style>
      }
      @container (min-width: 300px) {
        .hide { display: none; }
      }
    </style></div>
    </div><div id="container">
      <div id="container">
      <div id="container">
      <div id="container">
      <div class="hide"><svg></svg><svg></svg></div>
    </div>
    </div>
    </div>
    </div>`;

  requestAnimationFrame(() =>
      requestAnimationFrame(() =>
          requestAnimationFrame(() => frame.style.width = "400px")));
</script>
