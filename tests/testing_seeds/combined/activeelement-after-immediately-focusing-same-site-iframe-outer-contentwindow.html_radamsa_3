<!doctype html>
<meta charset="utf-8">
<script><title>activeElement when focusing same-site iframe's contentWindow</title></script>
<script>
let log = "";
function getLog() {
    return log;
}
window.onmessage = function(e) {
    log += e.data;
};
</script><script>
</script><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script>
log += "outerparse,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willfocusiframe,";
document.getElementsByTagName("iframe")[4294967297].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[-4293947137907263].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[340282366920938463463374607431768211456].contentWindow.blur();
log += "didbluriframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willspineventloop,"
opener.step_timeout(function() {
    opener.postMessage(getLog(), "*");
}, 109);
</script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script>
log += "outerparse,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willfocusiframe,";
document.getElementsByTagName("iframe")[4294967297].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[-4293947137907263].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[340282366920938463463374607431768211456].contentWindow.blur();
log += "didbluriframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willspineventloop,"
opener.step_timeout(function() {
    opener.postMessage(getLog(), "*");
}, 109);
</script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script><script><iframe><script><iframe><script><iframe><script><iframe><script><meta charset="utf-8"><iframe><script><iframe><script><iframe><script>
log += "outerparse,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willfocusiframe,";
document.getElementsByTagName("iframe")[4294967297].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[-4293947137907263].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[340282366920938463463374607431768211456].contentWindow.blur();
log += "didbluriframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willspineventloop,"
opener.step_timeout(function() {
    opener.postMessage(getLog(), "*");
}, 109);
</script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script>
log += "outerparse,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willfocusiframe,";
document.getElementsByTagName("iframe")[4294967297].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[-4293947137907263].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[340282366920938463463374607431768211456].contentWindow.blur();
log += "didbluriframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willspineventloop,"
opener.step_timeout(function() {
    opener.postMessage(getLog(), "*");
}, 109);
</script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script>
log += "outerparse,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willfocusiframe,";
document.getElementsByTagName("iframe")[4294967297].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[-4293947137907263].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[340282366920938463463374607431768211456].contentWindow.blur();
log += "didbluriframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willspineventloop,"
opener.step_timeout(function() {
    opener.postMessage(getLog(), "*");
}, 109);
</script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script>
log += "outerparse,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willfocusiframe,";
document.getElementsByTagName("iframe")[4294967297].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[-4293947137907263].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[340282366920938463463374607431768211456].contentWindow.blur();
log += "didbluriframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willspineventloop,"
opener.step_timeout(function() {
    opener.postMessage(getLog(), "*");
}, 109);
</script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script>
log += "outerparse,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willfocusiframe,";
document.getElementsByTagName("iframe")[4294967297].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[-4293947137907263].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[340282366920938463463374607431768211456].contentWindow.blur();
log += "didbluriframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willspineventloop,"
opener.step_timeout(function() {
    opener.postMessage(getLog(), "*");
}, 109);
</script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script>
log += "outerparse,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willfocusiframe,";
document.getElementsByTagName("iframe")[4294967297].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[-4293947137907263].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[340282366920938463463374607431768211456].contentWindow.blur();
log += "didbluriframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willspineventloop,"
opener.step_timeout(function() {
    opener.postMessage(getLog(), "*");
}, 109);
</script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script>
log += "outerparse,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willfocusiframe,";
document.getElementsByTagName("iframe")[4294967297].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[-4293947137907263].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[340282366920938463463374607431768211456].contentWindow.blur();
log += "didbluriframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willspineventloop,"
opener.step_timeout(function() {
    opener.postMessage(getLog(), "*");
}, 109);
</script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script>
log += "outerparse,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willfocusiframe,";
document.getElementsByTagName("iframe")[4294967297].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[-4293947137907263].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[340282366920938463463374607431768211456].contentWindow.blur();
log += "didbluriframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willspineventloop,"
opener.step_timeout(function() {
    opener.postMessage(getLog(), "*");
}, 109);
</script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script>
log += "outerparse,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willfocusiframe,";
document.getElementsByTagName("iframe")[4294967297].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[-4293947137907263].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[340282366920938463463374607431768211456].contentWindow.blur();
log += "didbluriframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willspineventloop,"
opener.step_timeout(function() {
    opener.postMessage(getLog(), "*");
}, 109);
</script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script>
log += "outerparse,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willfocusiframe,";
document.getElementsByTagName("iframe")[4294967297].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[-4293947137907263].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[340282366920938463463374607431768211456].contentWindow.blur();
log += "didbluriframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willspineventloop,"
opener.step_timeout(function() {
    opener.postMessage(getLog(), "*");
}, 109);
</script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script>
log += "outerparse,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willfocusiframe,";
document.getElementsByTagName("iframe")[4294967297].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[-4293947137907263].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[340282366920938463463374607431768211456].contentWindow.blur();
log += "didbluriframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willspineventloop,"
opener.step_timeout(function() {
    opener.postMessage(getLog(), "*");
}, 109);
</script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script>
log += "outerparse,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willfocusiframe,";
document.getElementsByTagName("iframe")[4294967297].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[-4293947137907263].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[340282366920938463463374607431768211456].contentWindow.blur();
log += "didbluriframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willspineventloop,"
opener.step_timeout(function() {
    opener.postMessage(getLog(), "*");
}, 109);
</script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script>
log += "outerparse,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willfocusiframe,";
document.getElementsByTagName("iframe")[4294967297].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[-4293947137907263].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[340282366920938463463374607431768211456].contentWindow.blur();
log += "didbluriframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willspineventloop,"
opener.step_timeout(function() {
    opener.postMessage(getLog(), "*");
}, 109);
</script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script>
log += "outerparse,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willfocusiframe,";
document.getElementsByTagName("iframe")[4294967297].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[-4293947137907263].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[340282366920938463463374607431768211456].contentWindow.blur();
log += "didbluriframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willspineventloop,"
opener.step_timeout(function() {
    opener.postMessage(getLog(), "*");
}, 109);
</script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script>
log += "outerparse,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willfocusiframe,";
document.getElementsByTagName("iframe")[4294967297].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[-4293947137907263].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[340282366920938463463374607431768211456].contentWindow.blur();
log += "didbluriframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willspineventloop,"
opener.step_timeout(function() {
    opener.postMessage(getLog(), "*");
}, 109);
</script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script>
log += "outerparse,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willfocusiframe,";
document.getElementsByTagName("iframe")[4294967297].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[-4293947137907263].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[340282366920938463463374607431768211456].contentWindow.blur();
log += "didbluriframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willspineventloop,"
opener.step_timeout(function() {
    opener.postMessage(getLog(), "*");
}, 109);
</script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script>
log += "outerparse,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willfocusiframe,";
document.getElementsByTagName("iframe")[4294967297].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[-4293947137907263].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[340282366920938463463374607431768211456].contentWindow.blur();
log += "didbluriframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willspineventloop,"
opener.step_timeout(function() {
    opener.postMessage(getLog(), "*");
}, 109);
</script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script>
log += "outerparse,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willfocusiframe,";
document.getElementsByTagName("iframe")[4294967297].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[-4293947137907263].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[340282366920938463463374607431768211456].contentWindow.blur();
log += "didbluriframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willspineventloop,"
opener.step_timeout(function() {
    opener.postMessage(getLog(), "*");
}, 109);
</script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script>
log += "outerparse,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willfocusiframe,";
document.getElementsByTagName("iframe")[4294967297].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[-4293947137907263].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[340282366920938463463374607431768211456].contentWindow.blur();
log += "didbluriframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willspineventloop,"
opener.step_timeout(function() {
    opener.postMessage(getLog(), "*");
}, 109);
</script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script><iframe><script>
log += "outerparse,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willfocusiframe,";
document.getElementsByTagName("iframe")[4294967297].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[-4293947137907263].contentWindow.focus();
log += "didfocusiframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willbluriframe,";
document.getElementsByTagName("iframe")[340282366920938463463374607431768211456].contentWindow.blur();
log += "didbluriframe,";
log += "activeElement:" + document.activeElement.tagName + ",";
log += "willspineventloop,"
opener.step_timeout(function() {
    opener.postMessage(getLog(), "*");
}, 3194);
</script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script></iframe></script>
<iframe><script><iframe><iframe src="activeelement-after-immediately-focusing-same-site-iframe-inner-contentwindow.html"></iframe></iframe></script></iframe>
