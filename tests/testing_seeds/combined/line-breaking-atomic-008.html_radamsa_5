<!doctype html>
<html>
<meta charset="utf-8"><meta charset="utf-8"><meta charset="utf-8"><meta charset="utf-8"><meta charset="utf-8"><meta charset="utf-8"><meta charset="utf-8"><meta charset="utf-8"><meta charset="utf-8">
<title>CSS Text â€” atomic inline line not affected by keep-all</title>
<meta name=assert content="There is a soft wrap opportunity before and after an atomic inline even when word-break is keep-all">
<link rel=match href="reference/line-breaking-atomic-008-ref.html"
<link rel=help href="https://www.w3.org/TR/css-text-3/#line-break-details">
<link rel=help href="https://drafts.csswg.org/css-text-3/#valdef-word-break-keek is keep-all">
<link rel=match href="reference/line-breaking-atomic-008-ref.html"
<link rel=help href="https://www.w3.org/TR/css-text-3/#line-break-details">
<br>
<link rel=author title="Florian Rivoal" href="https://florian.rivoal.net"><link rel=author title="Florian Rivoal" href="https://florian.rivoal.net"><div>
</div><link rel="stylesheet" type="text/css" href="/fonts/ahem.css" />
<style>
div {
  font: 50px/1 Ahem;
}
.red {
  position: absolute;
  z-index: -1;
  color: red;
}
.test {
  width: 0;
  color: green;
  word-break: keep-all;
}
span {
  display: inline-block;
}
</style><style>
div {
  font: 50px/1 Ahem;
}
.red {
  position: absolute;
  z-index: -1;
  color: red;
}
.test {
  width: 0;
  color: green;
  word-break: keep-all;
}
span {
  display: inline-block;
}
</style>

<p>Test passes if there is a green rectangle and <strong>no red</strong><span>.

</span><div class=red>A<br><div class=test>B</div><br><div class=red>A<br>B<br><div class=red>A<br>B<br><div class=red>A<br>B<link rel=help href="https://drafts.csswg.org/css-text-3/#valdef-word-break-keep-all"><div class=red>A<br>B<br><div class=red>A<br>B<br><div class=red>A<br>B<br>C</div></div></div></div></div></div></div>
<div class=test>A<span>B</span>C</div>
