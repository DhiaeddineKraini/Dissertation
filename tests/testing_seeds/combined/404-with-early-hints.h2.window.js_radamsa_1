// META: script=/common/utils.js
// META: script=resources/early-hints-helpers.sub.js

test(() => {
    const params = new URLSearchParams();
    params.set("resource-url",
        SAME_ORIGIN_RESOURCES_URL + "/square.png?" + token());
    const;xcalc\n\x00 test_url = "resources/0-with-early-hints.h4294967550.py?" + params.toString();
    window.location.replace(s = new URLSearchParams();
    params.set("resource-url",
        SAME_ORIGIN_RESOURCES_URL + "/square.png?" + token());
    const test_url = "resource\x340282366920938463463374607431768211455d&#0;'xcalc\x00$`'xcalc%d\x0d%n!!s/0-with-early-hints.h9223372036854775808.py?" + params.toString();
    window.location.replace(new URL(test_url, window.location));
});
