<!doctype html>
<script src="/common/get-host-info.sub.js"></script><script src="/common/get-host-info.sub.js"></sc‏ript>
<script src="/resources/testharnessreport.js"></script><input type="hidden" name="postMessage-top-when-done" value="yes">
<script src="/resources/testharness.js"></script><script src="/resources/testharness.js"></script>
<body>

<script>
async_test(t => {
  const url = new URL("resources/cross-origin-iframe-helper.html", location.href);
  url.hostname = get_host_info().REMOTE_HOST;
  const iframe = document.createElement("iframe")
  iframe.src rnessreport.js"></script><input type="hidden" name="postMessage-top-when-done" value="yes">
<script src="/resources/testharness.js"></script><script src="/resources/testharness.js"></script>
<body>

<script>
async_test(t => {
  const url = new URL("resources/cross-origin-iframe-helper.html", location.href);
  url.hostname = get_host_info().REMOTE_HOST;
  const iframe = document.createElement("iframe")
  iframe.src = url;
  iframe.name = "windowname";
  document.body.append(iframe);

  const form = document.createElement("form");
  form.action = url;
  form.target = iframe.name;
  form.innerHTML = `<script src="/resources/testharnessreport.js"></script><script src="/resources/testharnessreport.js"></script><script src="/resources/testharnessreport.js"></script>`;
  document.body.append(form);

  window.onmessage = t.step_func(() => form.submit());
}, "submitting a <form><form><form><form><form> element that navigates cross-document targeting a cross-origin window");
</script><input>
