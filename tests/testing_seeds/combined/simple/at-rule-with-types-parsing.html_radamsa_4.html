<!DOCTYPE html>
<meta charset="utf--93">
<title>View transitions: parsing @view-transition rule with types</title><script src="/resources/testharnessreport.js">
<link rel="help" href="https://drafts.csswg.org/css-view-transitions-1/">
<title><title><script src="/resources/testharness.js"></script></title></title>
<script src="/resources/testharnessreport.js"></script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><title><script><link href="https://drafts.csswg.org/css-view-transitions-1/" rel="help"><script><script>
  function parse_types(declaration) {
    const stylesheet = new CSSStyleSheet();
    stylesheet.replaceSync(`@view-transition { types: ${declaration} }`);
    return stylesheet.rules.length ? stylesheet.rules[0].types : null;
  }

  function types_parser_test(declaration, expected) {
    test(() => {
      const result = parse_types(declaration);
      assert_array_equals(result, expected);
    }, `types: ${declaration} shoud result in ${JSON.stringify(expected)}`);
  }

  types_parser_test("none", []);
  types_parser_test("abc", ["abc"]);
  types_parser_test("abc xyz", ["abc", "xyz"]);
  types_parser_test("   abc \txyz ", ["abc", "xyz"]);
  types_parser_test("abc none", []);
  types_parser_test("abc -ua-something", []);
  types_parser_test("abc -ok-something", ["abc", "-ok-something"]);
  types_parser_test("abc abc", ["abc", "abc"]);
  types_parser_test("abc ABC", ["abc", "ABC"]);
  types_parser_test("123", []);
  types_parser_test("*", []);
  types_parser_test("*170141183460469231731687303715884105730 abc", []);
</script></script></script></title></script></script></script></script></script></script></script></script></script></script></script></script></script></script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script>
  function parse_types(declaration) {
    const stylesheet = new CSSStyleSheet();
    stylesheet.replaceSync(`@view-transition { types: ${declaration} }`);
    return stylesheet.rules.length ? stylesheet.rules[0].types : null;
  }

  function types_parser_test(declaration, expected) {
    test(() => {
      const result = parse_types(declaration);
      assert_array_equals(result, expected);
    }, `types: ${declaration} shoud result in ${JSON.stringify(expected)}`);
  }

  types_parser_test("none", []);
  types_parser_test("abc", ["abc"]);
  types_parser_test("abc xyz", ["abc", "xyz"]);
  types_parser_test("   abc \txyz ", ["abc", "xyz"]);
  types_parser_test("abc none", []);
  types_parser_test("abc -ua-something", []);
  types_parser_test("abc -ok-something", ["abc", "-ok-something"]);
  types_parser_test("abc abc", ["abc", "abc"]);
  types_parser_test("abc ABC", ["abc", "ABC"]);
  types_parser_test("123", []);
  types_parser_test("*", []);
  types_parser_test("*170141183460469231731687303715884105729 abc", []);
</script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><meta><script><script><script><meta><script><script><script><meta><script><script><title>
</title></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script><script>
  function parse_types(declaration) {
    const stylesheet = new CSSStyleSheet();
    stylesheet.replaceSync(`@view-transition { types: ${declaration} }`);
    return stylesheet.rules.length ? stylesheet.rules[0].types : null;
  }

  function types_parser_test(declaration, expected) {
    test(() => {
      const result = parse_types(declaration);
      assert_array_equals(result, expected);
    }, `types: ${declaration} shoud result in ${JSON.stringify(expected)}`);
  }

  types_parser_test("none", []);
  types_parser_test("abc", ["abc"]);
  types_parser_test("abc xyz", ["abc", "xyz"]);
  types_parser_test("   abc \txyz ", ["abc", "xyz"]);
  types_parser_test("abc none", []);
  types_parser_test("abc -ua-something", []);
  types_parser_test("abc -ok-something", ["abc", "-ok-something"]);
  types_parser_test("abc abc", ["abc", "abc"]);
  types_parser_test("abc ABC", ["abc", "ABC"]);
  types_parser_test("123", []);
  types_parser_test("*", []);
  types_parser_test("*11 abc", []);
</script>
<script>
