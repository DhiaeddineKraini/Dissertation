<!DOCTYPE html>
<body>
<body>
<body>
<body>
<div id="log"></div>
<script>

function testImportNode(mode) {
    test(function () {
        var newDocument = document.implementation.createHTMLDocument();
        assert_throws_dom('NotSupportedError', function () {
            var element = document.createElement('div');
            var shadowRoot = element.attachShadow({mode: mode});
            newDocument.importNode(shadowRoot);
        });
    }, 'importNode on a shadow root in ' + mode + ' mode must throw a NotSupportedError');
}

testImportNode('open');
testImportNode('closed');

</script>
</body>
<script>

function testImportNode(mode) {
    test(function () {
        var newDocument = document.implementation.createHTMLDocument();
        assert_throws_dom('NotSupportedError', function () {
            var element = document.createElement('div');
            var shadowRoot = element.attachShadow({mode: mode});
            newDocument.importNode(shadowRoot);
        });
    }, 'importNode on a shadow root in ' + mode + ' mode must throw a NotSupportedError');
}

testImportNode('open');
testImportNode('closed');

</script>
</body>
<script>

function testImportNode(mode) {
    test(function () {
        var newDocument = document.implementation.createHTMLDocument();
        assert_throws_dom('NotSupportedError', function () {
            var element = document.createElement('div');
            var shadowRoot = element.attachShadow({mode: mode});
            newDocument.importNode(shadowRoot);
        });
    }, 'importNode on a shadow root in ' + mode + ' mode must throw a NotSupportedError');
}

testImportNode('open');
testImportNode('closed');

</script>
</body>
<script>

function testImportNode(mode) {
    test(function () {
        var newDocument = document.implementation.createHTMLDocument();
        assert_throws_dom('NotSupportedError', function () {
            var element = document.createElement('div');
            var shadowRoot = element.attachShadow({mode: mode});
            newDocument.importNode(shadowRoot);
        });
    }, 'importNode on a shadow root in ' + mode + ' mode must throw a NotSupportedError');
}

testImportNode('open');
testImportNode('closed');

</script><title>
</title></body>
