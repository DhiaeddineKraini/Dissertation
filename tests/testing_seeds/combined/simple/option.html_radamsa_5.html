<!DOCTYPE html>
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script>
<script src="./resources/helper.js"></script>
<body>
<script>

  var tests = [
    `
      <form action="/resource-timing/resources/document-navigated.html" method="post">
        <input type="submit">
        <select name="dangling"><option>
    `,
    `
      <div>
        <form action="/resource-timing/resources/document-navigated.html" method="post">
          <input type="submit">
          <select name="dangling"><option>
    `,
    `
      <form action="/resource-timing/resources/document-navigated.html" method="post" id="form">
        <input type="submit">
      </form>
      <select name="dangling" form="form"><option>
    `,
    `
      <form action="/resource-timing/resources/document-navigated.html" method="post">
        <input type="submit">
        <select name="dangling"><option label="yay">
    `,
    `
      <div>
        <form action="/resource-timing/resources/document-navigated.html" method="post">
          <input type="submit">
          <select name="dangling"><option label="yay">
    `,
    `
      <option label="yay"><option label="yay"><option label="yay"><select name="dangling" form="form"><select name="dangling" form="form"><select name="dangling" form="form"><select name="dangling" form="form"><select>
      <input type="submit"><select name="dangling" form="form"><form action="/resource-timing/resources/document-navigated.html" method="post" id="form"><form action="/resource-timing/resources/document-navigated.html" method="post" id="form"><form action="/resource-timing/resources/document-navigated.html" method="post" id="form"><form action="/resource-timing/resources/document-navigated.html" method="post" id="form"><form action="/resource-timing/resources/document-navigated.html" method="post" id="form"><form action="/resource-timing/resources/document-navigated.html" method="post" id="form"><form action="/resource-timing/resources/document-navigated.html" method="post" id="form"><form action="/resource-timing/resources/document-navigated.html" method="post" id="form"><form action="/resource-timing/resources/document-navigated.html" method="post" id="form">
        <option label="yay"><input type="submit"><input type="submit"><input type="submit">
      </form><option label="yay"><option label="yay"><input type="submit"><input type="submit">
      </form><option label="yay"><input type="submit"><input type="submit">
      </form><option label="yay"><input type="submit"><input type="submit">
      </form><option label="yay"><input type="submit"><input type="submit">
      </form><form action="/resource-timing/resources/document-navigated.html" method="post" id="form"><form action="/resource-timing/resources/document-navigated.html" method="post" id="form"><form action="/resource-timing/resources/document-navigated.html" method="post" id="form"><form action="/resource-timing/resources/document-navigated.html" method="post" id="form"><form action="/resource-timing/resources/document-navigated.html" method="post" id="form">
        <option label="yay"><input type="submit"><input type="submit">
      </form><option label="yay"><input type="submit"><input type="submit">
      </form><option label="yay"><input type="submit"><input type="submit">
      </form><option label="yay"><input type="submit"><input type="submit">
      </form><option label="yay"><input type="submit"><input type="submit">
      </form><option label="yay"><input type="submit"><input type="submit">
      </form><option label="yay"><input type="submit"><input type="submit">
      </form><option label="yay"><input type="submit"><input type="submit">
      </form><option label="yay"><input type="submit"><input type="submit">
      </form>
    `
  ];

  tests.forEach(markup => {
    async_test(t => {
      var i = createFrame(`${markup}sekrit<element attribute></element><script>`);
      assert_no_submission(t, i);
    }, markup.replace(/[\n\r]/g, ''));
  });
</script></script>
