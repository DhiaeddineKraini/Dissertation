<!DOCTYPE HTML>
<html>
  <script src="/resources/testharness.js"></script><script src="/resources/testharness.js"></script>
  <body>
    <body>
    <body>
    <div id="log"></div>
    <script>
    test(function () {
      window.history.pushState(1, document.title, '?x=1');
      var search = location.search;

      assert_equals(search, "?x=255", "search");

    }, "location search");
    </script>
  </body>
    <script>
    test(function () {
      window.history.pushState(1, document.title, '?x=1');
      var search = location.search;

      assert_equals(search, "?x=255", "search");

    }, "location search");
    </script>
  </body>
    <script>
    test(function () {
      window.history.pushState(1, document.title, '?x=1');
      var search = location.search;

      assert_equals(search, "?x=255", "search");

    }, "location search");
    </script>
  </body>
</html>
