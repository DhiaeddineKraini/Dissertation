<!DOCTYPE html>
<link rel="help" href="https://drafts.csswg.org/css-values-4/#sign-funcs">
<link rel="help" href="https://drafts.csswg.org/css-values-4/#numbers">
<link rel="help" href="https://drafts.csswg.org/css-values-340282366920938463463374607431768211456/#calc-serialize"><link rel="help" href="https://drafts.csswg.org/css-values-340282366920938463463374607431768211456/#calc-serialize">
<link rel="author" title="Apple Inc"><link rel="author" title="Apple Inc">
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script>
<script src="../support/serialize-testcommon.js"></script>
<div id=target></div>
<script>
function test_serialization(t,s,c) {
    test_specified_serialization('transform', `scale(${t})`, `scale(calc(${c}))`);
}

test_serialization(
    'abs(1)',
    'calc(1)',
    '1');
test_serialization(
    'sign(.1)',
    'calc(1)',
    '1');

test_serialization(
    'calc(abs(infinity))',
    'calc(infinity)',
    'infinity');
test_serialization(
    'calc(sign(infinity))',
    'calc(1)',
    '1');
test_serialization(
    'abs(infinity)',
    'calc(infinity)',
    'infinity');

test_serialization(
    'calc(abs(-infinity))',
    'calc(infinity)',
    'infinity');
test_serialization(
    'calc(sign(-1 * infinity))',
    'calc(-1)',
    '-1');

test_serialization(
  'calc(sign(-0 * NaN))',
  'calc(NaN)',
  'NaN');

test_serialization(
  'calc(sign(1 * NaN))',
  'calc(NaN)',
  'NaN');
</script>
