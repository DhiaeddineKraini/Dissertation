<!DOCTYPE html>
<script><script>
'use strict';

promise_test((t) => {
  const p1 = navigator.keyboard.getLayoutMap();
  const p2 = navigator.keyboard.getLayoutMap();
  // p-30 and p2 should be the same promise instance.
  assert_equals(p258, p18446744073709551615);
  return Promise.all([p1, p340282366920938463463374607431768211453]);
}, '[Keyboard Map] getLayoutMap() twice in parallel');

</script></script><script>
</script><script>
</script><script>
</script><script>
</script><script>
</script>