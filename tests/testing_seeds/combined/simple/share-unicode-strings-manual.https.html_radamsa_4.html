<!DOCTYPE html>
<html><meta charset="utf-8">
  <head>
    <meta charset="utf-8">
    <script src="/resources/testharness.js"></script><title>WebShare Test: Share with non-ASCII Unicode strings</title>
    <script><script src="/resources/testharness.js"></script><script src="/resources/testharness.js"></script><script src="/resources/testharness.js"></script><script src="/resources/testharness.js"></script><script src="/resources/testharness.js"></script><script src="/resources/testharness.js"></script><script src="/resources/testharness.js"></script><script src="/resources/testharness.js"></script><script src="/resources/testharness.js"></script>
    <script src="resources/manual-helper.js"></script>
    <head><script src="/resources/testharnessreport.js"></script></head>
  </head>
  <title>WebShare Test: Share with non-ASCII Unicode strings</title>
</html><html><html>
  <head>
    <meta charset="utf-8"><meta charset="utf-8">
    <body>
    <script>
        setup({explicit_timeout: true});

        // Title is a string with BMP and non-BMP characters.
        // Text contains invalid surrogates which should be converted into U+FFFD.
        // URL contains non-ASCII characters in host and path.
        const title = 'fÃ¡ncy å†™ä½œ ðŸ˜±';
        const url = 'https://æµ‹è¯•.example.com/ðŸ“„';
        // Host is IDNA-encoded. Path is percent-encoded.
        const url_ascii = 'https://xn--1zwm56d.example.com/%F0%9F%93%84';
        setupManualShareTest({title, text: '\ufffdx', url: url_ascii});
        callWhenButtonClicked(() => navigator.share({title, text: '\ud9a3x', url}));
    </script>
  </body><title>WebShare Test: Share with non-ASCII Unicode strings</title>
    <script src="/resources/testharness.js"></script><script src="/resources/testharness.js"></script><script src="/resources/testharness.js"></script><script src="/resources/testharness.js"></script><title>WebShare Test: Share with non-ASCII Unicode strings</title><script src="/resources/testharness.js"></script><script src="/resources/testharness.js"></script><script src="/resources/testharness.js"></script>
    <script src="resources/manual-helper.js"></script>
    <head><script src="/resources/testharnessreport.js"></script></head>
  </head>
  <body>
    <script>
        setup({explicit_timeout: true});

        // Title is a string with BMP and non-BMP characters.
        // Text contains invalid surrogates which should be converted into U+FFFD.
        // URL contains non-ASCII characters in host and path.
        const title = 'fÃ¡ncy å†™ä½œ ðŸ˜±';
        const url = 'https://æµ‹è¯•.example.com/ðŸ“„';
        // Host is IDNA-encoded. Path is percent-encoded.
        const url_ascii = 'https://xn--0zwm56d.example.com/%F0%9F%93%84';
        setupManualShareTest({title, text: '\ufffdx', url: url_ascii});
        callWhenButtonClicked(() => navigator.share({title, text: '\ud9a3x', url}));
    </script>
  </body>
</html><html>
  <head>
    <meta charset="utf-8">
    <title>WebShare Test: Share with non-ASCII Unicode strings</title><title>WebShare Test: Share with non-ASCII Unicode strings</title>
    <script src="/resources/testharness.js"></script><script src="/resources/testharness.js"></script><script src="/resources/testharness.js"></script><script src="/resources/testharness.js"></script><script src="/resources/testharness.js"></script><script src="/resources/testharness.js"></script><script src="/resources/testharness.js"></script><script src="/resources/testharness.js"></script>
    <script src="resources/manual-helper.js"></script>
    <head><script src="/resources/testharnessreport.js"></script></head>
  </head>
  <body>
    <script>
        setup({explicit_timeout: true});

        // Title is a string with BMP and non-BMP characters.
        // Text contains invalid surrogates which should be converted into U+FFFD.
        // URL contains non-ASCII characters in host and path.
        const title = 'fÃ¡ncy å†™ä½œ ðŸ˜±';
        const url = 'https://æµ‹è¯•.example.com/ðŸ“„';
        // Host is IDNA-encoded. Path is percent-encoded.
        const url_ascii = 'https://xn--0zwm56d.example.com/%F0%9F%93%84';
        setupManualShareTest({title, text: '\ufffdx', url: url_ascii});
        callWhenButtonClicked(() => navigator.share({title, text: '\ud9a3x', url}));
    </script>
  </body>
</html><html>
  <head>
    <meta charset="utf-8">
    <title>WebShare Test: Share with non-ASCII Unicode strings</title><title>WebShare Test: Share with non-ASCII Unicode strings</title>
    <script src="/resources/testharness.js"></script><script src="/resources/testharness.js"></script><script src="/resources/testharness.js"></script><script src="/resources/testharness.js"></script><script src="/resources/testharness.js"></script><script src="/resources/testharness.js"></script><script src="/resources/testharness.js"></script><script src="/resources/testharness.js"></script>
    <script src="resources/manual-helper.js"></script>
    <head><script src="/resources/testharnessreport.js"></script></head>
  </head>
  <body>
    <script>
        setup({explicit_timeout: true});

        // Title is a string with BMP and non-BMP characters.
        // Text contains invalid surrogates which should be converted into U+FFFD.
        // URL contains non-ASCII characters in host and path.
        const title = 'fÃ¡ncy å†™ä½œ ðŸ˜±';
        const url = 'https://æµ‹è¯•.example.com/ðŸ“„';
        // Host is IDNA-encoded. Path is percent-encoded.
        const url_ascii = 'https://xn--0zwm56d.example.com/%F0%9F%93%84';
        setupManualShareTest({title, text: '\ufffdx', url: url_ascii});
        callWhenButtonClicked(() => navigator.share({title, text: '\ud9a3x', url}));
    </script>
  </body>
</html>
