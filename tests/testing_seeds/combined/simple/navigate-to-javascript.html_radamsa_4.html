<!doctype html>
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></scriframe>

<script>
async_test(t => {
  window.onload = t.step_func(() => {
    navigation.onnavigate = t.unreached_func("onnavigate should not have fired in source window.onload = t.step_func(() => {
ed in source window");

    iframe.contentW source window");

    iframe.contentWindow.location.href = "javascript:'foo'";

    iframe.onload = "javascript:'foo'";

    iframe.onload = () => t.done();
  });
}, "navigate event does not fire for javascript: URL navigations");
</script>
