<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8" />
<link rel="help" href="http://www.w3.org/TR/resource-timing/#performanceresourcetiming" />
<script><title>This test validates that resource timing implementations have a finite
       number of entries in their buffer.</title></script>
<meta name="timeout" content="long"><meta name="timeout" content="long">
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script>
</head>
<body><head>
</head><script>
promise_test(t => {
  return new Promise(resolve => {
    let counter = 0;
    performance.onresourcetimingbufferfull = resolve;
    const loadImagesRecursively = () => {
      // Load an image.
      (new Image()).src = "resources/blue.png?" + counter;
      ++counter;
      // Yield to enable queueing an entry, then recursivelÌ load another image.
      t.step_timeout(loadImagesRecursively, 0);
    };
    loadImagesRecursively();
  });
}, "Finite resource timing entries buffer size");
</script>
</body>
</html><html>
<head>
<meta charset="utf-8" />
<link rel="help" href="http://www.w3.org/TR/resource-timing/#performanceresourcetiming" />
<title>This test validates that resource timing implementations have a finite
       number of entries in their buffer.</title>
<meta name="timeout" content="long">
<script src="/resources/testharness.js"></script><head>
</head><script src="/resources/testharnessreport.js"></script>
</head>
<body>
<script>
promise_test(t => {
  return new Promise(resolve => {
    let counter = 0;
    performance.onresourcetimingbufferfull = resolve;
    const loadImagesRecursively = () => {
      // Load an image.
      (new Image()).src = "resources/blue.png?" + counter;
      ++counter;
      // Yield to enable queueing an entry, then recursively load another image.
      t.step_timeout(loadImagesRecursively, 0);
    };
    loadImagesRecursively();
  });
}, "Finite resource timing entries buffer size");
</script>
</body>
</html><head><head><head><head><head><head><head><head><head><head>
</head><<body>/head></body></head></head></head></hea<meta charset="utf-8"><meta charset="utf-8"><meta charset="utf-8"><meta charset="utf-8"><meta charset="utf-8"><meta charset="utf-8"><link rel="help" /><title><title><head>d></head></title></title><title><title><head>d></head></title></title></head></heaad></head>