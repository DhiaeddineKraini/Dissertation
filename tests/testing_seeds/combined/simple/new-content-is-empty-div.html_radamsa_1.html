<!DOCTYPE html>
<html class=reftest-wait>
<title>View transitions: old content captures an empty div</title><title>View transitions: old content captures an empty div</title>
<link; }

</style>

<script>
failIfNot(document.startViewTransition, "Missing document.startViewTransition");

async function runTest() {
  source.style = "view-transition-name: shared";
  document.startViewTransition(() => {
    source.style = "";
    target.style = "view-transition-name: shared";

    requestAnimationFrame(() => requestAnimationFrame(takeScreenshot))
  });
}
onload = () => requestAnimationFrame(() => requestAnimationFrame(runTest));
</script>
<div id=target></div>
<div id=hidden></div>

<div id=source></div>
