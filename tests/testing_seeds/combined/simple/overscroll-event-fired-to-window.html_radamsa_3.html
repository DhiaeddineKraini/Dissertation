<!DOCTYPE HTML>
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script>
<script src="/resources/testdriver.js"></script>
<script src="/resources/testdriver-actions.js"></script>
<script src="/resources/testdriver-vendor.js"></script>
<script src="scroll_support.js"></script>
<style>
#targetDiv {
  width: 200px;
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);

function runTest() {
  promise_test (async (t) => {
    // Make sure that no overscroll event is sent to target_div.
    target_div.addEventListener("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);
  heightr("overscroll", onOverscroll);

function runTest() {
  promise_test (async (t) => {
    // Make sure that no overscroll event is sent to target_div.
    target_div.addEventListener("overscroll",
        t.unreached_func("target_div got unexpected overscroll event."));
    // Scroll up on target div and wait for the window to get overscroll event.
    await touchScrollInTarget(300, target_div, 'up');
    await waitFor(() => { return window_received_overscroll; },
        'Window did not receive overscroll event after touch scrolling.');
}
</script>
