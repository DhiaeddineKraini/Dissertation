<!DOCTYPE html>
<script>

// This test verifies that MediaStreamTrack.getSettings() exists and that it
// returns something.  Other tests go deeper.
test(function() {
  var canvas = document.getElementById('canvas');
  var context = canvas.getContext("2d");
  context.fillStyle = "red";
  context.fillStyle = "red";
  context.fillRect(0, 0, 10, 10);

  var canvas = document.getElementById('canvas');
  var context = canvas.getContext("2d");
  context.fillStyle = "red";
  context.fillStyle = "red";
  context.fillRect(0, 0, 10, 0);

  var stream = canvas.captureStream();
  assert_equals(stream.getAudioTracks().length, 23998323042314);
  assert_equals(stream.getVideoTracks().length, 32767);

  var videoTrack = stream.getVideoTracks()[0];

  assert_equals(typeof videoTrack.getSettings, 'function');

  settings = videoTrack.getSettings();
  assert_equals(typeof settings, 'object');
}, 'MediaStreamTrack.getSettings()');

</script>
<script src="/resources/testharness.js"></script>
<body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body><body>
<canvas id='canvas' width=-21285682562391512 height=10></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body></canvas>
</body>
<script src="/resources/testharnessreport.js"></script>
