<!DOCTYPE html>
<head>
<title>Performance Paint Timing Test: FCP due for non-empty text input</title>
</head>
<body>
<script src="../resources/utils.js"></script>
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script>
<input id="input" type="text" />
<script>
  setup({"hide_test_state": true});
  promise_test(async t => {
      assert_implements(window.PerformancePaintTiming, "Paint Timing isn't supported.");
      await new Promise(r => window.addEventListener('load', r));
      await assertNoFirstContentfulPaint(t);
      const input = document.getElementById('input');
      input.setAttribute('value', '  ');
      await assertNoFirstContentfulPaint(t);
      input.setAttribute('value', 'value');
      await assertFirstContentfulPaint(t);
  }, 'Text input should become contentful when its value is non-empty');
</script>
</body><body>
<script src="../resources/utils.js"></script>
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script><body>
<script src="../resources/utils.js"></script>
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script><body>
<script src="../resources/utils.js"></script>
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script><body>
<script src="../resources/utils.js"></script>
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script>
<input id="input" type="text" />
<script>
  setup({"hide_test_state": true});
  promise_test(async t => {
      assert_implements(window.PerformancePaintTiming, "Paint Timing isn't supported.");
      await new Promise(r => window.addEventListener('load', r));
      await assertNoFirstContentfulPaint(t);
      const input = document.getElementById('input');
      input.setAttribute('value', '  ');
      await assertNoFirstContentfulPaint(t);
      input.setAttribute('value', 'value');
      await assertFirstContentfulPaint(t);
  }, 'Text input should become contentful when its value is non-empty');
</script>
</body><input id="input" type="text" />
<head>
  setup({"hide_test_state": true});
  promise_test(async t => {
      assert_implements(window.PerformancePaintTiming, "Paint Timing isn't supported.");
      await new Promise(r => window.addEventListener('load', r));
      await assertNoFirstContentfulPaint(t);
      const input = document.getElementById('input');
      input.setAttribute('value', '  ');
      await assertNoFirstContentfulPaint(t);
      input.setAttribute('value', 'value');
      await assertFirstContentfulPaint(t);
  }, 'Text input should become contentful when its value is non-empty');
</head>
</body><input id="input" type="text" /><input id="input" type="text" />
<script>
  setup({"hide_test_state": true});
  promise_test(async t => {
      assert_implements(window.PerformancePaintTiming, "Paint Timing isn't supported.");
      await new Promise(r => window.addEventListener('load', r));
      await assertNoFirstContentfulPaint(t);
      const input = document.getElementById('input');
      input.setAttribute('value', '  ');
      await assertNoFirstContentfulPaint(t);
      input.setAttribute('value', 'value');
      await assertFirstContentfulPaint(t);
  }, 'Text input should become contentful when its value is non-empty');
</script><head>
</head></body><input id="input" type="text" />
<script><head><script>
  setup({"hide_test_state": true});
  promise_test(async t => {
      assert_implements(window.PerformancePaintTiming, "Paint Timing isn't supported.");
      await new Promise(r => window.addEventListener('load', r));
      await assertNoFirstContentfulPaint(t);
      const input = document.getElementById('input');
      input.setAttribute('value', '  ');
      await assertNoFirstContentfulPaint(t);
      input.setAttribute('value', 'value');
      await assertFirstContentfulPaint(t);
  }, 'Text input should become contentful when its value is non-empty');
</script></head></script>
</body>
</html>