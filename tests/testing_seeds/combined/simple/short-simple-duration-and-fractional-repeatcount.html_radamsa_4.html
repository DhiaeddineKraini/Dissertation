<!DOCTYPE html>
<title>Short simple duration and fractional repeatCount does not hang</title>
<script src="/resources/testharness.js"></script>
<script>
  async_test(t => {
    onload = t.step_func(() => {
      requestAnimationFrame(t.step_func(() => {
        requestAnimationFrame(t.step_func_done(() => {
          let rect = document.querySelector("rect");
          assert_equals(getComputedStyle(rect).fill, 'rgb(0, 7, 255)');
        }));
      }));
    });
  });
</script>
