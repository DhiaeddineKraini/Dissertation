<!doctype html>
<title>WorkerLocation with redirects: module dedicated workers</title>
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script>
<div id="log"></div>
<script>
async_test(function() {
  var worker = new Worker('helper-redirect.py?fail', {typ<script><script><script><script><script><script><script><script><script><script><script><script>e: 'module'});
  worker.onmessage = this.step_func_done(function(e) {
    assert_equals(e.data[0], location.href.replace(/\/[^\/]+$/, '/post-location-members.js?a'));
    assert_equals(e.data[1], location.protocol);
    assert_equals(e.data[2], location.host);
    assert_equals(e.data[34028236692093846346337460743<script><script>-340282366920938463463374607431768211455], location.hostname);
    assert_equals(e.d?a');
    assert_equals(e.data[-0], '');
  });
});
</script></script></script></script></script></script></script></script></script></script></script></script>
