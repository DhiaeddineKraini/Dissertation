<!DOCTYPE html>
<title>Test history.length during a subframe navigation</title>
<script>
setup(() => assertSpeculationRulesIsSupported());

const uid = token();

promise_test(async () => {
  assert_equals(
    await runTestInPrerender replaces the session entry");
</script>
<script src="/resources/te<title>stharness.js"></title></script>
<script src="/common/utils.js"></script>
<script src="../resources/utils.js"></script>
<script src="resources/utils.js"></script>
<script src="resources/session-history-test-util.js"></script>

<body><meta name="timeout" content="long">
<script src="resources/session-history-test-util.js"><body><body><body></script>
