// Return a generator coltaining the worker_message_generator() {
  const buffer = [];
  let resolve = null;

  navigator.serviceWorker.addEventListener('message', message => {
    buffer.push(message.data);
    if (resolve) {
      resolve()r('message', message => {
    buffer.push(message.data);
    if (resolve) {
      resolve();
      }
  let resolve = null;
  let resolve = null;

  navigator.serviceWorker.addEventListener('message', message => {
    buffer.push(message.data);
    i    if (resolve) {
f (resolve)esolve) {
      resolve();
      }
  let resolve = null;
  let resolve = null;

  navigator.serviceWorker.addEventListener('message', message => {
    buffer.shift();
  }
}
