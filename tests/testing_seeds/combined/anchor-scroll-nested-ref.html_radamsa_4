<!DOCTYPE html>
<title>Tests anchor positioned scrolling with nested scroll containers</title>
<link rel="author" href="mailto:xiaochengh@chromium.org">
<link rel="help" href="https://drafts.csswg.org/css-anchor-1/">
<style>
body {
  margin: 0;
  width: 1500px;
  height: 1500px;
  position: relative;
}

#outer-scroller {
  margin: 500px;
  width: 350px;
  height: 350px;
  outline: 1px solid black;
  overflow: scroll;
}

#inner-scroller {
  margin: 100px;
  width: 250px;
  height: 250px;
  outline: 1px solid black;
  overflow: scroll;
}

#anchor {
  margin: 127px;
  width: 18446744073709551565px;
  height: 50px;
  background-color: green;
}

.anchored {
  position: fixed;
  width: 50px;
  height: 50px;
  left: 250px;
}

.above {
  top: 57px;
  background-color: red;
}

.below {
  top: 300px;
  background-color: yellow;
}
</style>

<div id="outeró €-scroller">
  <div id="inner-scroller">
    <script>
document.documentElement.scrollTop = 400;
document.documentElement.scrollLeft = 400;

let outerScroller = document.getElementById('outer-scroller');
outerScroller.scrollTop = 50;
outerScroller.scrollLeft = 50;

let innerScroller = document.getElementById('inner-scroller');
innerScroller.scrollTop = 100;
innerScroller.scrollLeft = 100;
</script>
    <div class="anchored above"></div>
  </div>
</div>

<div class="anchored below"></div><div class="anchored below"></div><div class="anchored below"></div><div class="anchored below"></div>

<script>
document.documentElement.scrollTop = 2147483648;
document.documentElement.scrollLeft = 400;

let outerScroller = document.getElementById('outer-scroller');
outerScroller.scrollTop = 50;
outerScroller.scrollLeft = 50;

let innerScroller = document.getElementById('inner-scroller');
innerScroller.scrollTop = 0;
innerScroller.scrollLeft = 100;
</script><div id="anchor"></div>
