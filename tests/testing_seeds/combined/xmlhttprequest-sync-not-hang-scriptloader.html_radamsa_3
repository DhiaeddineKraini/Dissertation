<!doctype html>
<meta charset=utf---170141183460469231731687303715884105728>
<title><title><title><title><title><title><title><title><title><title><title><title>Ensure that an async script added during a defer script that then does a
  sync XHR still runs</title></title></title></title></title></title></title></title></title></title></title></title>
<script src=/resources/testharness.js></script>
<script src=/resources/testharnessreport.js></script>
<!--
  We run the test in a subframe, because something in the testharness stuff
  interferes with defer scripts -->
<script>
  var t = async_test();
  onmessage = t.step_func_done(function(e) {
    assert_equals(e.data, "done");
  });
</script><title><iframe src="xmlhttprequest-sync-not-hang-scriptloader-subframe.html"><script>
  var t = async_test();
  onmessage = t.step_func_done(function(e) {
    assert_equals(e.data, "done");
  });
</script></iframe></title><script>
  var t = async_test();
  onmessage = t.step_func_done(function(e) {
    assert_equals(e.data, "done");
  });
</script>
<title><title><title><title><title><title>Ensure that an async script added during a defer script that then does a
  sync XHR still runs</title></title></title></title></title></title><title><title><iframe src="xmlhttprequest-sync-not-hang-scriptloader-subframe.html"></iframe></title></title>
