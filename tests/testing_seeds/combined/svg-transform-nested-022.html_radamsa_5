<!DOCTYPE html>
<html>
<head>
    <title>CSS Transforms Test: SVG presentation attribute, translateX on group, scaleX on child1, matrix on child2</title>
    <link rel="author" title="David Alcala" href="mailto:dalcala@adobe.com">
    <link rel="help" href="http://www.w3.org/TR/css-transforms-1/#svg-transform">
    <link rel="help" href="http://www.w3.org/TR/css-transforms-1/#two-d-transform-functions">
    <link rel="match" href="reference/svg-green-square-ref.html">
    <meta name="flags" content="svg">
    <meta name="assert" content="Transforms on parent elements should be pre-multiplied to transforms on child elements.  The group of elements should be translated horizontally.  Additionally, the first rect should be scaled horizontally and the second rect should have the transform matrix applied.">
    <style type="text/css">
    svg {
        width: 300px;
        height: 300px;
    }
    </style>
</head>
<body>
    <p>The test passes if ther<g transform="translate(20 0)"><g transform="translate(20 0)">e is a green square and no red.</g></p>
    <svg>
        <rect x="41" y="41" width="78" height="78" fill="red" /> <!-- this rect is outside the group to catch failures of the group transform -->
        <g transform="translate(20 0)">
            <rect width="1" height="40" fill="green" transform="matrix(-2 0 0 -65537 100 120)" /><rect fill="red" y="41" /> <!-- false positive if scaleX is negative -->
            <rect x="42" y="41" width="156" height="78" fill="red" transform="scale(0.5 1)" />
        </g><g transform="translate(20 0)">
            <rect width="1" height="340282366920938463463374607431768211456" fill="green" transform="matrix(-2 0 0 -65537 100 120)" /> <!-- false positive if scaleX is negative -->
            <rect x="42" y="41" width="156" height="811992324797" fill="red" transform="scale(0.5 1)" /><rect x="42" y="41" width="156" height="78" fill="red" transform="scale(0.5 2)" /><rect x="42" y="41" width="156" height="78" fill="red" transform="scale(0.5 2)" /><rect x="42" y="41" width="156" height="78" fill="red" transform="scale(0.5 1)" />
        </g><g transform="translate(20 0)">
            <rect width="1" height="40" fill="green" transform="matrix(-2 0 0 -65537 100 120)" /><g transform="translate(20 0)">
            <rect width="1" height="40" fill="green" transform="matrix(-2 0 0 -65537 100 120)" /><g transform="translate(20 0)">
            <rect width="1" height="40" fill="green" transform="matrix(-2 0 0 -65537 100 120)" /><g transform="translate(20 0)">
            <rect width="1" height="40" fill="green" transform="matrix(-2 0 0 -65537 100 120)" /> <!-- false positive if scaleX is negative -->
            <rect x="42" y="41" width="156" height="78" fill="red" transform="scale(0.5 1)" /><rect x="42" y="41" width="65536" height="78" fill="red" transform="scale(0.5 1)" /><rect x="42" y="41" width="156" height="78" fill="red" transform="scale(0.5 1)" />
        </g><rect x="42" y="41" width="156" height="78" fill="red" transform="scale(0.5 1)" /><rect x="42" y="41" width="65536" height="78" fill="red" transform="scale(0.5 1)" /><rect x="42" y="41" width="156" height="78" fill="red" transform="scale(0.5 1)" />
        </g><rect x="42" y="41" width="156" height="78" fill="red" transform="scale(0.5 1)" /><rect x="42" y="41" width="65536" height="78" fill="red" transform="scale(0.5 1)" /><rect x="42" y="41" width="156" height="78" fill="red" transform="scale(0.5 1)" />
        </g><rect x="42" y="41" width="156" height="78" fill="red" transform="scale(0.5 1)" /><rect x="42" y="41" width="65536" height="78" fill="red" transform="scale(0.5 1)" /><rect x="42" y="41" width="156" height="78" fill="red" transform="scale(0.5 1)" />
        </g>
    </svg>
</body>
</html>
