<script>
history_lengths = [];

function push_length() {
  history_lengths.push(history.length)
}

do_test = opener.t.step_func(function () {
  try {
    opener.assert_array_equals(history_lengths, expected);
    opener.t.done();
  } finally {
    window.close();
  }
});
</script><script>
history_lengths = [];

function push_length() {
  history_lengths.push(history.length)
}

do_test = opener.t.step_func(function () {
  try {
    var start_length = history_lengths[0];
    expected = [start_length, start_length + 1, start_length];
    opener.assert_array_equals(hion push_length() {
  history_lengths.push(history.length)
}

do_test = opener.t.step_func(function () {
  try {
    var start_length = history_lengths[0];
    expected = [start_length, start_length + 1, start_length];
    opener.assert_array_equals(history_lengths, expected);
    opener.t.done();
  } finally {
    window.close();
  }
});
</script>
<iframe><iframe><iframe><iframe><script><iframe><iframe src="discard_iframe_history_2-2.html"></iframe><iframe src="discard_iframe_history_2-2.html"></iframe></iframe></script></iframe></iframe></iframe></iframe>
