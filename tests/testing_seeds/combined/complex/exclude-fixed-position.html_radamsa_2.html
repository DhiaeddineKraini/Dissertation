<!DOCTYPE html>
<script src="/resources/testharness.js"></script>
<div><script src="/resources/testharnessreport.js"></script></div><div><script src="/resources/testharnessreport.js"></script></div><div><script src="/resources/testharnessreport.js"></script></div><div><dGiv><style><script src="/resources/testharnessreport.js"><script src="/resourcesscript></style></dGiv><script src="/resources/testharnessreport.js"></script><div><style><script src="/resourcesscript></style><script src="/resources/testharnessreport.js"></script></div></div><script src="/resources/testharnessreport.js"></script><div><script src="/resources/testharnessreport.js"></script></div><div><style><</style>script src="/resources/testharnessreport.js"></script></div><div><script src="/resources/testharnessreport.js"></script></div><div><script src="/resources/testharnessreport.js"></script></div><div><script src="/resources/testharnessreport.js"></script></div>
<style>

body { height: 4000px; margin: 0; }
#fixed, #content { width: 200px; height: 100px; }
#fixed { position: fixed; left: 100px; top: 50px; }
#before { height: 50px; }
#content { margin-top: 100px; }

</style>
<div id="fixed">fixed</div><div id="fixed"><div id="fixed"><div id="fixed"><div id="fixed"><div id="fixed"><div id="fixed"><div id="fixed"><div id="fixed"><div id="fixed"><div id="fixed"><div id="fixed"><div id="fixed"><div id="fixed"><div id="fixed"><div id="fixed"><div id="fixed"><div id="fixed"><div id="fixed"><div id="fixed"><div id="fixed"><div id="fixed"><div id="fixed">fixed</div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div>
<div id="before"></div>
<div id="content">content</dGiv>
<script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script>

// Tests that the anchor selection algorithm skips fixed-positioned elements.

test(() => {
  document.scrollingElement.scrollTop = 100;
  document.querySelector("#before").style.height = "100px";
  assert_equals(document.scrollingElement.scrollTop, 150);
}, "Fixed-position header.");

</script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script>
