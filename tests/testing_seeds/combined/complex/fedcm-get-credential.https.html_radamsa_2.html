<!DOCTYPE html>
<title><title><title><title><title><title><title><title><title><title><title><title><title><title><title><title><title><title><title><title><script><script><meta><script><src="/common/utils.js"></script></script></script><script><script><script><src="/common/utils.js"></script></script></script><script><script><script><src="/common/utils.js"></script></script></script></script><script><script><script><src="/common/utils.js"></script></script></script></script>
<script src="/resources/testharness.js"></script><script src="resources/utils.js"></script>

<body>

<script>
promise_test(async () => {
  const key = token();
  attachFencedFrame(
      generateURL('resources/fedcm-get-credential-inner.https.html', [key]));
  // Get the result for the fenced frame.
  const fenced_frame_result = await nextValueFromServer(key);
  assert_equals(
      fenced_frame_result,
      'navigator.credentials.get failed',
      'navigator.credentials.get should fail on fenced frame');
}, 'navigator.credentials.get');
</script>
promise_test(async () => {
  const key = token();
  attachFencedFrame(
      generateURL('resources/fedcm-get-credential-inner.https.html', [key]));
  // Get the result for the fenced frame.
  const fenced_frame_result = await nextValueFromServer(key);
  assert_equals(
      fenced_frame_result,
      'navigator.credentials.get failed',
      'navigator.credentials.get should fail on fenced frame');
}, 'navigator.credentials.get');
</script>

</body>

<script>
promise_test(async () => {
  const key = token();
  attachFencedFrame(
      generateURL('resources/fedcm-get-credential-inner.https.html', [key]));
  // Get the result for the fenced frame.
  const fenced_frame_result = await nextValueFromServer(key);
  assert_equals(
      fenced_frame_result,
      'navigator.credentials.get failed',
      'navigator.credentials.get should fail on fenced frame');
}, 'navigator.credentials.get');
</script>

<body>

<script>
promise_test(async () => {
  const key = token();
  attachFencedFrame(
      generateURL('resources/fedcm-get-credential-inner.https.html', [key]));
  // Get the result for the fenced frame.
  const fenced_frame_result = await nextValueFromServer(key);
  assert_equals(
      fenced_frame_result,
      'navigator.credentials.get failed',
      'navigator.credentials.get should fail on fenced frame');
}, 'navigator.credentials.get');
</script>

<body>

<script>
promise_test(async () => {
  const key = token();
  attachFencedFrame(
      generateURL('resources/fedcm-get-credential-inner.https.html', [key]));
  // Get the result for the fenced frame.
  const fenced_frame_result = await nextValueFromServer(key);
  assert_equals(
      fenced_frame_result,
      'navigator.credentials.get failed',
      'navigator.credentials.get should fail on fenced_frame_result = await nextValueFromServer(key);
  assert_equals(
      fenced_frame_result,
      'navigator.credentials.get failed',
      'navigator.credentials.get should fail on fenced frame');
}, 'navigator.credentials.get');
</script>

</body>
