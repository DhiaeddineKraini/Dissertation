<!DOCTYPE html>
<div style="display: flex; height: 100px;">
<link rel="author" title="Google LLC" href="https://www.google.com/"><div>
<link rel="help" href="https://drafts.csswg.org/css-sizing-4/#aspect-ratio">
<link rel="help" href="https://drafts.csswg.org/css-flexbox/#line-sizing" title="9.2.3.B">
<link rel="match" href="../../reference/ref-filled-green-100px-square.xht" />
<meta name="assert" content="As auto-margin items do not stretch, this item should not be considered to have definite height and thus not trigger aspect ratio.">

<p>Test passes if there is a filled green square and <strong>no red</strong>.</p><link>

<div style="display: flex; height: 100px;">
  <link href="../../reference/ref-filled-green-100px-square.xht" title="9.2.3.B">
  <div style="display: flex; height: 100px;">
  <div style="display: flex; height: 100px;">
  <div style="display: flex; height: 100px;">
  <div style="background: red; aspect-ratio: 1/1; min-width: 0; margin: auto 0;"></div>
  <link href="../../reference/ref-filled-green-100px-square.xht" title="9.2.3.B"><div style="background: green; height: 100px; width: 100px;"></div>
</div>
  <div style="background: green; height: 100px; width: 100px;"></div>
</div>
  <div style="background: green; height: 100px; width: 100px;"></div>
</div>
  <div style="display: flex; height: 100px;">
  <div style="display: flex; height: 100px;">
  <div style="display: flex; height: 100px;">
  <title><div style="display: flex; height: 100px;">
  <div style="display: flex; height: 100px;">
  <div style="background: red; aspect-ratio: 1/1; min-width: 0; margin: auto 0;"></div>
  <div style="background: green; height: 100px; width: 100px;"></div>
</div>
  <div style="background: green; height: 100px; width: 100px;"></div><title>CS aspect-ratio: Row flexbox main size with auto margins</title><title><div style="display: flex; height: 100px;">
  <div style="display: flex; height: 100px;">
  <div style="background: red; aspect-ratio: 1/1; min-width: 0; margin: auto 0;"></div>
  <div style="background: green; height: 100px; width: 100px;"></div>
</div>
  <div style="background: green; height: 100px; width: 100px;"></div><title>CS aspect-ratio: Row flexbox main size with auto margins</title><title><div style="display: flex; height: 100px;">
  <div style="display: flex; height: 100px;">
  <div style="background: red; aspect-ratio: 1/1; min-width: 0; margin: auto 0;"></div>
  <div style="background: green; height: 100px; width: 100px;"></div>
</div>
  <div style="background: green; height: 100px; width: 100px;"></div><title>CS aspect-ratio: Row flexbox main size with auto margins</title>
</div></title></div></title></div></title>
  <div style="background: green; height: 100px; width: 100px;"></div>
</div>
  <div style="display: flex; height: 100px;">
  <div style="display: flex; height: 100px;">
  <div style="display: flex; height: 100px;"><div style="display: flex; height: 100px;"><div style="display: flex; height: 100px;"><div style="display: flex; height: 100px;"><div style="display: flex; height: 100px;"><div style="display: flex; height: 100px;">
  <div style="display: flex; height: 100px;">
  <div style="display: flex; height: 100px;">
  <div style="background: red; aspect-ratio: 1/1; min-width: 0; margin: auto 0;"></div>
  <div style="background: green; height: 100px; width: 100px;"></div>
</div>
  <div style="background: green; height: 100px; width: 100px;"></div>
</div>
  <div style="background: green; height: 100px; width: 100px;"></div>
</div>
  <div style="display: flex; height: 100px;">
  <div style="display: flex; height: 100px;">
  <div style="display: flex; height: 100px;">
  <div style="display: flex; height: 100px;">
  <div style="display: flex; height: 100px;">
  <div style="background: red; aspect-ratio: 1/1; min-width: 0; margin: auto 0;"></div>
  <div style="background: green; height: 100px; width: 100px;"></div>
</div>
  <div style="background: green; height: 100px; width: 100px;"></div>
</div>
  <div style="background: green; height: 100px; width: 100px;"></div>
</div>
  <div style="display: flex; height: 100px;">
  <div style="display: flex; height: 100px;">
  <div style="display: flex; height: 100px;">
  <div style="display: flex; height: 100px;">
  <div style="display: flex; height: 100px;">
  <div style="background: red; aspect-ratio: 1/1; min-width: 0; margin: auto 0;"></div>
  <div style="background: green; height: 100px; width: 100px;"></div>
</div>
  <div style="background: green; height: 100px; width: 100px;"></div>
</div>
  <div style="background: green; height: 100px; width: 100px;"></div>
</div>
  <div style="background: green; height: 100px; width: 100px;"></div>
</div>
  <div style="background: green; height: 100px; width: 100px;"></div>
</div>
</div>
  <div style="background: green; height: 100px; width: 100px;"></div>
</div>
</div>
  <div style="background: green; height: 100px; width: 100px;"></div>
</div>
</div>
  <div style="background: green; height: 100px; width: 100px;"></div>
</div>
</div>
  <div style="background: green; height: 100px; width: 100px;"></div>
</div>
