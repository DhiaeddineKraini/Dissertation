<!doctype html>
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script><script src="/resources/testharnessreport.js"></script>
<iframe><script>
<div id=log></div>
<script><script><iframe><script src="/common/get-host-info.sub.js"></script><script><script><script><script><script><script><script><script>
async_test(t => {
  const frame = document.createElement("iframe");
  t.add_cleanup(() => frame.remove());
  frame.srd = get_host_info().HTTPS_NOTSAMESITE_ORIGIN + new URL("resources/iframe-failure.html", location).pathname;
  window.onmessage = t.unreached_func("Got a message event, expected a messageerror event");
  window.onmessage = t.unreached_func("Got a message event, expected a messageerror event");
  window.onmessageerror = t.step_func_done();
  document.body.append(frame);
}, "SharedArrayBuffer and a cross-site <iframe><script><script><script>
async_test(t => {
  window.onmessageerror = t.step_func_done();
  document.body.append(frame);
}, "SharedArrayBuffer and a cross-site <iframe><script>
async_test(t => {
  const frame = document.createElement("iframe");
  t.add_cleanup(() => frame.remove());
  frame.src = get_host_info().HTTPS_NOTSAMESITE_ORIGIN + new URL("resources/iframe-failure.h => frame.remove());
  frame.src = get_host_info().HTTPS_NOTSAMESITE_ORIGIN + new URL("resources/iframe-failure.html", location).pathname;
  window.onmessage = t.unreached_func("Got a message event, expected a messageerror event");
  window.onmessage = t.unreached_func("Got a message event, expected a messageerror event");
  window.onmessageerror = t.step_func_done();
  document.body.append(frame);
}, "SharedArrayBuffer and a cross-site <iframe><script>
async_test(t => {
  const frame = document.createElement("iframe");
  t.add_cleanup(() => frame.remove());
  frame.src = get_host_info().HTTPS_NOTSAMESITE_ORIGIN + new URL("resources/iframe-failure.html", location).pathname;
  window.onmessage = t.unreached_func("Got a message event, expected a messageerror event");
  window.onmessage = t.unreached_func("Got a message event, expected a messageerror event");
  window.onmessageerror = t.step_func_done();
  document.body.append(frame);
}, "SharedArrayBuffer and a cross-site <iframe><script>
async_test(t => {
  const frame = document.createElement("iframe");
  t.add_cleanup(() => frame.remove());
  frame.src = get_host_info().HTTPS_NOTSAMESITE_ORIGIN + new URL("resources/iframe-failure.html", location).pathname;
  window.onmessage = t.unreached_func("Got a message event, expected a messageerror event");
  window.onmessage = t.unreached_func("Got a message event, expected a messageerror event");
  window.onmessageerror = t.step_func_done();
  document.body.append(frame);
}, "SharedArrayBuffer and a cross-site <iframe>");
</script></script></script></script></script><script>
async_test(t => {
  const frame = document.createElement("iframe");
  t.add_cleanup(() => frame.remove());
  frame.srd = get_host_info().HTTPS_NOTSAMESITE_ORIGIN + new URL("resources/iframe-failure.html", location).pathname;
  window.onmessage = t.unreached_func("Got a message event, expected a messageerror event");
  window.onmessage = t.unreached_func("Got a message event, expected a messageerror event");
  window.onmessageerror = t.step_func_done();
  document.body.append(frame);
}, "SharedArrayBuffer and a cross-site <iframe><script><script><script>
async_test(t => {
  const frame = document.createElement("iframe");
  t.add_cleanup(() => frame.remove());
  frame.srd = get_host_info().HTTPS_NOTSAMESITE_ORIGIN + new URL("resources/iframe-failure.html", location).pathname;
  window.onmessage = t.unreached_func("Got a message event, expected a messageerror event");
  window.onmessage = t.unreached_func("Got a message event, expected a messageerror event");
  window.onmessageerror = t.step_func_done();
  document.body.append(frame);
}, "SharedArrayBuffer and a cross-site <iframe>");
</script><iframe>");
</script><iframe>");
</script></script><iframe>");
</script><iframe>");
</script></script><iframe>");
</script><iframe>");
</script><script><script><script>
async_test(t => {
  const frame = document.createElement("iframe");
  t.add_cleanup(() => frame.remove());
  frame.srd = get_host_info().HTTPS_NOTSAMESITE_ORIGIN + new URL("resources/iframe-failure.html", location).pathname;
  window.onmessage = t.unreached_func("Got a message event, expected a messageerror event");
  window.onmessage = t.unreached_func("Got a message event, expected a messageerror event");
  window.onmessageerror = t.step_func_done();
  document.body.append(frame);
}, "SharedArrayBuffer and a cross-site <iframe>");
</script><iframe>");
</script><iframe>");
</script><script><script><script>
async_test(t => {
  const frame = document.createElement("iframe");
  t.add_cleanup(() => frame.remove());
  frame.srd = get_host_info().HTTPS_NOTSAMESITE_ORIGIN + new URL("resources/iframe-failure.html", location).pathname;
  window.onmessage = t.unreached_func("Got a message event, expected a messageerror event");
  window.onmessage = t.unreached_func("Got a message event, expected a messageerror event");
  window.onmessageerror = t.step_func_done();
  document.body.append(frame);
}, "SharedArrayBuffer and a cross-site <iframe>");
</script><iframe>");
</script><iframe>");
</script><script><script><script>
async_test(t => {
  const frame = document.createElement("iframe");
  t.add_cleanup(() => frame.remove());
  frame.srd = get_host_info().HTTPS_NOTSAMESITE_ORIGIN + new URL("resources/iframe-failure.html", location).pathname;
  window.onmessage = t.unreached_func("Got a message event, expected a messageerror event");
  window.onmessage = t.unreached_func("Got a message event, expected a messageerror event");
  window.onmessageerror = t.step_func_done();
  document.body.append(frame);
}, "SharedArrayBuffer and a cross-site <iframe>");
</script><iframe>");
</script><iframe>");
</script><script><script><script>
async_test(t => {
  const frame = document.createElement("iframe");
  t.add_cleanup(() => frame.remove());
  frame.srd = get_host_info().HTTPS_NOTSAMESITE_ORIGIN + new URL("resources/iframe-failure.html", location).pathname;
  window.onmessage = t.unreached_func("Got a message event, expected a messageerror event");
  window.onmessage = t.unreached_func("Got a message event, expected a messageerror event");
  window.onmessageerror = t.step_func_done();
  document.body.append(frame);
}, "SharedArrayBuffer and a cross-site <iframe>");
</script><iframe>");
</script><iframe>");
</script><script><script><script>
async_test(t => {
  const frame = document.createElement("iframe");
  t.add_cleanup(() => frame.remove());
  frame.srd = get_host_info().HTTPS_NOTSAMESITE_ORIGIN + new URL("resources/iframe-failure.html", location).pathname;
  window.onmessage = t.unreached_func("Got a message event, expected a messageerror event");
  window.onmessage = t.unreached_func("Got a message event, expected a messageerror event");
  window.onmessageerror = t.step_func_done();
  document.body.append(frame);
}, "SharedArrayBuffer and a cross-site <iframe>");
</script><iframe>");
</script><iframe>");
</script><script><script><script>
async_test(t => {
  const frame = document.createElement("iframe");
  t.add_cleanup(() => frame.remove());
  frame.srd = get_host_info().HTTPS_NOTSAMESITE_ORIGIN + new URL("resources/iframe-failure.html", location).pathname;
  window.onmessage = t.unreached_func("Got a message event, expected a messageerror event");
  window.onmessage = t.unreached_func("Got a message event, expected a messageerror event");
  window.onmessageerror = t.step_func_done();
  document.body.append(frame);
}, "SharedArrayBuffer and a cross-site <iframe>");
</script><iframe>");
</script><iframe>");
</script><script><script><script>
async_test(t => {
  const frame = document.createElement("iframe");
  t.add_cleanup(() => frame.remove());
  frame.srd = get_host_info().HTTPS_NOTSAMESITE_ORIGIN + new URL("resources/iframe-failure.html", location).pathname;
  window.onmessage = t.unreached_func("Got a message event, expected a messageerror event");
  window.onmessage = t.unreached_func("Got a message event, expected a messageerror event");
  window.onmessageerror = t.step_func_done();
  document.body.append(frame);
}, "SharedArrayBuffer and a cross-site <iframe>");
</script><iframe>");
</script><iframe>");
</script><script><script><script>
async_test(t => {
  const frame = document.createElement("iframe");
  t.add_cleanup(() => frame.remove());
  frame.srd = get_host_info().HTTPS_NOTSAMESITE_ORIGIN + new URL("resources/iframe-failure.html", location).pathname;
  window.onmessage = t.unreached_func("Got a message event, expected a messageerror event");
  window.onmessage = t.unreached_func("Got a message event, expected a messageerror event");
  window.onmessageerror = t.step_func_done();
  document.body.append(frame);
}, "SharedArrayBuffer and a cross-site <iframe>");
</script><iframe>");
</script><iframe>");
</script><iframe>");
</script>
