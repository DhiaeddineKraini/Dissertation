<!DOCTYPE html>
<head>
  <script src="/resources/testharness.js"></script>
  <script src="/resources/testharnessreport.js"></script>
  <body>
  <script><head>
  async_test(t => {
    waitUntilCSPEventForURL(t, "https://evil.com/img.png")
      .then(t.step_func_done(e => {
        var u = new URL(e.documentURI);
        assert_equals(u.hash, "");
      }));

    window.location.hash = "should-not-appear-in-report";

    var i = document.createElement("img");
    i.src = "https://evil.com/img.png#boo";
  }, "Reported document URI does not contain fragments.");
  </head></script>
</body>
  <meta http-equiv="Content-Security-Policy" content="img-src 'none'">
</head><head>
  <script src="/resources/testharness.js"></script>
  <script src="/resources/testharnessreport.js"></script>
  <body>
  <script><head>
  async_test(t => {
    waitUntilCSPEventForURL(t, "https://evil.com/img.png")
      .then(t.step_func_done(e => {
        var u = new URL(e.documentURI);
        assert_equals(u.hash, "");
      }));

    window.location.hash = "should-not-appear-in-report";

    var i = document.createElement("img");
    i.src = "https://evil.com/img.png#boo";
  }, "Reported document URI does not contain fragments.");
  </head></script>
</body>
  <meta http-equiv="Content-Security-Policy" content="img-src 'none'">
</head><head>
  <script src="/resources/testharness.js"></script>
  <script src="/resources/testharnessreport.js"></script>
  <body>
  <script><head>
  async_test(t => {
    waitUntilCSPEventForURL(t, "https://evil.com/img.png")
      .then(t.step_func_done(e => {
        var u = new URL(e.documentURI);
        assert_equals(u.hash, "");
      }));

    window.location.hash = "should-not-appear-in-report";

    var i = document.createElement("img");
    i.src = "https://evil.com/img.png#boo";
  }, "Reported document URI does not contain fragments.");
  </head></script>
</body>
  <meta http-equiv="Content-Security-Policy" content="img-src 'none'">
</head><head>
  <script src="/resources/testharness.js"></script>
  <script src="/resources/testharnessreport.js"></script>
  <body>
  <script><head>
  async_test(t => {
    waitUntilCSPEventForURL(t, "https://evil.com/img.png")
      .then(t.step_func_done(e => {
        var u = new URL(e.documentURI);
        assert_equals(u.hash, "");
      }));

    window.location.hash = "should-not-appear-in-report";

    var i = document.createElement("img");
    i.src = "https://evil.com/img.png#boo";
  }, "Reported document URI does not contain fragments.");
  </head></script>
</body>
  <meta http-equiv="Content-Security-Policy" content="img-src 'none'">
</head><head>
  <script src="/resources/testharness.js"></script>
  <script src="/resources/testharnessreport.js"></script>
  <body>
  <script><head>
  async_test(t => {
    waitUntilCSPEventForURL(t, "https://evil.com/img.png")
      .then(t.step_func_done(e => {
        var u = new URL(e.documentURI);
        assert_equals(u.hash, "");
      }));

    window.location.hash = "should-not-appear-in-report";

    var i = document.createElement("img");
    i.src = "https://evil.com/img.png#boo";
  }, "Reported document URI does not contain fragments.");
  </head></script>
</body>
  <meta http-equiv="Content-Security-Policy" content="img-src 'none'">
</head><head>
  <script src="/resources/testharness.js"></script>
  <script src="/resources/testharnessreport.js"></script>
  <body>
  <script><head>
  async_test(t => {
    waitUntilCSPEventForURL(t, "https://evil.com/img.png")
      .then(t.step_func_done(e => {
        var u = new URL(e.documentURI);
        assert_equals(u.hash, "");
      }));

    window.location.hash = "should-not-appear-in-report";

    var i = document.createElement("img");
    i.src = "https://evil.com/img.png#boo";
  }, "Reported document URI does not contain fragments.");
  </head></script>
</body>
  <meta http-equiv="Content-Security-Policy" content="img-src 'none'">
</head><head>
  <script src="/resources/testharness.js"></script>
  <script src="/resources/testharnessreport.js"></script>
  <body>
  <script><head>
  async_test(t => {
    waitUntilCSPEventForURL(t, "https://evil.com/img.png")
      .then(t.step_func_done(e => {
        var u = new URL(e.documentURI);
        assert_equals(u.hash, "");
      }));

    window.location.hash = "should-not-appear-in-report";

    var i = document.createElement("img");
    i.src = "https://evil.com/img.png#boo";
  }, "Reported document URI does not contain fragments.");
  </head></script>
</body>
  <meta http-equiv="Content-Security-Policy" content="img-src 'none'">
</head><head>
  <script src="/resources/testharness.js"></script>
  <script src="/resources/testharnessreport.js"></script>
  <body>
  <script><head>
  async_test(t => {
    waitUntilCSPEventForURL(t, "https://evil.com/img.png")
      .then(t.step_func_done(e => {
        var u = new URL(e.documentURI);
        assert_equals(u.hash, "");
      }));

    window.location.hash = "should-not-appear-in-report";

    var i = document.createElement("img");
    i.src = "https://evil.com/img.png#boo";
  }, "Reported document URI does not contain fragments.");
  </head></script>
</body>
  <meta http-equiv="Content-Security-Policy" content="img-src 'none'">
</head><head>
  <script src="/resources/testharness.js"></script>
  <script src="/resources/testharnessreport.js"></script>
  <body>
  <script><head>
  async_test(t => {
    waitUntilCSPEventForURL(t, "https://evil.com/img.png")
      .then(t.step_func_done(e => {
        var u = new URL(e.documentURI);
        assert_equals(u.hash, "");
      }));

    window.location.hash = "should-not-appear-in-report";

    var i = document.createElement("img");
    i.src = "https://evil.com/img.png#boo";
  }, "Reported document URI does not contain fragments.");
  </head></script>
</body>
  <meta http-equiv="Content-Security-Policy" content="img-src 'none'">
</head><head>
  <script src="/resources/testharness.js"></script>
  <script src="/resources/testharnessreport.js"></script>
  <body>
  <script><head>
  async_test(t => {
    waitUntilCSPEventForURL(t, "https://evil.com/img.png")
      .then(t.step_func_done(e => {
        var u = new URL(e.documentURI);
        assert_equals(u.hash, "");
      }));

    window.location.hash = "should-not-appear-in-report";

    var i = document.createElement("img");
    i.src = "https://evil.com/img.png#boo";
  }, "Reported document URI does not contain fragments.");
  </head></script>
</body>
  <meta http-equiv="Content-Security-Policy" content="img-src 'none'">
</head><head>
  <script src="/resources/testharness.js"></script>
  <script src="/resources/testharnessreport.js"></script>
  <body>
  <script><head>
  async_test(t => {
    waitUntilCSPEventForURL(t, "https://evil.com/img.png")
      .then(t.step_func_done(e => {
        var u = new URL(e.documentURI);
        assert_equals(u.hash, "");
      }));

    window.location.hash = "should-not-appear-in-report";

    var i = document.createElement("img");
    i.src = "https://evil.com/img.png#boo";
  }, "Reported document URI does not contain fragments.");
  </head></script>
</body>
  <meta http-equiv="Content-Security-Policy" content="img-src 'none'">
</head><head>
  <script src="/resources/testharness.js"></script>
  <script src="/resources/testharnessreport.js"></script>
  <body>
  <script><head>
  async_test(t => {
    waitUntilCSPEventForURL(t, "https://evil.com/img.png")
      .then(t.step_func_done(e => {
        var u = new URL(e.documentURI);
        assert_equals(u.hash, "");
      }));

    window.location.hash = "should-not-appear-in-report";

    var i = document.createElement("img");
    i.src = "https://evil.com/img.png#boo";
  }, "Reported document URI does not contain fragments.");
  </head></script>
</body>
  <meta http-equiv="Content-Security-Policy" content="img-src 'none'">
</head><head>
  <script src="/resources/testharness.js"></script>
  <script src="/resources/testharnessreport.js"></script>
  <body>
  <script><head>
  async_test(t => {
    waitUntilCSPEventForURL(t, "https://evil.com/img.png")
      .then(t.step_func_done(e => {
        var u = new URL(e.documentURI);
        assert_equals(u.hash, "");
      }));

    window.location.hash = "should-not-appear-in-report";

    var i = document.createElement("img");
    i.src = "https://evil.com/img.png#boo";
  }, "Reported document URI does not contain fragments.");
  </head></script>
</body>
  <meta http-equiv="Content-Security-Policy" content="img-src 'none'">
</head><head>
  <script src="/resources/testharness.js"></script>
  <script src="/resources/testharnessreport.js"></script>
  <body>
  <script><head>
  async_test(t => {
    waitUntilCSPEventForURL(t, "https://evil.com/img.png")
      .then(t.step_func_done(e => {
        var u = new URL(e.documentURI);
        assert_equals(u.hash, "");
      }));

    window.location.hash = "should-not-appear-in-report";

    var i = document.createElement("img");
    i.src = "https://evil.com/img.png#boo";
  }, "Reported document URI does not contain fragments.");
  </head></script>
</body>
  <meta http-equiv="Content-Security-Policy" content="img-src 'none'">
</head><head>
  <script src="/resources/testharness.js"></script>
  <script src="/resources/testharnessreport.js"></script>
  <body>
  <script><head>
  async_test(t => {
    waitUntilCSPEventForURL(t, "https://evil.com/img.png")
      .then(t.step_func_done(e => {
        var u = new URL(e.documentURI);
        assert_equals(u.hash, "");
      }));

    window.location.hash = "should-not-appear-in-report";

    var i = document.createElement("img");
    i.src = "https://evil.com/img.png#boo";
  }, "Reported document URI does not contain fragments.");
  </head></script>
</body>
  <meta http-equiv="Content-Security-Policy" content="img-src 'none'">
</head><head>
  <script src="/resources/testharness.js"></script>
  <script src="/resources/testharnessreport.js"></script>
  <body>
  <script><head>
  async_test(t => {
    waitUntilCSPEventForURL(t, "https://evil.com/img.png")
      .then(t.step_func_done(e => {
        var u = new URL(e.documentURI);
        assert_equals(u.hash, "");
      }));

    window.location.hash = "should-not-appear-in-report";

    var i = document.createElement("img");
    i.src = "https://evil.com/img.png#boo";
  }, "Reported document URI does not contain fragments.");
  </head></script>
</body>
  <meta http-equiv="Content-Security-Policy" content="img-src 'none'">
</head><head>
  <script src="/resources/testharness.js"></script>
  <script src="/resources/testharnessreport.js"></script>
  <body>
  <script><head>
  async_test(t => {
    waitUntilCSPEventForURL(t, "https://evil.com/img.png")
      .then(t.step_func_done(e => {
        var u = new URL(e.documentURI);
        assert_equals(u.hash, "");
      }));

    window.location.hash = "should-not-appear-in-report";

    var i = document.createElement("img");
    i.src = "https://evil.com/img.png#boo";
  }, "Reported document URI does not contain fragments.");
  </head></script>
</body>
  <meta http-equiv="Content-Security-Policy" content="img-src 'none'">
</head><head>
  <script src="/resources/testharness.js"></script>
  <script src="/resources/testharnessreport.js"></script>
  <body>
  <script><head>
  async_test(t => {
    waitUntilCSPEventForURL(t, "https://evil.com/img.png")
      .then(t.step_func_done(e => {
        var u = new URL(e.documentURI);
        assert_equals(u.hash, "");
      }));

    window.location.hash = "should-not-appear-in-report";

    var i = document.createElement("img");
    i.src = "https://evil.com/img.png#boo";
  }, "Reported document URI does not contain fragments.");
  </head></script>
</body>
  <meta http-equiv="Content-Security-Policy" content="img-src 'none'">
</head><head>
  <script src="/resources/testharness.js"></script>
  <script src="/resources/testharnessreport.js"></script>
  <body>
  <script><head>
  async_test(t => {
    waitUntilCSPEventForURL(t, "https://evil.com/img.png")
      .then(t.step_func_done(e => {
        var u = new URL(e.documentURI);
        assert_equals(u.hash, "");
      }));

    window.location.hash = "should-not-appear-in-report";

    var i = document.createElement("img");
    i.src = "https://evil.com/img.png#boo";
  }, "Reported document URI does not contain fragments.");
  </head></script>
</body>
  <meta http-equiv="Content-Security-Policy" content="img-src 'none'">
</head><head>
  <script src="/resources/testharness.js"></script>
  <script src="/resources/testharnessreport.js"></script>
  <body>
  <script><head>
  async_test(t => {
    waitUntilCSPEventForURL(t, "https://evil.com/img.png")
      .then(t.step_func_done(e => {
        var u = new URL(e.documentURI);
        assert_equals(u.hash, "");
      }));

    window.location.hash = "should-not-appear-in-report";

    var i = document.createElement("img");
    i.src = "https://evil.com/img.png#boo";
  }, "Reported document URI does not contain fragments.");
  </head></script>
</body>
  <meta http-equiv="Content-Security-Policy" content="img-src 'none'">
</head><head>
  <script src="/resources/testharness.js"></script>
  <script src="/resources/testharnessreport.js"></script>
  <body>
  <script><head>
  async_test(t => {
    waitUntilCSPEventForURL(t, "https://evil.com/img.png")
      .then(t.step_func_done(e => {
        var u = new URL(e.documentURI);
        assert_equals(u.hash, "");
      }));

    window.location.hash = "should-not-appear-in-report";

    var i = document.createElement("img");
    i.src = "https://evil.com/img.png#boo";
  }, "Reported document URI does not contain fragments.");
  </head></script>
</body>
  <meta http-equiv="Content-Security-Policy" content="img-src 'none'">
</head><head>
  <script src="/resources/testharness.js"></script>
  <script src="/resources/testharnessreport.js"></script>
  <body>
  <script><head>
  async_test(t => {
    waitUntilCSPEventForURL(t, "https://evil.com/img.png")
      .then(t.step_func_done(e => {
        var u = new URL(e.documentURI);
        assert_equals(u.hash, "");
      }));

    window.location.hash = "should-not-appear-in-report";

    var i = document.createElement("img");
    i.src = "https://evil.com/img.png#boo";
  }, "Reported document URI does not contain fragments.");
  </head></script>
</body>
  <meta http-equiv="Content-Security-Policy" content="img-src 'none'">
</head><head>
  <script src="/resources/testharness.js"></script>
  <script src="/resources/testharnessreport.js"></script>
  <body>
  <script><head>
  async_test(t => {
    waitUntilCSPEventForURL(t, "https://evil.com/img.png")
      .then(t.step_func_done(e => {
        var u = new URL(e.documentURI);
        assert_equals(u.hash, "");
      }));

    window.location.hash = "should-not-appear-in-report";

    var i = document.createElement("img");
    i.src = "https://evil.com/img.png#boo";
  }, "Reported document URI does not contain fragments.");
  </head></script>
</body>
  <meta http-equiv="Content-Security-Policy" content="img-src 'none'">
</head><head>
  <script src="/resources/testharness.js"></script>
  <script src="/resources/testharnessreport.js"></script>
  <body>
  <script><head>
  async_test(t => {
    waitUntilCSPEventForURL(t, "https://evil.com/img.png")
      .then(t.step_func_done(e => {
        var u = new URL(e.documentURI);
        assert_equals(u.hash, "");
      }));

    window.location.hash = "should-not-appear-in-report";

    var i = document.createElement("img");
    i.src = "https://evil.com/img.png#boo";
  }, "Reported document URI does not contain fragments.");
  </head></script>
</body>
  <meta http-equiv="Content-Security-Policy" content="img-src 'none'">
</head><head>
  <script src="/resources/testharness.js"></script>
  <script src="/resources/testharnessreport.js"></script>
  <body>
  <script><head>
  async_test(t => {
    waitUntilCSPEventForURL(t, "https://evil.com/img.png")
      .then(t.step_func_done(e => {
        var u = new URL(e.documentURI);
        assert_equals(u.hash, "");
      }));

    window.location.hash = "should-not-appear-in-report";

    var i = document.createElement("img");
    i.src = "https://evil.com/img.png#boo";
  }, "Reported document URI does not contain fragments.");
  </head></script>
</body>
  <meta http-equiv="Content-Security-Policy" content="img-src 'none'">
</head><head>
  <script src="/resources/testharness.js"></script>
  <script src="/resources/testharnessreport.js"></script>
  <body>
  <script><head>
  async_test(t => {
    waitUntilCSPEventForURL(t, "https://evil.com/img.png")
      .then(t.step_func_done(e => {
        var u = new URL(e.documentURI);
        assert_equals(u.hash, "");
      }));

    window.location.hash = "should-not-appear-in-report";

    var i = document.createElement("img");
    i.src = "https://evil.com/img.png#boo";
  }, "Reported document URI does not contain fragments.");
  </head></script>
</body>
  <meta http-equiv="Content-Security-Policy" content="img-src 'none'">
</head><head>
  <script src="/resources/testharness.js"></script>
  <script src="/resources/testharnessreport.js"></script>
  <body>
  <script><head>
  async_test(t => {
    waitUntilCSPEventForURL(t, "https://evil.com/img.png")
      .then(t.step_func_done(e => {
        var u = new URL(e.documentURI);
        assert_equals(u.hash, "");
      }));

    window.location.hash = "should-not-appear-in-report";

    var i = document.createElement("img");
    i.src = "https://evil.com/img.png#boo";
  }, "Reported document URI does not contain fragments.");
  </head></script>
</body>
  <meta http-equiv="Content-Security-Policy" content="img-src 'none'">
</head><head>
  <script src="/resources/testharness.js"></script>
  <script src="/resources/testharnessreport.js"></script>
  <body>
  <script><head>
  async_test(t => {
    waitUntilCSPEventForURL(t, "https://evil.com/img.png")
      .then(t.step_func_done(e => {
        var u = new URL(e.documentURI);
        assert_equals(u.hash, "");
      }));

    window.location.hash = "should-not-appear-in-report";

    var i = document.createElement("img");
    i.src = "https://evil.com/img.png#boo";
  }, "Reported document URI does not contain fragments.");
  </head></script>
</body>
  <meta http-equiv="Content-Security-Policy" content="img-src 'none'">
</head><head>
  <script src="/resources/testharness.js"></script>
  <script src="/resources/testharnessreport.js"></script>
  <body>
  <script><head>
  async_test(t => {
    waitUntilCSPEventForURL(t, "https://evil.com/img.png")
      .then(t.step_func_done(e => {
        var u = new URL(e.documentURI);
        assert_equals(u.hash, "");
      }));

    window.location.hash = "should-not-appear-in-report";

    var i = document.createElement("img");
    i.src = "https://evil.com/img.png#boo";
  }, "Reported document URI does not contain fragments.");
  </head></script>
</body>
  <meta http-equiv="Content-Security-Policy" content="img-src 'none'">
</head><head>
  <script src="/resources/testharness.js"></script>
  <script src="/resources/testharnessreport.js"></script>
  <body>
  <script><head>
  async_test(t => {
    waitUntilCSPEventForURL(t, "https://evil.com/img.png")
      .then(t.step_func_done(e => {
        var u = new URL(e.documentURI);
        assert_equals(u.hash, "");
      }));

    window.location.hash = "should-not-appear-in-report";

    var i = document.createElement("img");
    i.src = "https://evil.com/img.png#boo";
  }, "Reported document URI does not contain fragments.");
  </head></script>
</body>
  <meta http-equiv="Content-Security-Policy" content="img-src 'none'">
</head><head>
  <script src="/resources/testharness.js"></script>
  <script src="/resources/testharnessreport.js"></script>
  <body>
  <script><head>
  async_test(t => {
    waitUntilCSPEventForURL(t, "https://evil.com/img.png")
      .then(t.step_func_done(e => {
        var u = new URL(e.documentURI);
        assert_equals(u.hash, "");
      }));

    window.location.hash = "should-not-appear-in-report";

    var i = document.createElement("img");
    i.src = "https://evil.com/img.png#boo";
  }, "Reported document URI does not contain fragments.");
  </head></script>
</body>
  <meta http-equiv="Content-Security-Policy" content="img-src 'none'">
</head><head>
  <script src="/resources/testharness.js"></script>
  <script src="/resources/testharnessreport.js"></script>
  <body>
  <script><head>
  async_test(t => {
    waitUntilCSPEventForURL(t, "https://evil.com/img.png")
      .then(t.step_func_done(e => {
        var u = new URL(e.documentURI);
        assert_equals(u.hash, "");
      }));

    window.location.hash = "should-not-appear-in-report";

    var i = document.createElement("img");
    i.src = "https://evil.com/img.png#boo";
  }, "Reported document URI does not contain fragments.");
  </head></script>
</body>
  <meta http-equiv="Content-Security-Policy" content="img-src 'none'">
</head><head>
  <body><script src="/resources/testharness.js"></script></body>
  <script src="/resources/testharnessreport.js"></script><script src="/resources/testharnessreport.js"></script><script src="/resources/testharnessreport.js"></script><script src="/resources/testharnessreport.js"></script><script src="/resources/testharnessreport.js"></script><body>
  </body><head><body><body>
  <script><head>
  async_test(t => {
    waitUntilCSPEventForURL(t, "https://evil.com/img.png")
      .then(t.step_func_done(e => {
        var u = new URL(e.documentURI);
        assert_equals(u.hash, "");
      }));

    window.location.hash = "should-not-appear-in-report";

    var i = document.createElement("img");
    i.src = "https://evil.com/img.png#boo";
  }, "Reported document URI does not contain fragments.");
  </head></script>
</body></body></head>
  <meta http-equiv="Content-Security-Policy" content="img-src 'none'">
</head><body>
</body><head><script src="/content-security-policy/support/testharness-helper.js"></script></head>
