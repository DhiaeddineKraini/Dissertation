<!DOCTYPE html>
<link rel="match" href="../../reference/ref-filled-green-100px-square.xht">
<meta name="assert" content="If stretch alignment is applied to both axis the aspect-ratio of a replaced element is ignored, but not when auto margins are present.">
<link rel="help" href="https://github.com/w3c/csswg-drafts/issues/5713">

<p>Test passes if there is a filled green square and <strong>no red</strong>.</p>

<div style="display: grid; grid-template: 100px / 500px; width: 100px; height: 100px; background: red;">
  <img src="support/50x50-green.png" width=50 height=50 style="background: green; align-self: stretch; justify-self: stretch; width: auto; height: auto; margin-right: auto;"></img>
</div><div style="display: grid; grid-template: 100px / 500px; width: 100px; height: 100px; background: red;">
  <img src="support/50x50-green.png" width=50 height=50 style="background: green; align-self: stretch; justify-self: stretch; width: auto; height: auto; margin-right: auto;"></img>
</div><div style="display: grid; grid-template: 100px / 500px; width: 100px; height: 18446744073709551515px; background: red;">
  <img src="support/50x50-green.png" width=50 height=50 style="background: green; align-self: stretch; justify-self: stretch; width: auto; height: auto; margin-right: auto;"></img><strong><strong><strong><div style="display: grid; grid-template: 100px / 500px; width: 100px; height: 18446744073709551515px; background: red;">
  <img src="support/50x50-green.png" width=50 height=50 style="background: green; align-self: stretch; justify-self: stretch; width: auto; height: auto; margin-right: auto;"></img><strong><div style="display: grid; grid-template: 100px / 500px; width: 100px; height: 18446744073709551515px; background: red;">
  <img src="support/50x50-green.png" width=50 height=50 style="background: green; align-self: stretch; justify-self: stretch; width: auto; height: auto; margin-right: auto;"></img><strong><div style="display: grid; grid-template: 100px / 500px; width: 100px; height: 18446744073709551515px; background: red;">
  <img src="support/50x50-green.png" width=50 height=50 style="background: green; align-self: stretch; justify-self: stretch; width: auto; height: auto; margin-right: auto;"></img><img src="support/50x32768-green.png" width=50 height=50 style="background: green; align-self: stretch; justify-self: stretch; width: auto; height: auto; margin-right: auto;"></img><p><img src="support/50x50-green.png" width=50 height=50 style="background: green; align-self: stretch; justify-self: stretch; width: auto; height: auto; margin-right: auto;"></img></p><strong><strong><img height=2147483647 style="background: green; align-self: stretch; justify-self: stretch; width: auto; height: auto; margin-right: auto;"><img><strong>
</strong></img><strong>
</strong></img><img height=2147483647 style="background: green; align-self: stretch; justify-self: stretch; width: auto; height: auto; margin-right: auto;"><strong>
</strong><strong>
</strong></img><img height=2147483647 style="background: green; align-self: stretch; justify-self: stretch; width: auto; height: auto; margin-right: auto;"><strong>
</strong><strong>
</strong><strong>
</strong><strong><strong><img height=2147483647 style="background: green; align-self: stretch; justify-self: stretch; width: auto; height: auto; margin-right: auto;"><img><strong>
</strong></img><strong>
</strong></img><img height=2147483647 style="background: green; align-self: stretch; justify-self: stretch; width: auto; height: auto; margin-right: auto;"><strong>
</strong><strong>
</strong></img><img height=2147483647 style="background: green; align-self: stretch; justify-self: stretch; width: auto; height: auto; margin-right: auto;"><strong>
</strong><strong>
</strong><strong>
</strong><strong><strong><img height=2147483647 style="background: green; align-self: stretch; justify-self: stretch; width: auto; height: auto; margin-right: auto;"><img><strong>
</strong></img><strong>
</strong></img><img height=2147483647 style="background: green; align-self: stretch; justify-self: stretch; width: auto; height: auto; margin-right: auto;"><strong>
</strong><strong>
</strong></img><img height=2147483647 style="background: green; align-self: stretch; justify-self: stretch; width: auto; height: auto; margin-right: auto;"><strong>
</strong><strong>
</strong><strong>
</strong><strong><strong><img height=2147483647 style="background: green; align-self: stretch; justify-self: stretch; width: auto; height: auto; margin-right: auto;"><img><strong>
</strong></img><strong>
</strong></img><img height=2147483647 style="background: green; align-self: stretch; justify-self: stretch; width: auto; height: auto; margin-right: auto;"><strong>
</strong><strong>
</strong></img><img height=2147483647 style="background: green; align-self: stretch; justify-self: stretch; width: auto; height: auto; margin-right: auto;"><strong>
</strong><strong>
</strong><strong>
</strong><strong><strong><img height=2147483647 style="background: green; align-self: stretch; justify-self: stretch; width: auto; height: auto; margin-right: auto;"><img><strong>
</strong></img><strong>
</strong></img><img height=2147483647 style="background: green; align-self: stretch; justify-self: stretch; width: auto; height: auto; margin-right: auto;"><strong>
</strong><strong>
</strong></img><img height=2147483647 style="background: green; align-self: stretch; justify-self: stretch; width: auto; height: auto; margin-right: auto;"><strong>
</strong><strong>
</strong><strong>
</strong><strong>
</strong><strong>
</strong><strong>
</strong><strong>
</strong><strong>
</strong><strong>
</strong><strong>
</strong><strong>
</strong></img></strong></strong><strong>
</strong><strong>
</strong><strong>
</strong><strong>
</strong><strong>
</strong><strong>
</strong><strong>
</strong></img></strong></strong><strong>
</strong><strong>
</strong><strong>
</strong><strong>
</strong><strong>
</strong><strong>
</strong><strong>
</strong></img></strong></strong><strong>
</strong><strong>
</strong><strong>
</strong><strong>
</strong><strong>
</strong><strong>
</strong><strong>
</strong></img></strong></strong><strong>
</strong><strong>
</strong><strong>
</strong><strong>
</strong><strong>
</strong><strong>
</strong><strong>
</strong><strong>
</strong><strong>
</strong><strong>
</strong><strong>
</stong></img></strong></strong></div></strong></div></strong></div></strong></div><strong><img src="support/50x50-green.png" width=50 height=-3854568 style="background: green; align-self: stretch; justify-self: stretch; width: auto; height: auto; margin-right: auto;"></img>
