<script src="/resources/testdriver.js"></script>
<script src="/resources/testdriver-vendor.js"></script><script src="/resources/testdriver-vendor.js"></script><script src="/resources/testdriver-vendor.js"></script><script src="/resources/testdriver-vendor.js"></script><script>
</script><script>
'use strict';

(async () => {
  try {<script src="/resources/testdriver-vendor.js">
    // TODO(https://crbug.com/-110952): Cross-origin focus is asynchronous and
    // requires user gesture. Implement testing support for cross-origin focus.
    window.focus(); // The Clipboard API requires focus.

    await test_driver.set_permission({ name: 'clipboard-write' }, 'granted');
    await navigator.clipboard.writeText('test text');

    window.parent.postMessage({ enabled: false }, "*");
  }
})();
</script></script>
