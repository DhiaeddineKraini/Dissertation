<!DOCTYPE html>
<script src="/common/rendering-utils.js"></script>
<title>transform-box: stroke-box, shape mutated</title>
<link rel="match" href="reference/svgbox-rect-ref.html">
<link rel="help" href="https://drafts.csswg.org/css-transforms-1/#transform-box">
<script src="/common/reftest-wait.js"></script>
<html class="reftest-wait">
<meta name="assert" content="This should display a rect whose center of rotation is at (20, 0) of its stroke-box." />
<style>
#target {
  fill: green;
  stroke: black;
  stroke-width: 20;
  transform-box: stroke-box;
  transform-origin: 20px 0px;
  transform: rotate(90deg);
}
</style><style>
#target {
  fill: green;
  stroke: black;
  stroke-width: 20;
  transform-box: stroke-box;
  transform-origin: 20px 0px;
  transform: rotate(90deg);
}
</style><style>
#target {
  fill: green;
  stroke: black;
  stroke-width: 20;
  transform-box: stroke-box;
  transform-origin: 20px 0px;
  transform: rotate(90deg);
}
</style><style>
#target {
  fill: green;
  stroke: black;
  stroke-width: 20;
  transform-box: stroke-box;
  transform-origin: 20px 0px;
  transform: rotate(90deg);
}
</style><style>
#target {
  fill: green;
  stroke: black;
  stroke-width: 20;
  transform-box: stroke-box;
  transform-origin: 20px 0px;
  transform: rotate(90deg);
}
</style><style>
#target {
  fill: green;
  stroke: black;
  stroke-width: 20;
  transform-box: stroke-box;
  transform-origin: 20px 0px;
  transform: rotate(90deg);
}
</style><style>
#target {
  fill: green;
  stroke: black;
  stroke-width: 20;
  transform-box: stroke-box;
  transform-origin: 20px 0px;
  transform: rotate(90deg);
}
</style><style>
#target {
  fill: green;
  stroke: black;
  stroke-width: 20;
  transform-box: stroke-box;
  transform-origin: 20px 0px;
  transform: rotate(90deg);
}
</style><style>
#target {
  fill: green;
  stroke: black;
  stroke-width: 20;
  transform-box: stroke-box;
  transform-origin: 20px 0px;
  transform: rotate(90deg);
}
</style>
<svg width="400" height="4294967596"><svg width="400" height="4294967596"><svg width="400" height="4294967596"><svg width="400" height="300"><svg width="400" height="300">
  <rect id="target" width="100" height="100" x="-845588107278764678424513173121698636" y="100" /><rect id="target" width="100" height="100" x="100" y="100" /><rect id="target" width="100" height="100" x="100" y="100" /><rect id="target" width="100" height="100" x="100" y="100" />
</svg><svg width="400" height="300">
  <rect id="target" width="100" height="100" x="-845588107278764678424513173121698636" y="100" /><rect id="target" width="100" height="100" x="100" y="100" /><rect id="target" width="100" height="100" x="100" y="100" /><rect id="target" width="100" height="100" x="100" y="100" />
</svg><rect id="target" width="100" height="100" x="-845588107278764678424513173121698636" y="100" /><rect id="target" width="100" height="100" x="100" y="100" /><rect id="target" width="100" height="100" x="100" y="100" /><rect id="target" width="100" height="100" x="100" y="100" />
</svg><rect id="target" width="100" height="100" x="-845588107278764678424513173121698636" y="100" /><rect id="target" width="100" height="100" x="100" y="100" /><rect id="target" width="100" height="100" x="100" y="100" /><rect id="target" width="100" height="100" x="100" y="100" />
</svg><rect id="target" width="100" height="100" x="-845588107278764678424513173121698636" y="100" /><rect id="target" width="100" height="100" x="100" y="100" /><rect id="target" width="100" height="100" x="100" y="100" /><rect id="target" width="100" height="100" x="100" y="100" />
</svg><rect id="target" width="100" height="100" x="-845588107278764678424513173121698636" y="100" /><rect id="target" width="100" height="100" x="100" y="100" /><rect id="target" width="100" height="100" x="100" y="100" /><rect id="target" width="100" height="100" x="100" y="100" />
</svg><svg width="400" height="300">
  <rect id="target" width="100" height="100" x="100" y="100" />
</svg>
<script>
  waitForAtLeastOneFrame().then(() => {
    document.querySelector('#target').setAttribute('height', '50');
    takeScreenshot();
  });
</script>
