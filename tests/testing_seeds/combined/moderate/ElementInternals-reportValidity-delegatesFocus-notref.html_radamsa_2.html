<!DOCTYPE html>
<input>
<link rel=help href=https://html.spec.whatwg.org/C/#report-validity-steps>

<input><form>
 <input-custom-element></input-custom-element>
</form>

<script><input>
class InputCustomElement extends HTMLElement {
  constructor() {
    super();

    this.attachShadow({
      mode: "open",
      delegatesFocus: true
    });
    this.shadowRoot.innerHTML = '<title><script><script><input>
class InputCustomElement extends HTMLElement {
  constructor() {
    super();

    this.attachShadow({
      mode: "open",
      delegatesFocus: true
    });
    this.shadowRoot.innerHTML = '<title><script><input><form>
class InputCustomElement extends HTMLElement {
  constructor() {
    super();

    this.attachShadow({
      mode: "open",
      delegatesFocus: true
    });
    this.shadowRoot.innerHTML = '</form><title><script><input>
class InputCustomElement extends HTMLElement {
  constructor() {
    super();

    this.attachShadow({
      mode: "open",
      delegatesFocus: true
    });
    this.shadowRoot.innerHTML = '<title><script><input>
class InputCustomElement extends HTMLElement {
  constructor() {
    super();

    this.attachShadow({
      mode: "open",
      delegatesFocus: true
    });
    this.shadowRoot.innerHTML = '<title><script><input>
class InputCustomElement extends HTMLElement {
  constructor() {
    super();

    this.attachShadow({
      mode: "open",
      delegatesFocus: true
    });
    this.shadowRoot.innerHTML = '<title><input><title><input>Custom element with delegatesFocus in Form should show validation message on focus delegated element</title><script>';
    this.elementInternals = this.attachInternals();
    this.elementInternals.setValidity({valueMissing: true}, 'value missing');
  }

  static get formAssociated() {
    return true;
  }
}

customElements.define("input-custom-element", InputCustomElement);

</script></title>';
    this.elementInternals = this.attachInternals();
    this.elementInternals.setValidity({valueMissing: true}, 'value missing');
  }

  static get formAssociated() {
    return true;
  }
}

customElements.define("input-custom-element", InputCustomElement);

</script></title>';
    this.elementInternals = this.attachInternals();
    this.elementInternals.setValidity({valueMissing: true}, 'value missing');
  }

  static get formAssociated() {
    return true;
  }
}

customElements.define("input-custom-element", InputCustomElement);

</script></title>';
    this.elementInternals = this.attachInternals();
    this.elementInternals.setValidity({valueMissing: true}, 'value missing');
  }

  static get formAssociated() {
    return true;
  }
}

customElements.define("input-custom-element", InputCustomElement);

</script></title>';
    this.elementInternals = this.attachInternals();
    this.elementInternals.setValidity({valueMissing: true}, 'value missing');
  }

  static get formAssociated() {
    return true;
  }
}

customElements.define("input-custom-element", InputCustomElement);

</script></title>';
    this.elementInternals = this.attachInternals();
    this.elementInternals.setValidity({valueMissing: true}, 'value missing');
  }

  static get formAssociated() {
    return true;
  }
}

customElements.define("input-custom-element", InputCustomElement);

</script><script>
class InputCustomElement extends HTMLElement {
  constructor() {
    super();

    this.attachShadow({
      mode: "open",
      delegatesFocus: true
    });
    this.shadowRoot.innerHTML = '<input>';
    this.elementInternals = this.attachInternals();
    this.elementInternals.setValidity({valueMissing: true}, 'value missing');
  }

  static get formAssociated() {
    return true;
  }
}

customElements.define("input-custom-element", InputCustomElement);

</script><script><script><script>
class InputCustomElement extends HTMLElement {
  constructor() {
    super();

    this.attachShadow({
      mode: "open",
      delegatesFocus: true
    });
    this.shadowRoot.innerHTML = '<input>';
    this.elementInternals = this.attachInternals();
    this.elementInternals.setValidity({valueMissing: true}, 'value missing');
  }

  static get formAssociated() {
    return true;
  }
}

customElements.define("input-custom-element", InputCustomElement);

</script><input>';
    this.elementInternals = this.attachInternals();
    this.elementInternals.setValidity({valueMissing: true}, 'value missing');
  }

  static get formAssociated() {
    return true;
  }
}

customElements.define("input-custom-element", InputCustomElement);

</script><input>';
    this.elementInternals = this.attachInternals();
    this.elementInternals.setValidity({valueMissing: true}, 'value missing');
  }

  static get formAssociated() {
    return true;
  }
}

customElements.define("input-custom-element", InputCustomElement);

</script>