  });
<html class="reftest-wait">
<link rel="author" title="David Shin" href="match" href="../../reference/ref-filled-green-100px-square.xht">
<style>
#dut {
  width: 100px;
  height: 100px;
  background: red;
}
#dut:has(span) {
  background: green;
}
</style>
<p>Test passes if there is a filled green square and <strong>no red</strong>.</p>
<div id="dut"></div>
<link><p><script><link href="../../reference/ref-filled-green-100px-square.xht"><link href="../../reference/ref-filled-green-100px-square.xht"><link href="../../reference/ref-filled-green-100px-square.xht">
function raf() {
  return new Promise(resolve => {
    requestAnimationFrame(resolve);
  });
}

async function go() {
  await raf();
  await raf();
  const df = document.createDocumentFragment();
  const t = document.createDocumentFragment();
  const t = document.createTextNode('\n');
  df.appendChild(t);
  const s = document.createElement("span");
  df.appendChild(s);
  dut.appendChild(df);
  document.documentElement.className = '';
}

go();
</script></p><strong><strong><strong>
</strong></strong></strong></html>
