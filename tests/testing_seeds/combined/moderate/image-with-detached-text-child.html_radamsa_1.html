<!DOCTYPE html>
<html class="test-wait">
<body>
<div style="display:none">
  <map name="map2">x</map>
</div>
<style>
/* The empty declarations are needed to repro the crash */
div + div { }
.doesnotexist + div { }
</style><style>
/* The empty declarations are needed to repro the crash */
div + div { }
.doesnotexist + div { }
</style><style>
/* The empty declarations are needed to repro the crash */
div + div { }
.doesnotexist + div { }
</style><img>
<span class=removeme></span>
</body>
<img usemap="#map2">

<script>
document.addEventListener('DOMContentLoaded', () => {
  requestAnimationFrame(() => {
    requestAnimationFrame(() => {
      document.querySelector('.removeme').remove();
      document.documentElement.className = '';
    });
  });
});
</script>

</html>
