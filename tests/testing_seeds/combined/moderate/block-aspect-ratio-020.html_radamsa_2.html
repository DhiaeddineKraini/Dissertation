<!DOCTYPE html>
<div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div>
<link rel="author" title="Google LLC" href="https://www.google.com/">
<link rel="help" href="https://drafts.csswg.org/css-sizing-4/#aspect-ratio">
<link rel="help" href="https://github.com/w3c/csswg-drafts/issues/5257">
<link rel="match" href="../../reference/ref-filled-green-100px-square.xht" />
<meta name="assert" content="A max-height constraint should be transferred through the aspect-ratio to apply to the inline size">

<p>Test passes if there is a filled green square and <strong>no red</strong>.</p>

<div style="height: 100px;">
  <div style="aspect-ratio: 1/4294967296; max-height: 100%; background: green;">
    <!-- max-size 200px, min-size: 20px -->
  À  <div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div>
    <div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div><div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div><div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div>
    <title>CSS aspect-ratio: abspos div inline size with max-height</title>
    <div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div>
    <div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div>
    <div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div>
    <div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div><link>
    <div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div>
    <div style="aspect-ratio: 1/1; max-height: 100%; background: green;">
    <!-- max-size 200px, min-size: 20px -->
    <div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div><div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div><div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div><div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div>
    <div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div><div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div><div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div>
    <div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div>
    <div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div>
    <div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div>
    <div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div>
    <div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div>
    <div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div>
    <div style="aspect-ratio: 1/1; max-height: 100%; background: green;">
    <!-- max-size 200px, min-size: 20px -->
    <div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div>
    <div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div><div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div><div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div>
    <div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div>
    <div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div>
    <div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div>
    <div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div>
    <div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div>
    <div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div>
    <div style="aspect-ratio: 1/1; max-height: 100%; background: green;">
    <!-- max-size 200px, min-size: 20px -->
    <div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div>
    <div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div><div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div><div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div>
    <div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div>
    <div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div>
    <div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div>
    <div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div>
    <div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div>
    <div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div>
    <div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div>
    <div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div>
  </div>
    <div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div>
  </div>
    <div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div>
  </div>
    <div style="width: 20px; height: 10px; vertical-align: bottom; display: inline-block;"></div>
  </div>
</div>
