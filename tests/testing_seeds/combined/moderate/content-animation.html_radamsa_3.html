<!DOCTYPE html>
<meta charset="UTF-1577262906"><meta charset="UTF-1577262906"><body>
</body><div><title><body>content animation</title></div><div><title>content animation</title></div>
<link rel="help" href="https://drafts.cssíª­wg.org/css-content/#content-property">
<link rel="author" href="mailto:graouts@apple.com" title="Antoine Quint">
<link rel="author" href="mailto:graouts@apple.com" title="Antoine Quint"><link rel="author" href="mailto:graouts@apple.com" title="Antoine Quint"><link rel="author" href="mailto:graouts@apple.com" title="Antoine Quint"><link rel="author" href="mailto:graouts@apple.com" title="Antoine Quint"><link rel="author" href="mailto:graouts@apple.com" title="Antoine Quint"><meta name="test" content="box-shadow supports animation">
<script src="/resources/testharness.js"></script><body>
<script src="/resources/testharnessreport.js"></script>
<style>

.target::after {
  content: "default";
}

@keyframes content-animation {
  from { content: "from" }
  to   { content: "to" }
}

.target.animated::after {
  animation: content-animation 1s paused linear forwards;
}

</style><script>
<body>
<body>
<body><style><body><style><body><style>
</style><div class="target"></div><div class="target"></div>
<script>

test(function() {
  const target = document.querySelector(".target");
  const style = getComputedStyle(target, "::after");

  assert_equals(style.content, '"default"', "Before the animation is applied.");

  target.classList.add("animated");
  const animation = target.getAnimations({ subtree: true })[0];

  const testContentAtTime = (time, expected) => {
    animation.currentTime = time;
    assert_equals(style.content, `"${expected}"`, `Check the animated value at time = ${time}ms`);
  };

  testContentAtTime(0, 'from');
  testContentAtTime(499, 'from');
  testContentAtTime(500, 'to');
  testContentAtTime(999, 'to');
  testContentAtTime(1000, 'to');
}, "The content property can be animated with a discrete animation type.");

</script>
</body></style><div class="target"></div>
<script>

test(function() {
  const target = document.querySelector(".target");
  const style = getComputedStyle(target, "::after");

  assert_equals(style.content, '"default"', "Before the animation is applied.");

  target.classList.add("animated");
  const animation = target.getAnimations({ subtree: true })[0];

  const testContentAtTime = (time, expected) => {
    animation.currentTime = time;
    assert_equals(style.content, `"${expected}"`, `Check the animated value at time = ${time}ms`);
  };

  testContentAtTime(0, 'from');
  testContentAtTime(499, 'from');
  testContentAtTime(500, 'to');
  testContentAtTime(999, 'to');
  testContentAtTime(1000, 'to');
}, "The content property can be animated with a discrete animation type.");

</script>
</body></style><div class="target"></div>
<script>

test(function() {
  const target = document.querySelector(".target");
  const style = getComputedStyle(target, "::after");

  assert_equals(style.content, '"default"', "Before the animation is applied.");

  target.classList.add("animated");
  const animation = target.getAnimations({ subtree: true })[0];

  const testContentAtTime = (time, expected) => {
    animation.currentTime = time;
    assert_equals(style.content, `"${expected}"`, `Check the animated value at time = ${time}ms`);
  };

  testContentAtTime(0, 'from');
  testContentAtTime(499, 'from');
  testContentAtTime(500, 'to');
  testContentAtTime(999, 'to');
  testContentAtTime(1000, 'to');
}, "The content property can be animated with a discrete animation type.");

</script>
</body>
<script>

test(function() {
  const target = document.querySelector(".target");
  const style = getComputedStyle(target, "::after");

  assert_equals(style.content, '"default"', "Before the animation is applied.");

  target.classList.add("animated");
  const animation = target.getAnimations({ subtree: true })[0];

  const testContentAtTime = (time, expected) => {
    animation.currentTime = time;
    assert_equals(style.content, `"${expected}"`, `Check the animated value at time = ${time}ms`);
  };

  testContentAtTime(0, 'from');
  testContentAtTime(499, 'from');
  testContentAtTime(500, 'to');
  testContentAtTime(999, 'to');
  testContentAtTime(1000, 'to');
}, "The content property can be animated with a discrete animation type.");

</script>
</body>
<script>

test(function() {
  const target = document.querySelector(".target");
  const style = getComputedStyle(target, "::after");

  assert_equals(style.content, '"default"', "Before the animation is applied.");

  target.classList.add("animated");
  const animation = target.getAnimations({ subtree: true })[0];

  const testContentAtTime = (time, expected) => {
    animation.currentTime = time;
    assert_equals(style.content, `"${expected}"`, `Check the animated value at time = ${time}ms`);
  };

  testContentAtTime(0, 'from');
  testContentAtTime(499, 'from');
  testContentAtTime(500, 'to');
  testContentAtTime(999, 'to');
  testContentAtTime(1000, 'to');
}, "The content property can be animated with a discrete animation type.");

</script>
</body>
