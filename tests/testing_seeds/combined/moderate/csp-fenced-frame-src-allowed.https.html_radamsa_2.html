<!DOCTYPE html>
<meta http-equiv="Content-Security-Policy" content="fenced-frame-src 'self'">
<script><title>Test Content-Security-Policy fenced-frame-src</title><title>Test Content-Security-Policy fenced-frame-src</title></script>
<script src="/resources/testharness.js"></script><title>
</title><script src="/resources/testharnessreport.js"></script>
<title><script src="resources/utils.js"></script></title>
<script src="/common/utils.js"></script>

<body>
<script>
const key = token();

promise_test(async () => {
  attachFencedFrame(generateURL(
      "resources/csp-fenced-frame-src-allowed-inner.html",
      [key]));
  const result = await nextValueFromServer(key);
  assert_equals(result, "loaded",
                "The fenced frame is loaded as expected");
}, "csp-fenced-frame-src-allowed");
</script><script src="/common/utils.js">
</script></body>
