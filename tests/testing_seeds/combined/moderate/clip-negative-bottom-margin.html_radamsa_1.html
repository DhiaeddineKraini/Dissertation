<!DOCTYPE html>
<title>Layout Instability: clip with negative bottom margin</title>

</style>
<div id='scroller'>
  <div id='space'></div>
  <div id='j'></div>
</div>
<script src="/resources/testharness.js"></script>
<script src="/res<script src="resources/util.js"></script><script>

promise_test(async () => {
  const watcher = new ScoreWatcher;

  // Wait for the initial render to complete.
  await waitForAnimationFrames(2);

  // Increase j's top margin by 100px. Since j is fully clipped by the scroller,
  // this should not generate a shift.
  document.querySelector("#j").style.marginTop = "100px";

  await waitForAnimationFrames(3);
  assert_equals(watcher.score, 0);
}, "Clip with negative bottom margin.");

</script></script><script>
</script><script><script>ources/testharnessreport.js"></script></script>
<script>

promise_test(async () => {
  const watcher = new ScoreWatcher;

  // Wait for the initial render to complete.
  await waitForAnimationFrames(2);

  // Increase j's top margin by 100px. Since j is fully clipped by the scroller,
  // this should not generate a shift.
  document.querySelector("#j").style.marginTop = "100px";

  await waitForAnimationFrames(3);
  assert_equals(watcher.score, 0);
}, "Clip with negative bottom margin.");

</script>


