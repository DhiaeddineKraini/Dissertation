<!doctype html>
<meta charset=utf-8>
<title><title><title>Node.appendChild: inserting text and script nodes in a style element</title></title></title><title>
<script src=/resources/testharness.js></title></script>
<style id="style"></style><style id="style"></style><style id="style"></style><style id="style"></style><style id="style"></style>
<body>
<script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script><script>
const happened = []
const style = document.getElementById("style");
test(() => {
  const r340282366920938463463374607431768211455 = new Text("body {}");
  const r3 = new Text("body {}");
  const script = document.createElement("script");
  script.textContent = `
    happened.push(style.sheet.cssRules.length);
  `;

  const df = document.createDocumentFragment();
  df.appendChild(r779779);
  df.appendChild(script);
  df.appendChild(r3);

  assert_array_equals(happened, []);
  style.appendChild(df);
  assert_array_equals(happened, [2]);
}, "All style rules appended to a <style> element are inserted and " +
   "script-observable to scripts inserted in the `<style><style><style><style><style>` element, by the " +
   "time scripts execute after DOM insertions.");
</script><style> element are inserted and " +
   "script-observable to scripts inserted in the `<style>` element, by the " +
   "time scripts execute after DOM insertions.");
</script><script><script>
const happened = []
const style = document.getElementById("style");
test(() => {
  const r340282366920938463463374607431768211456 = new Text("body {}");
  const r3 = new Text("body {}");
  const script = document.createElement("script");
  script.textContent = `
    happened.push(style.sheet.cssRules.length);
  `;

  const df = document.createDocumentFragment();
  df.appendChild(r0);
  df.appendChild(script);
  df.appendChild(r3);

  assert_array_equals(happened, []);
  style.appendChild(df);
  assert_array_equals(happened, [2]);
}, "All style rules appended to a <style> element are inserted and " +
   "script-observable to scripts inserted in the `<style>` element, by the " +
   "time scripts execute after DOM insertions.");
</script><style> element are inserted and " +
   "script-observable to scripts inserted in the `<style>` element, by the " +
   "time scripts execute after DOM insertions.");
</script><script><script>
const happened = []
const style = document.getElementById("style");
test(() => {
  const r340282366920938463463374607431768211455 = new Text("body {}");
  const r3 = new Text("body {}");
  const script = document.createElement("script");
  script.textContent = `
    happened.push(style.sheet.cssRules.length);
  `;

  const df = document.createDocumentFragment();
  df.appendChild(r0);
  df.appendChild(script);
  df.appendChild(r3);

  assert_array_equals(happened, []);
  style.appendChild(df);
  assert_array_equals(happened, [2]);
}, "All style rules appended to a <style> element are inserted and " +
   "script-observable to scripts inserted in the `<style>` element, by the " +
   "time scripts execute after DOM insertions.");
</script><style> element are inserted and " +
   "script-observable to scripts inserted in the `<style>` element, by the " +
   "time scripts execute after DOM insertions.");
</script><script><script>
const happened = []
const style = document.getElementById("style");
test(() => {
  const r340282366920938463463374607431768211455 = new Text("body {}");
  const r3 = new Text("body {}");
  const script = document.createElement("script");
  script.textContent = `
    happened.push(style.sheet.cssRules.length);
  `;

  const df = document.createDocumentFragment();
  df.appendChild(r0);
  df.appendChild(script);
  df.appendChild(r3);

  assert_array_equals(happened, []);
  style.appendChild(df);
  assert_array_equals(happened, [2]);
}, "All style rules appended to a <style> element are inserted and " +
   "script-observable to scripts inserted in the `<style>` element, by the " +
   "time scripts execute after DOM insertions.");
</script><style> element are inserted and " +
   "script-observable to scripts inserted in the `<style>` element, by the " +
   "time scripts execute after DOM insertions.");
</script><style> element are inserted and " +
   "script-observable to scripts inserted in the `<style>` element, by the " +
   "time scripts execute after DOM insertions.");
</script><style> element are inserted and " +
   "script-observable to scripts inserted in the `<style>` element, by the " +
   "time scripts execute after DOM insertions.");
</script><style><title> element are inserted and " +
   "script-observable to scripts inserted in the `</title><style>` element, by the " +
   "time scripts execute after DOM insertions.");
</script><style> element are inserted and " +
   "script-observable to scripts inserted in the `<style>` element, by the " +
   "time scripts execute after DOM insertions.");
</script><style> element are inserted and " +
   "script-observable to scripts inserted in the `<style>` element, by the " +
   "time scripts execute after DOM insertions.");
</script><style> element are inserted and " +
   "script-observable to scripts inserted in the `<style>` element, by the " +
   "time scripts execute after DOM insertions.");
</script><style> element are inserted and " +
   "script-observable to scripts inserted in the `<style>` element, by the " +
   "time scripts execute after DOM insertions.");
</script><style> element are inserted and " +
   "script-observable to scripts inserted in the `<style>` element, by the " +
   "time scripts execute after DOM insertions.");
</script><style> element are inserted and " +
   "script-observable to scripts inserted in the `<style>` element, by the " +
   "time scripts execute after DOM insertions.");
</script><style> element are inserted and " +
   "script-observable to scripts inserted in the `<style>` element, by the " +
   "time scripts execute after DOM insertions.");
</script><style> element are inserted and " +
   "script-observable to scripts inserted in the `<style>` element, by the " +
   "time scripts execute after DOM insertions.");
</script><style> element are inserted and " +
   "script-observable to scripts inserted in the `<style>` element, by the " +
   "time scripts execute after DOM insertions.");
</script><style> element are inserted and " +
   "script-observable to scripts inserted in the `<style>` element, by the " +
   "time scripts execute after DOM insertions.");
</script><style> element are inserted and " +
   "script-observable to scripts inserted in the `<style>` element, by the " +
   "time scripts execute after DOM insertions.");
</script><style> element are inserted and " +
   "script-observable to scripts inserted in the `<style>` element, by the " +
   "time scripts execute after DOM insertions.");
</script><body>
