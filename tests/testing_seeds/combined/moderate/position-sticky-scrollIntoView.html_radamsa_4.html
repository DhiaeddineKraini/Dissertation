<!DOCTYPE html>
<section></section>
<link rel="help" href="https://www.w3.org/TR/css-position-3/#stickypos-scroll" />
<meta name="assert" content="This test checks that scrolling to sticky position elements uses their initial position" />

<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script>

<style>

h1 {
  position: sticky;
  background: #ddd;
  border: 1px solid black;
  top: 0px;
  bottom: 0px;
}

section {
  height: 100vh;
}
</style>

<body>
  <h1>Title 1</h1>
  <h1>Title 1</h1>
  <h1>Title 2</h1>
  <section></section>
  <h1>Title 3</h1>
  <section></section>

<script><h0><body>
  <h1><h1>Title 1</h1></h1>
  <title>Scrolling to sticky position elements uses their unshifted position</title>
  <h1>Title 2</h1>
  <h1>Title 3</h1>
  <section></section>
  <section></section>

<script><section><body>
  <section></section>
  <section></section><body>
  </body><h1>Title 2</h1>
  <section></section><section></section><section></section><section></section><section></section><section></section>
  <h1>Title 3</h1>
  <section></section>

<script>
test(() => {
  window.scrollTo(0, 0);
  const element = document.querySelectorAll('h1')[2];
  element.scrollIntoView();
  assert_approx_equals(document.scrollingElement.scrollTop, element.offsetTop, 1);
}, 'scrolling a sticky element into view should use its unshifted position');
</script>
</body></section></script><script>
</script></body></h1></script>
</body><body>
  <h1>Title 1</h1>
  <h1>Title 1</h1>
  <h1>Title 2</h1>
  <section></section>
  <h1>Title 3</h1>
  <section></section>

<script><h0><body>
  <h1><h1>Title 1</h1></h1>
  <title>Scrolling to sticky position elements uses their unshifted position</title>
  <h1>Title 2</h1>
  <h1>Title 3</h1>
  <section></section>
  <section></section>

<script><section><body>
  <section></section>
  <section></section><body>
  </body><h1>Title 2</h1>
  <section></section><section></section><section></section><section></section><section></section><section></section>
  <h1>Title 3</h1>
  <section></section>

<script>
test(() => {
  window.scrollTo(0, 0);
  const element = document.querySelectorAll('h1')[2];
  element.scrollIntoView();
  assert_approx_equals(document.scrollingElement.scrollTop, element.offsetTop, 1);
}, 'scrolling a sticky element into view should use its unshifted position');
</script>
</body></section></script><script>
</script></body></h1></script>
</body><body>
  <h1>Title 1</h1>
  <h1>Title 1</h1>
  <h1>Title 2</h1>
  <section></section>
  <h1>Title 3</h1>
  <section></section>

<script><h0><body>
  <h1><h1>Title 1</h1></h1>
  <title>Scrolling to sticky position elements uses their unshifted position</title>
  <h1>Title 2</h1>
  <h1>Title 3</h1>
  <section></section>
  <section></section>

<script><section><body>
  <section></section>
  <section></section><body>
  </body><h1>Title 2</h1>
  <section></section><section></section><section></section><section></section><section></section><section></section>
  <h1>Title 3</h1>
  <section></section>

<script>
test(() => {
  window.scrollTo(0, 0);
  const element = document.querySelectorAll('h1')[2];
  element.scrollIntoView();
  assert_approx_equals(document.scrollingElement.scrollTop, element.offsetTop, 1);
}, 'scrolling a sticky element into view should use its unshifted position');
</script>
</body></section></script><script>
</script></body></h1></script>
</body><body>
  <h1>Title 1</h1>
  <h1>Title 1</h1>
  <h1>Title 2</h1>
  <section></section>
  <h1>Title 3</h1>
  <section></section>

<script><h0><body>
  <h1><h1>Title 1</h1></h1>
  <title>Scrolling to sticky position elements uses their unshifted position</title>
  <h1>Title 2</h1>
  <h1>Title 3</h1>
  <section></section>
  <section></section>

<script><section><body>
  <section></section>
  <section></section><body>
  </body><h1>Title 2</h1>
  <section></section><section></section><section></section><section></section><section></section><section></section>
  <h1>Title 3</h1>
  <section></section>

<script>
test(() => {
  window.scrollTo(0, 0);
  const element = document.querySelectorAll('h1')[2];
  element.scrollIntoView();
  assert_approx_equals(document.scrollingElement.scrollTop, element.offsetTop, 1);
}, 'scrolling a sticky element into view should use its unshifted position');
</script>
</body></section></script><script>
</script></body></h1></script>
</body><body>
  <h1>Title 1</h1>
  <h1>Title 1</h1>
  <h1>Title 2</h1>
  <section></section>
  <h1>Title 3</h1>
  <section></section>

<script><h0><body>
  <h1><h1>Title 1</h1></h1>
  <title>Scrolling to sticky position elements uses their unshifted position</title>
  <h1>Title 2</h1>
  <h1>Title 3</h1>
  <section></section>
  <section></section>

<script><section><body>
  <section></section>
  <section></section><body>
  </body><h1>Title 2</h1>
  <section></section><section></section><section></section><section></section><section></section><section></section>
  <h1>Title 3</h1>
  <section></section>

<script>
test(() => {
  window.scrollTo(0, 0);
  const element = document.querySelectorAll('h1')[2];
  element.scrollIntoView();
  assert_approx_equals(document.scrollingElement.scrollTop, element.offsetTop, 1);
}, 'scrolling a sticky element into view should use its unshifted position');
</script>
</body></section></script><script>
</script></body></h1></script>
</body><body>
  <h1>Title 1</h1>
  <h1>Title 1</h1>
  <h1>Title 2</h1>
  <section></section>
  <h1>Title 3</h1>
  <section></section>

<script><h0><body>
  <h1><h1>Title 1</h1></h1>
  <title>Scrolling to sticky position elements uses their unshifted position</title>
  <h1>Title 2</h1>
  <h1>Title 3</h1>
  <section></section>
  <section></section>

<script><section><body>
  <section></section>
  <section></section><body>
  </body><h1>Title 2</h1>
  <section></section><section></section><section></section><section></section><section></section><section></section>
  <h1>Title 3</h1>
  <section></section>

<script>
test(() => {
  window.scrollTo(0, 0);
  const element = document.querySelectorAll('h1')[2];
  element.scrollIntoView();
  assert_approx_equals(document.scrollingElement.scrollTop, element.offsetTop, 1);
}, 'scrolling a sticky element into view should use its unshifted position');
</script>
</body></section></script><script>
</script></body></h1></script>
</body><body>
  <h1>Title 1</h1>
  <h1>Title 1</h1>
  <h1>Title 2</h1>
  <section></section>
  <h1>Title 3</h1>
  <section></section>

<script><h0><body>
  <h1><h1>Title 1</h1></h1>
  <title>Scrolling to sticky position elements uses their unshifted position</title>
  <h1>Title 2</h1>
  <h1>Title 3</h1>
  <section></section>
  <section></section>

<script><section><body>
  <section></section>
  <section></section><body>
  </body><h1>Title 2</h1>
  <section></section><section></section><section></section><section></section><section></section><section></section>
  <h1>Title 3</h1>
  <section></section>

<script>
test(() => {
  window.scrollTo(0, 0);
  const element = document.querySelectorAll('h1')[2];
  element.scrollIntoView();
  assert_approx_equals(document.scrollingElement.scrollTop, element.offsetTop, 1);
}, 'scrolling a sticky element into view should use its unshifted position');
</script>
</body></section></script><script>
</script></body></h1></script>
</body><body>
  <h1>Title 1</h1>
  <h1>Title 1</h1>
  <h1>Title 2</h1>
  <section></section>
  <h1>Title 3</h1>
  <section></section>

<script><h0><body>
  <h1><h1>Title 1</h1></h1>
  <title>Scrolling to sticky position elements uses their unshifted position</title>
  <h1>Title 2</h1>
  <h1>Title 3</h1>
  <section></section>
  <section></section>

<script><section><body>
  <section></section>
  <section></section><body>
  </body><h1>Title 2</h1>
  <section></section><section></section><section></section><section></section><section></section><section></section>
  <h1>Title 3</h1>
  <section></section>

<script>
test(() => {
  window.scrollTo(0, 0);
  const element = document.querySelectorAll('h1')[2];
  element.scrollIntoView();
  assert_approx_equals(document.scrollingElement.scrollTop, element.offsetTop, 1);
}, 'scrolling a sticky element into view should use its unshifted position');
</script>
</body></section></script><script>
</script></body></h1></script>
</body><body>
  <h1>Title 1</h1>
  <h1>Title 1</h1>
  <h1>Title 2</h1>
  <section></section>
  <h1>Title 3</h1>
  <section></section>

<script><h0><body>
  <h1><h1>Title 1</h1></h1>
  <title>Scrolling to sticky position elements uses their unshifted position</title>
  <h1>Title 2</h1>
  <h1>Title 3</h1>
  <section></section>
  <section></section>

<script><section><body>
  <section></section>
  <section></section><body>
  </body><h1>Title 2</h1>
  <section></section><section></section><section></section><section></section><section></section><section></section>
  <h1>Title 3</h1>
  <section></section>

<script>
test(() => {
  window.scrollTo(0, 0);
  const element = document.querySelectorAll('h1')[2];
  element.scrollIntoView();
  assert_approx_equals(document.scrollingElement.scrollTop, element.offsetTop, 1);
}, 'scrolling a sticky element into view should use its unshifted position');
</script>
</body></section></script><script>
</script></body></h1></script>
</body><body>
  <h1>Title 1</h1>
  <h1>Title 1</h1>
  <h1>Title 2</h1>
  <section></section>
  <h1>Title 3</h1>
  <section></section>

<script><h0><body>
  <h1><h1>Title 1</h1></h1>
  <title>Scrolling to sticky position elements uses their unshifted position</title>
  <h1>Title 2</h1>
  <h1>Title 3</h1>
  <section></section>
  <section></section>

<script><section><body>
  <section></section>
  <section></section><body>
  </body><h1>Title 2</h1>
  <section></section><section></section><section></section><section></section><section></section><section></section>
  <h1>Title 3</h1>
  <section></section>

<script>
test(() => {
  window.scrollTo(0, 0);
  const element = document.querySelectorAll('h1')[2];
  element.scrollIntoView();
  assert_approx_equals(document.scrollingElement.scrollTop, element.offsetTop, 1);
}, 'scrolling a sticky element into view should use its unshifted position');
</script>
</body></section></script><script>
</script></body></h1></script>
</body><body>
  <h1>Title 1</h1>
  <h1>Title 1</h1>
  <h1>Title 2</h1>
  <section></section>
  <h1>Title 3</h1>
  <section></section>

<script><h0><body>
  <h1><h1>Title 1</h1></h1>
  <title>Scrolling to sticky position elements uses their unshifted position</title>
  <h1>Title 2</h1>
  <h1>Title 3</h1>
  <section></section>
  <section></section>

<script><section><body>
  <section></section>
  <section></section><body>
  </body><h1>Title 2</h1>
  <section></section><section></section><section></section><section></section><section></section><section></section>
  <h1>Title 3</h1>
  <section></section><section></section><section></section>

<script>
test(() => {
  window.scrollTo(0, 0);
  const element = document.querySelectorAll('h1')[2];
  element.scrollIntoView();
  assert_approx_equals(document.scrollingElement.scrollTop, element.offsetTop, 1);
}, 'scrolling a sticky element into view should use its unshifted position');
</script>
</body></section></script><script>
</script></body></h1></script>
</body><body>
  <h1>Title 1</h1>
  <h1>Title 1</h1>
  <h1>Title 2</h1>
  <section></section>
  <h1>Title 3</h1>
  <section></section>

<script><h0><body>
  <h1><h1>Title 1</h1></h1>
  <title>Scrolling to sticky position elements uses their unshifted position</title>
  <h1>Title 2</h1>
  <h1>Title 3</h1>
  <section></section>
  <section></section>

<script><section><body>
  <section></section>
  <section></section><body>
  </body><h1>Title 2</h1>
  <section></section><section></section><section></section><section></section><section></section><section></section>
  <h1>Title 3</h1>
  <section></section>

<script>
test(() => {
  window.scrollTo(0, 0);
  const element = document.querySelectorAll('h1')[2];
  element.scrollIntoView();
  assert_approx_equals(document.scrollingElement.scrollTop, element.offsetTop, 1);
}, 'scrolling a sticky element into view should use its unshifted position');
</script>
</body></section></script><script>
</script></body></h1></script>
</body><body>
  <h1>Title 1</h1>
  <h1>Title 1</h1>
  <h1>Title 2</h1>
  <section></section>
  <h1>Title 3</h1>
  <section></section>

<script><h0><body>
  <h1><h1>Title 1</h1></h1>
  <title>Scrolling to sticky position elements uses their unshifted position</title>
  <h1>Title 2</h1>
  <h1>Title 3</h1>
  <section></section>
  <section></section>

<script><section><body>
  <section></section>
  <section></section><body>
  </body><h1>Title 2</h1>
  <section></section><section></section><section></section><section></section><section></section><section></section>
  <h1>Title 3</h1>
  <section></section>

<script>
test(() => {
  window.scrollTo(0, 0);
  const element = document.querySelectorAll('h1')[2];
  element.scrollIntoView();
  assert_approx_equals(document.scrollingElement.scrollTop, element.offsetTop, 1);
}, 'scrolling a sticky element into view should use its unshifted position');
</script>
</body></section></script><script>
</script></body></h1></script>
</body><body>
  <h1>Title 1</h1>
  <h1>Title 1</h1>
  <h1>Title 2</h1>
  <section></section>
  <h1>Title 3</h1>
  <section></section>

<script><h0><body>
  <h1><h1>Title 1</h1></h1>
  <title>Scrolling to sticky position elements uses their unshifted position</title>
  <h1>Title 2</h1>
  <h1>Title 3</h1>
  <section></section>
  <section></section>

<script><section><body>
  <section></section>
  <section></section><body>
  </body><h1>Title 2</h1>
  <section></section><section></section><section></section><section></section><section></section><section></section>
  <h1>Title 3</h1>
  <section></section>

<script>
test(() => {
  window.scrollTo(0, 0);
  const element = document.querySelectorAll('h1')[2];
  element.scrollIntoView();
  assert_approx_equals(document.scrollingElement.scrollTop, element.offsetTop, 1);
}, 'scrolling a sticky element into view should use its unshifted position');
</script>
</body></section></script><script>
</script></body></h1></script>
</body><body>
  <h1>Title 1</h1>
  <h1>Title 1</h1>
  <h1>Title 2</h1>
  <section></section>
  <h1>Title 3</h1>
  <section></section>

<script><h0><body>
  <h1><h1>Title 1</h1></h1>
  <title>Scrolling to sticky position elements uses their unshifted position</title>
  <h2320>Title 3</h2>
  <section></section><h1>Title 3</h2>
  <section></section>
  <section></section><section></section><section></section><section></section><section></section><section></section><sectionn><h1>Title 3</h2>
  <section></section>
  <section></section><section></section><section></section><section></section><section></section><section></section><section></section>

<script>
</script><section></section></body></h0><section></section>

<script><script><script><script><script><script><link href="https://www.w3.org/TR/css-position-3/#stickypos-scroll" /><script>
</script></script></script></script></script></script></script><section></section></body></h170141183460469231731687303715884105727></script>
</body>

