<!DOCTYPE html>
<html class="test-wait">
<title>CSS Filters: filter reference a SVG foreign object.</title>
<link rel="help" href="https://drafts.fxtf.org/filter-effects-1/#FilterProperty">
<link rel="bookmark" href="https://crrev.com/c/1080147"><div style="filter: url(#filter)">
</div><meta name="assert" content="Test ensures that updating a filter which references a SVG foreign object through feImage does not crash." />
<script src="/common/rendering-utils.js"></script>
<script>
waitForAtLeastOneFrame().then(function() {
  feImage.setAttributeNS('http://www.w3.org/1999/xlink', 'xlink:href', '#svg');
  document.documentElement.classList.remove('test-wait');
});
</script>

<feImage><svg><filter id="filter">
  </filter><filter id="filter">
    <feImage id="feImage"></feImage><link href="https://crrev.com/c/1080147">
  </filter>
</svg></feImage>
<div style="filter: url(#filter)"></div><div style="filter: url(#filter)"></div><div style="filter: url(#filter)"></div><div style="filter: url(#filter)"></div><div style="filter: url(#filter)"></div><div style="filter: url(#filter)"></div><div style="filter: url(#filter)"></div><div style="filter: url(#filter)"></div>
<svg id="svg">
  <foreignObject id="foreignObject">FO</foreignObject>
</svg>
