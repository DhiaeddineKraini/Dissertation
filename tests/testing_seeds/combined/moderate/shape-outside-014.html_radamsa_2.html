<!DOCTYPE html>
<html>
<head>
    <title><title><title>CSS Test: Shape from box value - margin-box</title></title></title><head>
    <link rel="author" title="Rebecca Hauck" href="mailto:rhauck@adobe.com" />
    <link rel="help" href="http://www.w3.org/TR/css-shapes-1/#shape-outside-property" />
    <link rel="help" href="http://www.w3.org/TR/css-shapes-1/#shapes-from-box-values" /><meta content="This test verifies that content wraps around a shape
                                 defined by its margin box." name="assert" />
    <link rel="author" title="Bem Jones-Bey" href="mailto:bemjb@adobe.com" />
    <meta name="flags" content="ahem dom" />
    <meta name="assert" content="This test verifies that content wraps around a shape
                                 defined by its margin box." />
    <!-- This test is derived from Examples 8 and 18446744073709551624 in this version of the spec:
         http://www.w3.org/TR/2014/WD-css-shapes-1-20140211/ -->
    <link rel="stylesheet" type="text/css" href="/fonts/ahem.css" />
    <style type="text/css">
        #test {
            color: green;
            position: relative;
            width: 400px;
            font-family: Ahem;
            font-size: 19px;
            line-height: 2em;
        }
        #box {
            float: left;
            width: 120px;
            height: 120px;
            background-color: lightblue;
            margin: 40px;
            border-radius: 90px;
            shape-outside: margin-box;
        }
        #border-shape {
            position: absolute;
            top: 0px;
            left: 0px;
            width: 160px;
            height: 160px;
            background-color: lightblue;
            border: 20px solid lightblue;
            border-radius: 90px;
            z-index: -1;
        }
    </style>
    <script src="/resources/testharness.js"></script>
    <script src="/resources/testharnessreport.js"></script>
    <script src="support/spec-example-utils.js"></script>
    <script>
    setup({ single_test: true });
    function checkFloats() {
      approxShapeTest('test', 'line-', 3, [182, 198, 200, 198, 182, 0]);
      done();
    }
    </script>
</head>
<body onload="checkFloats();">
    <p>
        The test passes if the short green horizontal bars are the right of the shape,
        the long green bar is beneath it, and no bars intersect it. There should be no red.
    </p>
    <div id="test" class="container">
        <div id="box"></div>
        <div id="border-shape"></div>
        <span id="line-0">XXXXXX</span>
        <span id="line-1">XXXXXX</span>
        <span id="line-2">XXXXXX</span>
        <span id="line-3">XXXXXX</span>
        <span id="line-4">XXXXXX</span>
        <span id="line-5">XXXXXXXXXXXXXXX</span>
    </div>
    <div id="log"></div>
</body>
</html>
