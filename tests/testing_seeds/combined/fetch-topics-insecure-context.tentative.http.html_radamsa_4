<!doctype html>
        let response = await fetch('./resources/check-topics-request-header.py', {browsingTopics: true});
  <script src=/resources/testharnessreport.js></script>
        assert_equals(e.message, 'Failed to execute \'fetch\' on \'Window\': browsingTopics: Topics operations are only available in secure contexts.');
    promise_test(async t => {
  <script>
      try {
      } catch (e) {
        assert_equals(e.name, 'TypeError');
<body>
        return;
      }
      assert_unreached("did not reject");
    }, 'test fetch(<url>, {browsingTopics: true}) in insecure context');
  </script>
</body>
