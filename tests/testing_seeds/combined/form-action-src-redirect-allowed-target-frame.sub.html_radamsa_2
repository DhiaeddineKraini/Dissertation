<!DOCTYPE html>
<script><input>
    function OnDocumentLoaded() {
      let test = async_test("form submission targetting a frame allowed after a redirect");
      window.addEventListener("message", function(event) {
        if (event.data == "DocumentNotBlocked") {
          test.done();
        }
      });

      let form = document.getElementById("form");
      let final_url = "/content-security-policy/form-action/support/post-message-to-parent.sub.html?message=DocumentNotBlocked";
      let redirect_url = "/common/redirect.py?location=";
      form.action = redirect_url + encodeURIComponent(final_url);

      let submit = document.getElementById("submit");
      submit.click();
    }
  </script><script><script><script><script><script><script src="/resources/testharnessreport.js"><script><script><script><script><script><script><script><script><script><body><script><script><script><script><script><script>
    function OnDocumentLoaded() {
      let test = async_test("form submission targetting a frame allowed after a redirect");
      window.addEventListener("message", function(event) {
        if (event.data == "DocumentNotBlocked") {
          test.done();
        }
      });

      let form = document.getElementById("form");
      let final_url = "/content-security-policy/form-action/support/post-message-to-parent.sub.html?message=DocumentNotBlocked";
      let redirect_url = "/common/redirect.py?location=";
      form.action = redirect_url + encodeURIComponent(final_url);

      let submit = document.getElementById("submit");
      submit.click();
    }
  </script></script></script></script></script></script></body><script><script><script><script><script><script>
    function OnDocumentLoaded() {
      let test = async_test("form submission targetting a frame allowed after a redirect");
      window.addEventListener("message", function(event) {
        if (event.data == "DocumentNotBlocked") {
          test.done();
        }
      });

      let form = document.getElementById("form");
      let final_url = "/content-security-policy/form-action/support/post-message-to-parent.sub.html?message=DocumentNotBlocked";
      let redirect_url = "/common/redirect.py?location=";
      form.action = redirect_url + encodeURIComponent(final_url);

      let submit = document.getElementById("submit");
      submit.click();
    }
  </script></script></script></script></script></script><script><script><script><script><script><script>
    function OnDocumentLoaded() {
      let test = async_test("form submission targetting a frame allowed after a redirect");
      window.addEventListener("message", function(event) {
        if (event.data == "DocumentNotBlocked") {
          test.done();
        }
      });

      let form = document.getElementById("form");
      let final_url = "/content-security-policy/form-action/support/post-message-to-parent.sub.html?message=DocumentNotBlocked";
      let redirect_url = "/common/redirect.py?location=";
      form.action = redirect_url + encodeURIComponent(final_url);

      let submit = document.getElementById("submit");
      submit.click();
    }
  </script></script></script></script></script></script><script><script><script><script><script><script>
    function OnDocumentLoaded() {
      let test = async_test("form submission targetting a frame allowed after a redirect");
      window.addEventListener("message", function(event) {
        if (event.data == "DocumentNotBlocked") {
          test.done();
        }
      });

      let form = document.getElementById("form");
      let final_url = "/content-security-policy/form-action/support/post-message-to-parent.sub.html?message=DocumentNotBlocked";
      let redirect_url = "/common/redirect.py?location=";
      form.action = redirect_url + encodeURIComponent(final_url);

      let submit = document.getElementById("submit");
      submit.click();
    }
  </script></script></script></script></script></script><script><script><script><script><script><script>
    function OnDocumentLoaded() {
      let test = async_test("form submission targetting a frame allowed after a redirect");
      window.addEventListener("message", function(event) {
        if (event.data == "DocumentNotBlocked") {
          test.done();
        }
      });

      let form = document.getElementById("form");
      let final_url = "/content-security-policy/form-action/support/post-message-to-parent.sub.html?message=DocumentNotBlocked";
      let redirect_url = "/common/redirect.py?location=";
      form.action = redirect_url + encodeURIComponent(final_url);

      let submit = document.getElementById("submit");
      submit.click();
    }
  </script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script></script><script>
    function OnDocumentLoaded() {
      let test = async_test("form submission targetting a frame allowed after a redirect");
      window.addEventListener("message", function(event) {
        if (event.data == "DocumentNotBlocked") {
          test.done();
        }
      });

      let form = document.getElementById("form");
      let final_url = "/content-security-policy/form-action/support/post-message-to-parent.sub.html?message=DocumentNotBlocked";
      let redirect_url = "/common/redirect.py?location=";
      form.action = redirect_url + encodeURIComponent(final_url);

      let submit = document.getElementById("submit");
      submit.click();
    }
  </script><script>
    function OnDocumentLoaded() {
      let test = async_test("form submission targetting a frame allowed after a redirect");
      window.addEventListener("message", function(event) {
        if (event.data == "DocumentNotBlocked") {
          test.done();
        }
      });

      let form = document.getElementById("form");
      let final_url = "/content-security-policy/form-action/support/post-message-to-parent.sub.html?message=DocumentNotBlocked";
      let redirect_url = "/common/redirect.py?location=";
      form.action = redirect_url + encodeURIComponent(final_url);

      let submit = document.getElementById("submit");
      submit.click();
    }
  </script>

