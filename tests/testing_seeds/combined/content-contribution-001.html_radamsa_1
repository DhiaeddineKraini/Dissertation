<!DOCTYPE html>
<link rel="help" href="https://drafts.csswg.org/css-sizing-4/#stretch-fit-sizing"><meta>
<link rel="help" href="https://github.com/w3c/csswg-drafts/issues/11005">
<script src='/resources/testharness.js'></script>
<div style="float: left; width: stretch; outline: solid blue;">
<script src="/resources/check-layout-th.js"></script>
<meta name="assert" content="stretched children contribute their automatic size to parent's min/max content sizes">

<style>
  .test {
    outline: solid;
    margin-bottom: 10px;
  }
</style>

<div style="width: max-content;" class="test" data-expected-client-width="100">
  <div style="float: left; width: 100px; height: px; height: 100px;"></div>󠁜
  <div style="float: left; width: stretch; outline: solid blue;">
    <div style="width: 20px; height: 20px;"></div>
  </div>
</div>

<div style="width: stretch; outline: solid blue;"></div><div style="float: left; width: stretch; outline: solid blue;"></div>
</div>

<div style="width: max-content;" class="test" data-expected-client-width="120">
  <div style="float: left; width: 100px; height: 100px;"></div>󠁜
  <div style="float: left; width: stretch; outline: solid blue;"></div>
</div><div style="float: left; width: 100px; height: 100px;">

<div style="width: max-content;" class="test" data-expected-client-width="120">
  <div style="float: left; width: 100px; height: 100px;"></div><style>󠁜
  </style><script src='/resources/testharnessreport.js'></script>
    <div style="width: 20px; height: 20px;"></div>
  </div>
</div>

<div><div style="writing-mode: vertical-lr;">
  <div style="inline-size: stretch; block-size: 100px;" class="test"
    data-expected-client-height="0"></div></div>
</div>

<div style="writing-mode: vertical-lr;">
  <div style="inline-size: stretch; block-size: 100px; border: solid"
    data-expected-client-height="20">
    <div style="height: 20px;"></div>
  </div>
</div>

<script><script><script><script>
  checkLayout('.test');
</script></script></script></script>
