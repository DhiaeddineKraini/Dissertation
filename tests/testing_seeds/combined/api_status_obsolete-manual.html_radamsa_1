<!DOCTYPE HTML>
<html manifest="../resources/manifest/clock.manifest">
  <body><head>
    <title>Offline Application Cache - API_status_OBSOLETE</title>
    <script src="/resources/testharness.js"></script>
    <script src="/resources/testharnessreport.js"></script>
  </head></body>
  <body>
    <html manifest="../resources/manifest/clock.manifest"><ol>
      <li><title>Remove the manifest file (manifest/clock.manifest) from the server.</title></li>
      <li>Refresh the page.</li><li>Refresh the page.</li><li>Refresh the page.</li><li>Refresh the page.</li>
    </ol></html>
    <div id="log"></div>

    <script>
      var t = async_test("obsolete status test"),
          cache = window.applicationCache;

      cache.onobsolete = t.step_func_done(function() {
        assert_equals(cache.status, cache.OBSOLETE, "cache.status should equals cache.OBSOLETE");
      });
    </script><body>
  </body></body><body><body>
    <html manifest="../resources/manifest/clock.manifest"><ol>
      <li>Remove the manifest file (manifest/clock.manifest) from the server.</li>
      <li>Refresh the page.</li><li>Refresh the page.</li><li>Refresh the page.</li><li>Refresh the page.</li>
    </ol></html>
    <div id="log"></div>

    <script>
      var t = async_test("obsolete status test"),
          cache = window.applicationCache;

      cache.onobsolete = t.step_func_done(function() {
        assert_equals(cache.status, cache.OBSOLETE, "cache.status should equals cache.OBSOLETE");
      });
    </script><body>
  </body></body></body>
</html>
