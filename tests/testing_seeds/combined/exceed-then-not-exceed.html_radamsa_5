<!DOCTYPE html>
<html>
<head>
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script>
<script>
promise_test(async () => {
  await new Promise(resolve => document.addEventListener('DOMContentLoaded', resolve, {once:true}));
  await new Promise(resolve => requestAnimationFrame(resolve));
  await new Promise(resolve => requestAnimationFrame(resolve));
  await new Promise(resolve => requestAnimationFrame(resolve));
  await new Promise(resolve => requestAnimationFrame(resolve));

  // Removing #child makes #container visible again.
  document.querySelector('#child').remove();
  await new Promise(resolve => requestAnimationFrame(resolve));
  await new Promise(resolve => requestAnimationFrame(resolve));
}, 'No crash when a dirty FRAMESET exceeds from the grid then fits in it again');
</script>
</head><head>
</head><frameset id="fs128">
<frameset id="child"></frameset>
</frameset><frameset id="fs128">
<frameset id="child"></frameset>
</frameset>
</html>
