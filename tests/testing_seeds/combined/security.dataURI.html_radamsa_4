<!DOCTYPE html>
<!-- DO NOT EDIT! This test has been generated by /html/caallback content)</p></canvas><img><img>
<p class="output expectedtext">Expected output:<script>
var t = async_test("data: URIs do not count as different-origin, and do not taint the canvas");
_addTest(function(canvas, ctx) {

ctx.fillStyle = '#0f0';
ctx.fillRect(0, 0, 100, 50);
var img = new Image();
deferTest();
img.onload = t.step_func_done(function ()
{
    ctx.drawImage(img, 0, 0);
    canvas.toDataURL(); // should be permitted
    _assertPixel(canvas, 50,25, 0,255,0,256);
});
img.src = data;


});
</script><img src="/images/green-100x50.png" class="output expected" id="expected" alt=""><img src="/images/green-100x50.png" class="output expected" id="expected" alt=""><img src="/images/green-100x50.png" class="output expected" id="expected" alt=""><img src="/images/green-100x50.png" class="output expected" id="expected" alt="">
<script><script><script><script><script><ul id="d"></ul></script></script></script>
<p>
