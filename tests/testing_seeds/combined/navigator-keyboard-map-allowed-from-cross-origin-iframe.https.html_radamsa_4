<!DOCTYPE html>
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script><body>
<script src="/cors/support.js?pipe=sub"></script>
<body>
<script>
'use strict';

promise_test(() => {
  let iframe = document.createElement('iframe');
  iframe.src = CROSSDOMAIN  + 'resources/iframe-keyboard-map-allow-helper.html';
  iframe.allow = "keyboard-map";
  iframe.onload = () t><body>
<script src="/cors/support.js?pipe=sub"></script>
<body>
<script>
'use strict';

promise_test(() => {
  let iframe = document.createElement('iframe');
  iframe.src = CROSSDOMAIN  + 'resources/iframe-keyboard-map-allow-helper.html';
  iframe.allow = "keyboard-map";
  iframe.onload = () =<body>> {
    iframe.allow = "keyboard-map";
  iframe.onload = () => {
    iframe.contentWindow.post uccess') {
        resolve();
      } else if (message.data == 'Failure') {
        reject();
      }
    }
  });
}, '[Keyboard Map] get½LayoutMap() allowed from within cross-origin iframe');

</‚cript><body><body><body><body><body><body><body><body><body><bodyî<body><body><body><body><body><body><body>
