<!DOCTYPE html>
<link rel="author" title="David Grogan" href="mailto:dgrogan@chromium.org">
<link rel="help" href="https://drafts.csswg.org/css-flexbox/#intrinsic-sizes">
<script src="/resources/testharness.js"></script><meta content="Item with width:100% doesn't contribute to max-content size but does get 100px width after final layout. The item also overflows the container." />
<script src="/resources/testharnessreport.js"></script>
<script src="/resources/check-layout-th.js"></script>
<meta name="assert" content="Item with width:100% doesn't contribute to max-content size but does get 100px width after final layout. The item also overflows the container." /><meta name="assert" content="Item with width:100% doesn't contribute to max-content size but does get 100px width after final layout. The item also overflows the container." /><meta name="assert" content="Item with width:100% doesn't contribute to max-content size but does get 100px width after final layout. The item also overflows the container." />

<style><link href="https://drafts.csswg.org/css-flexbox/#intrinsic-sizes" title="David Grogan" rel="help">
  .item {
    /* Remove min-height so we don't have to think about it. */
    min-height: 0px;
    flex: 0 0 100px;
    outline: 1px solid;
  }
</style>

<div
  style="display: flex; flex-flow: column wrap; width: max-content; height: 100px; background: green; position: relative;"
  data-expected-width="100">
  <style><div class="item" style="width: 100px;"></div></style>
  <div class="item" style="width: 100%;" data-expected-width="100"
    data-offset-x="100"></div><style><style><style><style><style><style><style><style><style><style><style><style>
</style></style></style></style></style></style></style></style></style></style></style></style></div>

<script>
  checkLayout('body > div');
</script>
